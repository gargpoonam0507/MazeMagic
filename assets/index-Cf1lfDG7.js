var D1=Object.defineProperty;var km=r=>{throw TypeError(r)};var L1=(r,a,l)=>a in r?D1(r,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):r[a]=l;var qt=(r,a,l)=>L1(r,typeof a!="symbol"?a+"":a,l),Qc=(r,a,l)=>a.has(r)||km("Cannot "+l);var Y=(r,a,l)=>(Qc(r,a,"read from private field"),l?l.call(r):a.get(r)),mt=(r,a,l)=>a.has(r)?km("Cannot add the same private member more than once"):a instanceof WeakSet?a.add(r):a.set(r,l),rt=(r,a,l,f)=>(Qc(r,a,"write to private field"),f?f.call(r,l):a.set(r,l),l),Ze=(r,a,l)=>(Qc(r,a,"access private method"),l);var hs=(r,a,l,f)=>({set _(p){rt(r,a,p,l)},get _(){return Y(r,a,f)}});(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))f(p);new MutationObserver(p=>{for(const u of p)if(u.type==="childList")for(const s of u.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&f(s)}).observe(document,{childList:!0,subtree:!0});function l(p){const u={};return p.integrity&&(u.integrity=p.integrity),p.referrerPolicy&&(u.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?u.credentials="include":p.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function f(p){if(p.ep)return;p.ep=!0;const u=l(p);fetch(p.href,u)}})();function L0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Xc={exports:{}},Pa={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bm;function I1(){if(Bm)return Pa;Bm=1;var r=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function l(f,p,u){var s=null;if(u!==void 0&&(s=""+u),p.key!==void 0&&(s=""+p.key),"key"in p){u={};for(var c in p)c!=="key"&&(u[c]=p[c])}else u=p;return p=u.ref,{$$typeof:r,type:f,key:s,ref:p!==void 0?p:null,props:u}}return Pa.Fragment=a,Pa.jsx=l,Pa.jsxs=l,Pa}var Um;function z1(){return Um||(Um=1,Xc.exports=I1()),Xc.exports}var A=z1(),Kc={exports:{}},at={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm;function H1(){if(Dm)return at;Dm=1;var r=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),o=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function _(k){return k===null||typeof k!="object"?null:(k=v&&k[v]||k["@@iterator"],typeof k=="function"?k:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,M={};function C(k,ae,T){this.props=k,this.context=ae,this.refs=M,this.updater=T||S}C.prototype.isReactComponent={},C.prototype.setState=function(k,ae){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,ae,"setState")},C.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function I(){}I.prototype=C.prototype;function U(k,ae,T){this.props=k,this.context=ae,this.refs=M,this.updater=T||S}var j=U.prototype=new I;j.constructor=U,E(j,C.prototype),j.isPureReactComponent=!0;var W=Array.isArray,V={H:null,A:null,T:null,S:null,V:null},L=Object.prototype.hasOwnProperty;function D(k,ae,T,F,de,ke){return T=ke.ref,{$$typeof:r,type:k,key:ae,ref:T!==void 0?T:null,props:ke}}function G(k,ae){return D(k.type,ae,void 0,void 0,void 0,k.props)}function ne(k){return typeof k=="object"&&k!==null&&k.$$typeof===r}function ve(k){var ae={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(T){return ae[T]})}var _e=/\/+/g;function B(k,ae){return typeof k=="object"&&k!==null&&k.key!=null?ve(""+k.key):ae.toString(36)}function le(){}function we(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(le,le):(k.status="pending",k.then(function(ae){k.status==="pending"&&(k.status="fulfilled",k.value=ae)},function(ae){k.status==="pending"&&(k.status="rejected",k.reason=ae)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function he(k,ae,T,F,de){var ke=typeof k;(ke==="undefined"||ke==="boolean")&&(k=null);var ce=!1;if(k===null)ce=!0;else switch(ke){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(k.$$typeof){case r:case a:ce=!0;break;case g:return ce=k._init,he(ce(k._payload),ae,T,F,de)}}if(ce)return de=de(k),ce=F===""?"."+B(k,0):F,W(de)?(T="",ce!=null&&(T=ce.replace(_e,"$&/")+"/"),he(de,ae,T,"",function(fe){return fe})):de!=null&&(ne(de)&&(de=G(de,T+(de.key==null||k&&k.key===de.key?"":(""+de.key).replace(_e,"$&/")+"/")+ce)),ae.push(de)),1;ce=0;var H=F===""?".":F+":";if(W(k))for(var N=0;N<k.length;N++)F=k[N],ke=H+B(F,N),ce+=he(F,ae,T,ke,de);else if(N=_(k),typeof N=="function")for(k=N.call(k),N=0;!(F=k.next()).done;)F=F.value,ke=H+B(F,N++),ce+=he(F,ae,T,ke,de);else if(ke==="object"){if(typeof k.then=="function")return he(we(k),ae,T,F,de);throw ae=String(k),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return ce}function X(k,ae,T){if(k==null)return k;var F=[],de=0;return he(k,F,"","",function(ke){return ae.call(T,ke,de++)}),F}function ie(k){if(k._status===-1){var ae=k._result;ae=ae(),ae.then(function(T){(k._status===0||k._status===-1)&&(k._status=1,k._result=T)},function(T){(k._status===0||k._status===-1)&&(k._status=2,k._result=T)}),k._status===-1&&(k._status=0,k._result=ae)}if(k._status===1)return k._result.default;throw k._result}var $=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function Oe(){}return at.Children={map:X,forEach:function(k,ae,T){X(k,function(){ae.apply(this,arguments)},T)},count:function(k){var ae=0;return X(k,function(){ae++}),ae},toArray:function(k){return X(k,function(ae){return ae})||[]},only:function(k){if(!ne(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},at.Component=C,at.Fragment=l,at.Profiler=p,at.PureComponent=U,at.StrictMode=f,at.Suspense=o,at.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,at.__COMPILER_RUNTIME={__proto__:null,c:function(k){return V.H.useMemoCache(k)}},at.cache=function(k){return function(){return k.apply(null,arguments)}},at.cloneElement=function(k,ae,T){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var F=E({},k.props),de=k.key,ke=void 0;if(ae!=null)for(ce in ae.ref!==void 0&&(ke=void 0),ae.key!==void 0&&(de=""+ae.key),ae)!L.call(ae,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&ae.ref===void 0||(F[ce]=ae[ce]);var ce=arguments.length-2;if(ce===1)F.children=T;else if(1<ce){for(var H=Array(ce),N=0;N<ce;N++)H[N]=arguments[N+2];F.children=H}return D(k.type,de,void 0,void 0,ke,F)},at.createContext=function(k){return k={$$typeof:s,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},at.createElement=function(k,ae,T){var F,de={},ke=null;if(ae!=null)for(F in ae.key!==void 0&&(ke=""+ae.key),ae)L.call(ae,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(de[F]=ae[F]);var ce=arguments.length-2;if(ce===1)de.children=T;else if(1<ce){for(var H=Array(ce),N=0;N<ce;N++)H[N]=arguments[N+2];de.children=H}if(k&&k.defaultProps)for(F in ce=k.defaultProps,ce)de[F]===void 0&&(de[F]=ce[F]);return D(k,ke,void 0,void 0,null,de)},at.createRef=function(){return{current:null}},at.forwardRef=function(k){return{$$typeof:c,render:k}},at.isValidElement=ne,at.lazy=function(k){return{$$typeof:g,_payload:{_status:-1,_result:k},_init:ie}},at.memo=function(k,ae){return{$$typeof:h,type:k,compare:ae===void 0?null:ae}},at.startTransition=function(k){var ae=V.T,T={};V.T=T;try{var F=k(),de=V.S;de!==null&&de(T,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(Oe,$)}catch(ke){$(ke)}finally{V.T=ae}},at.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},at.use=function(k){return V.H.use(k)},at.useActionState=function(k,ae,T){return V.H.useActionState(k,ae,T)},at.useCallback=function(k,ae){return V.H.useCallback(k,ae)},at.useContext=function(k){return V.H.useContext(k)},at.useDebugValue=function(){},at.useDeferredValue=function(k,ae){return V.H.useDeferredValue(k,ae)},at.useEffect=function(k,ae,T){var F=V.H;if(typeof T=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return F.useEffect(k,ae)},at.useId=function(){return V.H.useId()},at.useImperativeHandle=function(k,ae,T){return V.H.useImperativeHandle(k,ae,T)},at.useInsertionEffect=function(k,ae){return V.H.useInsertionEffect(k,ae)},at.useLayoutEffect=function(k,ae){return V.H.useLayoutEffect(k,ae)},at.useMemo=function(k,ae){return V.H.useMemo(k,ae)},at.useOptimistic=function(k,ae){return V.H.useOptimistic(k,ae)},at.useReducer=function(k,ae,T){return V.H.useReducer(k,ae,T)},at.useRef=function(k){return V.H.useRef(k)},at.useState=function(k){return V.H.useState(k)},at.useSyncExternalStore=function(k,ae,T){return V.H.useSyncExternalStore(k,ae,T)},at.useTransition=function(){return V.H.useTransition()},at.version="19.1.1",at}var Lm;function Lh(){return Lm||(Lm=1,Kc.exports=H1()),Kc.exports}var ze=Lh();const P1=L0(ze);var $c={exports:{}},qa={},Fc={exports:{}},Zc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im;function q1(){return Im||(Im=1,(function(r){function a(X,ie){var $=X.length;X.push(ie);e:for(;0<$;){var Oe=$-1>>>1,k=X[Oe];if(0<p(k,ie))X[Oe]=ie,X[$]=k,$=Oe;else break e}}function l(X){return X.length===0?null:X[0]}function f(X){if(X.length===0)return null;var ie=X[0],$=X.pop();if($!==ie){X[0]=$;e:for(var Oe=0,k=X.length,ae=k>>>1;Oe<ae;){var T=2*(Oe+1)-1,F=X[T],de=T+1,ke=X[de];if(0>p(F,$))de<k&&0>p(ke,F)?(X[Oe]=ke,X[de]=$,Oe=de):(X[Oe]=F,X[T]=$,Oe=T);else if(de<k&&0>p(ke,$))X[Oe]=ke,X[de]=$,Oe=de;else break e}}return ie}function p(X,ie){var $=X.sortIndex-ie.sortIndex;return $!==0?$:X.id-ie.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var s=Date,c=s.now();r.unstable_now=function(){return s.now()-c}}var o=[],h=[],g=1,v=null,_=3,S=!1,E=!1,M=!1,C=!1,I=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function W(X){for(var ie=l(h);ie!==null;){if(ie.callback===null)f(h);else if(ie.startTime<=X)f(h),ie.sortIndex=ie.expirationTime,a(o,ie);else break;ie=l(h)}}function V(X){if(M=!1,W(X),!E)if(l(o)!==null)E=!0,L||(L=!0,B());else{var ie=l(h);ie!==null&&he(V,ie.startTime-X)}}var L=!1,D=-1,G=5,ne=-1;function ve(){return C?!0:!(r.unstable_now()-ne<G)}function _e(){if(C=!1,L){var X=r.unstable_now();ne=X;var ie=!0;try{e:{E=!1,M&&(M=!1,U(D),D=-1),S=!0;var $=_;try{t:{for(W(X),v=l(o);v!==null&&!(v.expirationTime>X&&ve());){var Oe=v.callback;if(typeof Oe=="function"){v.callback=null,_=v.priorityLevel;var k=Oe(v.expirationTime<=X);if(X=r.unstable_now(),typeof k=="function"){v.callback=k,W(X),ie=!0;break t}v===l(o)&&f(o),W(X)}else f(o);v=l(o)}if(v!==null)ie=!0;else{var ae=l(h);ae!==null&&he(V,ae.startTime-X),ie=!1}}break e}finally{v=null,_=$,S=!1}ie=void 0}}finally{ie?B():L=!1}}}var B;if(typeof j=="function")B=function(){j(_e)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,we=le.port2;le.port1.onmessage=_e,B=function(){we.postMessage(null)}}else B=function(){I(_e,0)};function he(X,ie){D=I(function(){X(r.unstable_now())},ie)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return _},r.unstable_next=function(X){switch(_){case 1:case 2:case 3:var ie=3;break;default:ie=_}var $=_;_=ie;try{return X()}finally{_=$}},r.unstable_requestPaint=function(){C=!0},r.unstable_runWithPriority=function(X,ie){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var $=_;_=X;try{return ie()}finally{_=$}},r.unstable_scheduleCallback=function(X,ie,$){var Oe=r.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Oe+$:Oe):$=Oe,X){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=$+k,X={id:g++,callback:ie,priorityLevel:X,startTime:$,expirationTime:k,sortIndex:-1},$>Oe?(X.sortIndex=$,a(h,X),l(o)===null&&X===l(h)&&(M?(U(D),D=-1):M=!0,he(V,$-Oe))):(X.sortIndex=k,a(o,X),E||S||(E=!0,L||(L=!0,B()))),X},r.unstable_shouldYield=ve,r.unstable_wrapCallback=function(X){var ie=_;return function(){var $=_;_=ie;try{return X.apply(this,arguments)}finally{_=$}}}})(Zc)),Zc}var zm;function G1(){return zm||(zm=1,Fc.exports=q1()),Fc.exports}var Jc={exports:{}},yn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hm;function V1(){if(Hm)return yn;Hm=1;var r=Lh();function a(o){var h="https://react.dev/errors/"+o;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+o+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var f={d:{f:l,r:function(){throw Error(a(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},p=Symbol.for("react.portal");function u(o,h,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:p,key:v==null?null:""+v,children:o,containerInfo:h,implementation:g}}var s=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(o,h){if(o==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=f,yn.createPortal=function(o,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(a(299));return u(o,h,null,g)},yn.flushSync=function(o){var h=s.T,g=f.p;try{if(s.T=null,f.p=2,o)return o()}finally{s.T=h,f.p=g,f.d.f()}},yn.preconnect=function(o,h){typeof o=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,f.d.C(o,h))},yn.prefetchDNS=function(o){typeof o=="string"&&f.d.D(o)},yn.preinit=function(o,h){if(typeof o=="string"&&h&&typeof h.as=="string"){var g=h.as,v=c(g,h.crossOrigin),_=typeof h.integrity=="string"?h.integrity:void 0,S=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;g==="style"?f.d.S(o,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:v,integrity:_,fetchPriority:S}):g==="script"&&f.d.X(o,{crossOrigin:v,integrity:_,fetchPriority:S,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},yn.preinitModule=function(o,h){if(typeof o=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var g=c(h.as,h.crossOrigin);f.d.M(o,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&f.d.M(o)},yn.preload=function(o,h){if(typeof o=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var g=h.as,v=c(g,h.crossOrigin);f.d.L(o,g,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},yn.preloadModule=function(o,h){if(typeof o=="string")if(h){var g=c(h.as,h.crossOrigin);f.d.m(o,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else f.d.m(o)},yn.requestFormReset=function(o){f.d.r(o)},yn.unstable_batchedUpdates=function(o,h){return o(h)},yn.useFormState=function(o,h,g){return s.H.useFormState(o,h,g)},yn.useFormStatus=function(){return s.H.useHostTransitionStatus()},yn.version="19.1.1",yn}var Pm;function Y1(){if(Pm)return Jc.exports;Pm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(a){console.error(a)}}return r(),Jc.exports=V1(),Jc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qm;function W1(){if(qm)return qa;qm=1;var r=G1(),a=Lh(),l=Y1();function f(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function p(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function s(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function c(e){if(u(e)!==e)throw Error(f(188))}function o(e){var t=e.alternate;if(!t){if(t=u(e),t===null)throw Error(f(188));return t!==e?null:e}for(var n=e,i=t;;){var d=n.return;if(d===null)break;var y=d.alternate;if(y===null){if(i=d.return,i!==null){n=i;continue}break}if(d.child===y.child){for(y=d.child;y;){if(y===n)return c(d),e;if(y===i)return c(d),t;y=y.sibling}throw Error(f(188))}if(n.return!==i.return)n=d,i=y;else{for(var x=!1,R=d.child;R;){if(R===n){x=!0,n=d,i=y;break}if(R===i){x=!0,i=d,n=y;break}R=R.sibling}if(!x){for(R=y.child;R;){if(R===n){x=!0,n=y,i=d;break}if(R===i){x=!0,i=y,n=d;break}R=R.sibling}if(!x)throw Error(f(189))}}if(n.alternate!==i)throw Error(f(190))}if(n.tag!==3)throw Error(f(188));return n.stateNode.current===n?e:t}function h(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=h(e),t!==null)return t;e=e.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),j=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),ne=Symbol.for("react.activity"),ve=Symbol.for("react.memo_cache_sentinel"),_e=Symbol.iterator;function B(e){return e===null||typeof e!="object"?null:(e=_e&&e[_e]||e["@@iterator"],typeof e=="function"?e:null)}var le=Symbol.for("react.client.reference");function we(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===le?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case E:return"Fragment";case C:return"Profiler";case M:return"StrictMode";case V:return"Suspense";case L:return"SuspenseList";case ne:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case S:return"Portal";case j:return(e.displayName||"Context")+".Provider";case U:return(e._context.displayName||"Context")+".Consumer";case W:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return t=e.displayName||null,t!==null?t:we(e.type)||"Memo";case G:t=e._payload,e=e._init;try{return we(e(t))}catch{}}return null}var he=Array.isArray,X=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},Oe=[],k=-1;function ae(e){return{current:e}}function T(e){0>k||(e.current=Oe[k],Oe[k]=null,k--)}function F(e,t){k++,Oe[k]=e.current,e.current=t}var de=ae(null),ke=ae(null),ce=ae(null),H=ae(null);function N(e,t){switch(F(ce,t),F(ke,e),F(de,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?om(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=om(t),e=sm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}T(de),F(de,e)}function fe(){T(de),T(ke),T(ce)}function Re(e){e.memoizedState!==null&&F(H,e);var t=de.current,n=sm(t,e.type);t!==n&&(F(ke,e),F(de,n))}function xe(e){ke.current===e&&(T(de),T(ke)),H.current===e&&(T(H),Da._currentValue=$)}var Te=Object.prototype.hasOwnProperty,Ie=r.unstable_scheduleCallback,je=r.unstable_cancelCallback,q=r.unstable_shouldYield,te=r.unstable_requestPaint,Z=r.unstable_now,Me=r.unstable_getCurrentPriorityLevel,Ae=r.unstable_ImmediatePriority,K=r.unstable_UserBlockingPriority,oe=r.unstable_NormalPriority,P=r.unstable_LowPriority,J=r.unstable_IdlePriority,se=r.log,me=r.unstable_setDisableYieldValue,b=null,m=null;function w(e){if(typeof se=="function"&&me(e),m&&typeof m.setStrictMode=="function")try{m.setStrictMode(b,e)}catch{}}var O=Math.clz32?Math.clz32:Ee,z=Math.log,ee=Math.LN2;function Ee(e){return e>>>=0,e===0?32:31-(z(e)/ee|0)|0}var Ge=256,Ye=4194304;function $e(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ve(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var d=0,y=e.suspendedLanes,x=e.pingedLanes;e=e.warmLanes;var R=i&134217727;return R!==0?(i=R&~y,i!==0?d=$e(i):(x&=R,x!==0?d=$e(x):n||(n=R&~e,n!==0&&(d=$e(n))))):(R=i&~y,R!==0?d=$e(R):x!==0?d=$e(x):n||(n=i&~e,n!==0&&(d=$e(n)))),d===0?0:t!==0&&t!==d&&(t&y)===0&&(y=d&-d,n=t&-t,y>=n||y===32&&(n&4194048)!==0)?t:d}function et(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Fe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bt(){var e=Ge;return Ge<<=1,(Ge&4194048)===0&&(Ge=256),e}function Ht(){var e=Ye;return Ye<<=1,(Ye&62914560)===0&&(Ye=4194304),e}function Rt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bt(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ft(e,t,n,i,d,y){var x=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var R=e.entanglements,Q=e.expirationTimes,ge=e.hiddenUpdates;for(n=x&~n;0<n;){var Ce=31-O(n),Be=1<<Ce;R[Ce]=0,Q[Ce]=-1;var ye=ge[Ce];if(ye!==null)for(ge[Ce]=null,Ce=0;Ce<ye.length;Ce++){var be=ye[Ce];be!==null&&(be.lane&=-536870913)}n&=~Be}i!==0&&Ut(e,i,0),y!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=y&~(x&~t))}function Ut(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-O(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&4194090}function Vr(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-O(n),d=1<<i;d&t|e[i]&t&&(e[i]|=t),n&=~d}}function Yr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ql(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ja(){var e=ie.p;return e!==0?e:(e=window.event,e===void 0?32:Mm(e.type))}function Is(e,t){var n=ie.p;try{return ie.p=e,t()}finally{ie.p=n}}var rr=Math.random().toString(36).slice(2),nn="__reactFiber$"+rr,gn="__reactProps$"+rr,Wr="__reactContainer$"+rr,Xl="__reactEvents$"+rr,zs="__reactListeners$"+rr,Hs="__reactHandles$"+rr,Se="__reactResources$"+rr,qe="__reactMarker$"+rr;function Qe(e){delete e[nn],delete e[gn],delete e[Xl],delete e[zs],delete e[Hs]}function Je(e){var t=e[nn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Wr]||n[nn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=hm(e);e!==null;){if(n=e[nn])return n;e=hm(e)}return t}e=n,n=e.parentNode}return null}function ot(e){if(e=e[nn]||e[Wr]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function pt(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(f(33))}function jt(e){var t=e[Se];return t||(t=e[Se]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function lt(e){e[qe]=!0}var _t=new Set,eo={};function dr(e,t){Qr(e,t),Qr(e+"Capture",t)}function Qr(e,t){for(eo[e]=t,e=0;e<t.length;e++)_t.add(t[e])}var Fh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zh={},Jh={};function Rb(e){return Te.call(Jh,e)?!0:Te.call(Zh,e)?!1:Fh.test(e)?Jh[e]=!0:(Zh[e]=!0,!1)}function to(e,t,n){if(Rb(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function no(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function pr(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}var Ps,ed;function ll(e){if(Ps===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ps=t&&t[1]||"",ed=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ps+e+ed}var qs=!1;function Gs(e,t){if(!e||qs)return"";qs=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var Be=function(){throw Error()};if(Object.defineProperty(Be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Be,[])}catch(be){var ye=be}Reflect.construct(e,[],Be)}else{try{Be.call()}catch(be){ye=be}e.call(Be.prototype)}}else{try{throw Error()}catch(be){ye=be}(Be=e())&&typeof Be.catch=="function"&&Be.catch(function(){})}}catch(be){if(be&&ye&&typeof be.stack=="string")return[be.stack,ye.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=i.DetermineComponentFrameRoot(),x=y[0],R=y[1];if(x&&R){var Q=x.split(`
`),ge=R.split(`
`);for(d=i=0;i<Q.length&&!Q[i].includes("DetermineComponentFrameRoot");)i++;for(;d<ge.length&&!ge[d].includes("DetermineComponentFrameRoot");)d++;if(i===Q.length||d===ge.length)for(i=Q.length-1,d=ge.length-1;1<=i&&0<=d&&Q[i]!==ge[d];)d--;for(;1<=i&&0<=d;i--,d--)if(Q[i]!==ge[d]){if(i!==1||d!==1)do if(i--,d--,0>d||Q[i]!==ge[d]){var Ce=`
`+Q[i].replace(" at new "," at ");return e.displayName&&Ce.includes("<anonymous>")&&(Ce=Ce.replace("<anonymous>",e.displayName)),Ce}while(1<=i&&0<=d);break}}}finally{qs=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ll(n):""}function Cb(e){switch(e.tag){case 26:case 27:case 5:return ll(e.type);case 16:return ll("Lazy");case 13:return ll("Suspense");case 19:return ll("SuspenseList");case 0:case 15:return Gs(e.type,!1);case 11:return Gs(e.type.render,!1);case 1:return Gs(e.type,!0);case 31:return ll("Activity");default:return""}}function td(e){try{var t="";do t+=Cb(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function zn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function nd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Nb(e){var t=nd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var d=n.get,y=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return d.call(this)},set:function(x){i=""+x,y.call(this,x)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(x){i=""+x},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ro(e){e._valueTracker||(e._valueTracker=Nb(e))}function rd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=nd(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function io(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var jb=/[\n"\\]/g;function Hn(e){return e.replace(jb,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Vs(e,t,n,i,d,y,x,R){e.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.type=x:e.removeAttribute("type"),t!=null?x==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+zn(t)):e.value!==""+zn(t)&&(e.value=""+zn(t)):x!=="submit"&&x!=="reset"||e.removeAttribute("value"),t!=null?Ys(e,x,zn(t)):n!=null?Ys(e,x,zn(n)):i!=null&&e.removeAttribute("value"),d==null&&y!=null&&(e.defaultChecked=!!y),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?e.name=""+zn(R):e.removeAttribute("name")}function id(e,t,n,i,d,y,x,R){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.type=y),t!=null||n!=null){if(!(y!=="submit"&&y!=="reset"||t!=null))return;n=n!=null?""+zn(n):"",t=t!=null?""+zn(t):n,R||t===e.value||(e.value=t),e.defaultValue=t}i=i??d,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=R?e.checked:!!i,e.defaultChecked=!!i,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.name=x)}function Ys(e,t,n){t==="number"&&io(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function al(e,t,n,i){if(e=e.options,t){t={};for(var d=0;d<n.length;d++)t["$"+n[d]]=!0;for(n=0;n<e.length;n++)d=t.hasOwnProperty("$"+e[n].value),e[n].selected!==d&&(e[n].selected=d),d&&i&&(e[n].defaultSelected=!0)}else{for(n=""+zn(n),t=null,d=0;d<e.length;d++){if(e[d].value===n){e[d].selected=!0,i&&(e[d].defaultSelected=!0);return}t!==null||e[d].disabled||(t=e[d])}t!==null&&(t.selected=!0)}}function ld(e,t,n){if(t!=null&&(t=""+zn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+zn(n):""}function ad(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(f(92));if(he(i)){if(1<i.length)throw Error(f(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=zn(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i)}function ol(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var kb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function od(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||kb.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function sd(e,t,n){if(t!=null&&typeof t!="object")throw Error(f(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var d in t)i=t[d],t.hasOwnProperty(d)&&n[d]!==i&&od(e,d,i)}else for(var y in t)t.hasOwnProperty(y)&&od(e,y,t[y])}function Ws(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ub=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function lo(e){return Ub.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Qs=null;function Xs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sl=null,ul=null;function ud(e){var t=ot(e);if(t&&(e=t.stateNode)){var n=e[gn]||null;e:switch(e=t.stateNode,t.type){case"input":if(Vs(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Hn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var d=i[gn]||null;if(!d)throw Error(f(90));Vs(i,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&rd(i)}break e;case"textarea":ld(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&al(e,!!n.multiple,t,!1)}}}var Ks=!1;function cd(e,t,n){if(Ks)return e(t,n);Ks=!0;try{var i=e(t);return i}finally{if(Ks=!1,(sl!==null||ul!==null)&&(Yo(),sl&&(t=sl,e=ul,ul=sl=null,ud(t),e)))for(t=0;t<e.length;t++)ud(e[t])}}function Kl(e,t){var n=e.stateNode;if(n===null)return null;var i=n[gn]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(f(231,t,typeof n));return n}var gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$s=!1;if(gr)try{var $l={};Object.defineProperty($l,"passive",{get:function(){$s=!0}}),window.addEventListener("test",$l,$l),window.removeEventListener("test",$l,$l)}catch{$s=!1}var Xr=null,Fs=null,ao=null;function fd(){if(ao)return ao;var e,t=Fs,n=t.length,i,d="value"in Xr?Xr.value:Xr.textContent,y=d.length;for(e=0;e<n&&t[e]===d[e];e++);var x=n-e;for(i=1;i<=x&&t[n-i]===d[y-i];i++);return ao=d.slice(e,1<i?1-i:void 0)}function oo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function so(){return!0}function hd(){return!1}function Sn(e){function t(n,i,d,y,x){this._reactName=n,this._targetInst=d,this.type=i,this.nativeEvent=y,this.target=x,this.currentTarget=null;for(var R in e)e.hasOwnProperty(R)&&(n=e[R],this[R]=n?n(y):y[R]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?so:hd,this.isPropagationStopped=hd,this}return g(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=so)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=so)},persist:function(){},isPersistent:so}),t}var xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uo=Sn(xi),Fl=g({},xi,{view:0,detail:0}),Db=Sn(Fl),Zs,Js,Zl,co=g({},Fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zl&&(Zl&&e.type==="mousemove"?(Zs=e.screenX-Zl.screenX,Js=e.screenY-Zl.screenY):Js=Zs=0,Zl=e),Zs)},movementY:function(e){return"movementY"in e?e.movementY:Js}}),dd=Sn(co),Lb=g({},co,{dataTransfer:0}),Ib=Sn(Lb),zb=g({},Fl,{relatedTarget:0}),eu=Sn(zb),Hb=g({},xi,{animationName:0,elapsedTime:0,pseudoElement:0}),Pb=Sn(Hb),qb=g({},xi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gb=Sn(qb),Vb=g({},xi,{data:0}),pd=Sn(Vb),Yb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Qb[e])?!!t[e]:!1}function tu(){return Xb}var Kb=g({},Fl,{key:function(e){if(e.key){var t=Yb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=oo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tu,charCode:function(e){return e.type==="keypress"?oo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?oo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$b=Sn(Kb),Fb=g({},co,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gd=Sn(Fb),Zb=g({},Fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tu}),Jb=Sn(Zb),ev=g({},xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),tv=Sn(ev),nv=g({},co,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rv=Sn(nv),iv=g({},xi,{newState:0,oldState:0}),lv=Sn(iv),av=[9,13,27,32],nu=gr&&"CompositionEvent"in window,Jl=null;gr&&"documentMode"in document&&(Jl=document.documentMode);var ov=gr&&"TextEvent"in window&&!Jl,md=gr&&(!nu||Jl&&8<Jl&&11>=Jl),yd=" ",bd=!1;function vd(e,t){switch(e){case"keyup":return av.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var cl=!1;function sv(e,t){switch(e){case"compositionend":return wd(t);case"keypress":return t.which!==32?null:(bd=!0,yd);case"textInput":return e=t.data,e===yd&&bd?null:e;default:return null}}function uv(e,t){if(cl)return e==="compositionend"||!nu&&vd(e,t)?(e=fd(),ao=Fs=Xr=null,cl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return md&&t.locale!=="ko"?null:t.data;default:return null}}var cv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _d(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!cv[e.type]:t==="textarea"}function Sd(e,t,n,i){sl?ul?ul.push(i):ul=[i]:sl=i,t=Fo(t,"onChange"),0<t.length&&(n=new uo("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var ea=null,ta=null;function fv(e){nm(e,0)}function fo(e){var t=pt(e);if(rd(t))return e}function Ed(e,t){if(e==="change")return t}var xd=!1;if(gr){var ru;if(gr){var iu="oninput"in document;if(!iu){var Ad=document.createElement("div");Ad.setAttribute("oninput","return;"),iu=typeof Ad.oninput=="function"}ru=iu}else ru=!1;xd=ru&&(!document.documentMode||9<document.documentMode)}function Td(){ea&&(ea.detachEvent("onpropertychange",Md),ta=ea=null)}function Md(e){if(e.propertyName==="value"&&fo(ta)){var t=[];Sd(t,ta,e,Xs(e)),cd(fv,t)}}function hv(e,t,n){e==="focusin"?(Td(),ea=t,ta=n,ea.attachEvent("onpropertychange",Md)):e==="focusout"&&Td()}function dv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fo(ta)}function pv(e,t){if(e==="click")return fo(t)}function gv(e,t){if(e==="input"||e==="change")return fo(t)}function mv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rn=typeof Object.is=="function"?Object.is:mv;function na(e,t){if(Rn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var d=n[i];if(!Te.call(t,d)||!Rn(e[d],t[d]))return!1}return!0}function Od(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rd(e,t){var n=Od(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Od(n)}}function Cd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Cd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Nd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=io(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=io(e.document)}return t}function lu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var yv=gr&&"documentMode"in document&&11>=document.documentMode,fl=null,au=null,ra=null,ou=!1;function jd(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ou||fl==null||fl!==io(i)||(i=fl,"selectionStart"in i&&lu(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ra&&na(ra,i)||(ra=i,i=Fo(au,"onSelect"),0<i.length&&(t=new uo("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=fl)))}function Ai(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hl={animationend:Ai("Animation","AnimationEnd"),animationiteration:Ai("Animation","AnimationIteration"),animationstart:Ai("Animation","AnimationStart"),transitionrun:Ai("Transition","TransitionRun"),transitionstart:Ai("Transition","TransitionStart"),transitioncancel:Ai("Transition","TransitionCancel"),transitionend:Ai("Transition","TransitionEnd")},su={},kd={};gr&&(kd=document.createElement("div").style,"AnimationEvent"in window||(delete hl.animationend.animation,delete hl.animationiteration.animation,delete hl.animationstart.animation),"TransitionEvent"in window||delete hl.transitionend.transition);function Ti(e){if(su[e])return su[e];if(!hl[e])return e;var t=hl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in kd)return su[e]=t[n];return e}var Bd=Ti("animationend"),Ud=Ti("animationiteration"),Dd=Ti("animationstart"),bv=Ti("transitionrun"),vv=Ti("transitionstart"),wv=Ti("transitioncancel"),Ld=Ti("transitionend"),Id=new Map,uu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");uu.push("scrollEnd");function $n(e,t){Id.set(e,t),dr(t,[e])}var zd=new WeakMap;function Pn(e,t){if(typeof e=="object"&&e!==null){var n=zd.get(e);return n!==void 0?n:(t={value:e,source:t,stack:td(t)},zd.set(e,t),t)}return{value:e,source:t,stack:td(t)}}var qn=[],dl=0,cu=0;function ho(){for(var e=dl,t=cu=dl=0;t<e;){var n=qn[t];qn[t++]=null;var i=qn[t];qn[t++]=null;var d=qn[t];qn[t++]=null;var y=qn[t];if(qn[t++]=null,i!==null&&d!==null){var x=i.pending;x===null?d.next=d:(d.next=x.next,x.next=d),i.pending=d}y!==0&&Hd(n,d,y)}}function po(e,t,n,i){qn[dl++]=e,qn[dl++]=t,qn[dl++]=n,qn[dl++]=i,cu|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function fu(e,t,n,i){return po(e,t,n,i),go(e)}function pl(e,t){return po(e,null,null,t),go(e)}function Hd(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var d=!1,y=e.return;y!==null;)y.childLanes|=n,i=y.alternate,i!==null&&(i.childLanes|=n),y.tag===22&&(e=y.stateNode,e===null||e._visibility&1||(d=!0)),e=y,y=y.return;return e.tag===3?(y=e.stateNode,d&&t!==null&&(d=31-O(n),e=y.hiddenUpdates,i=e[d],i===null?e[d]=[t]:i.push(t),t.lane=n|536870912),y):null}function go(e){if(50<Oa)throw Oa=0,yc=null,Error(f(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var gl={};function _v(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(e,t,n,i){return new _v(e,t,n,i)}function hu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function mr(e,t){var n=e.alternate;return n===null?(n=Cn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Pd(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function mo(e,t,n,i,d,y){var x=0;if(i=e,typeof e=="function")hu(e)&&(x=1);else if(typeof e=="string")x=E1(e,n,de.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ne:return e=Cn(31,n,t,d),e.elementType=ne,e.lanes=y,e;case E:return Mi(n.children,d,y,t);case M:x=8,d|=24;break;case C:return e=Cn(12,n,t,d|2),e.elementType=C,e.lanes=y,e;case V:return e=Cn(13,n,t,d),e.elementType=V,e.lanes=y,e;case L:return e=Cn(19,n,t,d),e.elementType=L,e.lanes=y,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case I:case j:x=10;break e;case U:x=9;break e;case W:x=11;break e;case D:x=14;break e;case G:x=16,i=null;break e}x=29,n=Error(f(130,e===null?"null":typeof e,"")),i=null}return t=Cn(x,n,t,d),t.elementType=e,t.type=i,t.lanes=y,t}function Mi(e,t,n,i){return e=Cn(7,e,i,t),e.lanes=n,e}function du(e,t,n){return e=Cn(6,e,null,t),e.lanes=n,e}function pu(e,t,n){return t=Cn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ml=[],yl=0,yo=null,bo=0,Gn=[],Vn=0,Oi=null,yr=1,br="";function Ri(e,t){ml[yl++]=bo,ml[yl++]=yo,yo=e,bo=t}function qd(e,t,n){Gn[Vn++]=yr,Gn[Vn++]=br,Gn[Vn++]=Oi,Oi=e;var i=yr;e=br;var d=32-O(i)-1;i&=~(1<<d),n+=1;var y=32-O(t)+d;if(30<y){var x=d-d%5;y=(i&(1<<x)-1).toString(32),i>>=x,d-=x,yr=1<<32-O(t)+d|n<<d|i,br=y+e}else yr=1<<y|n<<d|i,br=e}function gu(e){e.return!==null&&(Ri(e,1),qd(e,1,0))}function mu(e){for(;e===yo;)yo=ml[--yl],ml[yl]=null,bo=ml[--yl],ml[yl]=null;for(;e===Oi;)Oi=Gn[--Vn],Gn[Vn]=null,br=Gn[--Vn],Gn[Vn]=null,yr=Gn[--Vn],Gn[Vn]=null}var wn=null,Vt=null,vt=!1,Ci=null,ir=!1,yu=Error(f(519));function Ni(e){var t=Error(f(418,""));throw aa(Pn(t,e)),yu}function Gd(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[nn]=e,t[gn]=i,n){case"dialog":ht("cancel",t),ht("close",t);break;case"iframe":case"object":case"embed":ht("load",t);break;case"video":case"audio":for(n=0;n<Ca.length;n++)ht(Ca[n],t);break;case"source":ht("error",t);break;case"img":case"image":case"link":ht("error",t),ht("load",t);break;case"details":ht("toggle",t);break;case"input":ht("invalid",t),id(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),ro(t);break;case"select":ht("invalid",t);break;case"textarea":ht("invalid",t),ad(t,i.value,i.defaultValue,i.children),ro(t)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||am(t.textContent,n)?(i.popover!=null&&(ht("beforetoggle",t),ht("toggle",t)),i.onScroll!=null&&ht("scroll",t),i.onScrollEnd!=null&&ht("scrollend",t),i.onClick!=null&&(t.onclick=Zo),t=!0):t=!1,t||Ni(e)}function Vd(e){for(wn=e.return;wn;)switch(wn.tag){case 5:case 13:ir=!1;return;case 27:case 3:ir=!0;return;default:wn=wn.return}}function ia(e){if(e!==wn)return!1;if(!vt)return Vd(e),vt=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||kc(e.type,e.memoizedProps)),n=!n),n&&Vt&&Ni(e),Vd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(f(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){Vt=Zn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}Vt=null}}else t===27?(t=Vt,ci(e.type)?(e=Lc,Lc=null,Vt=e):Vt=t):Vt=wn?Zn(e.stateNode.nextSibling):null;return!0}function la(){Vt=wn=null,vt=!1}function Yd(){var e=Ci;return e!==null&&(An===null?An=e:An.push.apply(An,e),Ci=null),e}function aa(e){Ci===null?Ci=[e]:Ci.push(e)}var bu=ae(null),ji=null,vr=null;function Kr(e,t,n){F(bu,t._currentValue),t._currentValue=n}function wr(e){e._currentValue=bu.current,T(bu)}function vu(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function wu(e,t,n,i){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var y=d.dependencies;if(y!==null){var x=d.child;y=y.firstContext;e:for(;y!==null;){var R=y;y=d;for(var Q=0;Q<t.length;Q++)if(R.context===t[Q]){y.lanes|=n,R=y.alternate,R!==null&&(R.lanes|=n),vu(y.return,n,e),i||(x=null);break e}y=R.next}}else if(d.tag===18){if(x=d.return,x===null)throw Error(f(341));x.lanes|=n,y=x.alternate,y!==null&&(y.lanes|=n),vu(x,n,e),x=null}else x=d.child;if(x!==null)x.return=d;else for(x=d;x!==null;){if(x===e){x=null;break}if(d=x.sibling,d!==null){d.return=x.return,x=d;break}x=x.return}d=x}}function oa(e,t,n,i){e=null;for(var d=t,y=!1;d!==null;){if(!y){if((d.flags&524288)!==0)y=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var x=d.alternate;if(x===null)throw Error(f(387));if(x=x.memoizedProps,x!==null){var R=d.type;Rn(d.pendingProps.value,x.value)||(e!==null?e.push(R):e=[R])}}else if(d===H.current){if(x=d.alternate,x===null)throw Error(f(387));x.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(Da):e=[Da])}d=d.return}e!==null&&wu(t,e,n,i),t.flags|=262144}function vo(e){for(e=e.firstContext;e!==null;){if(!Rn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ki(e){ji=e,vr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function mn(e){return Wd(ji,e)}function wo(e,t){return ji===null&&ki(e),Wd(e,t)}function Wd(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},vr===null){if(e===null)throw Error(f(308));vr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vr=vr.next=t;return n}var Sv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Ev=r.unstable_scheduleCallback,xv=r.unstable_NormalPriority,Zt={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _u(){return{controller:new Sv,data:new Map,refCount:0}}function sa(e){e.refCount--,e.refCount===0&&Ev(xv,function(){e.controller.abort()})}var ua=null,Su=0,bl=0,vl=null;function Av(e,t){if(ua===null){var n=ua=[];Su=0,bl=xc(),vl={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Su++,t.then(Qd,Qd),t}function Qd(){if(--Su===0&&ua!==null){vl!==null&&(vl.status="fulfilled");var e=ua;ua=null,bl=0,vl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Tv(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(d){n.push(d)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var d=0;d<n.length;d++)(0,n[d])(t)},function(d){for(i.status="rejected",i.reason=d,d=0;d<n.length;d++)(0,n[d])(void 0)}),i}var Xd=X.S;X.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Av(e,t),Xd!==null&&Xd(e,t)};var Bi=ae(null);function Eu(){var e=Bi.current;return e!==null?e:kt.pooledCache}function _o(e,t){t===null?F(Bi,Bi.current):F(Bi,t.pool)}function Kd(){var e=Eu();return e===null?null:{parent:Zt._currentValue,pool:e}}var ca=Error(f(460)),$d=Error(f(474)),So=Error(f(542)),xu={then:function(){}};function Fd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Eo(){}function Zd(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Eo,Eo),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ep(e),e;default:if(typeof t.status=="string")t.then(Eo,Eo);else{if(e=kt,e!==null&&100<e.shellSuspendCounter)throw Error(f(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var d=t;d.status="fulfilled",d.value=i}},function(i){if(t.status==="pending"){var d=t;d.status="rejected",d.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ep(e),e}throw fa=t,ca}}var fa=null;function Jd(){if(fa===null)throw Error(f(459));var e=fa;return fa=null,e}function ep(e){if(e===ca||e===So)throw Error(f(483))}var $r=!1;function Au(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Fr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Zr(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(St&2)!==0){var d=i.pending;return d===null?t.next=t:(t.next=d.next,d.next=t),i.pending=t,t=go(e),Hd(e,null,n),t}return po(e,i,t,n),go(e)}function ha(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Vr(e,n)}}function Mu(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var d=null,y=null;if(n=n.firstBaseUpdate,n!==null){do{var x={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};y===null?d=y=x:y=y.next=x,n=n.next}while(n!==null);y===null?d=y=t:y=y.next=t}else d=y=t;n={baseState:i.baseState,firstBaseUpdate:d,lastBaseUpdate:y,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ou=!1;function da(){if(Ou){var e=vl;if(e!==null)throw e}}function pa(e,t,n,i){Ou=!1;var d=e.updateQueue;$r=!1;var y=d.firstBaseUpdate,x=d.lastBaseUpdate,R=d.shared.pending;if(R!==null){d.shared.pending=null;var Q=R,ge=Q.next;Q.next=null,x===null?y=ge:x.next=ge,x=Q;var Ce=e.alternate;Ce!==null&&(Ce=Ce.updateQueue,R=Ce.lastBaseUpdate,R!==x&&(R===null?Ce.firstBaseUpdate=ge:R.next=ge,Ce.lastBaseUpdate=Q))}if(y!==null){var Be=d.baseState;x=0,Ce=ge=Q=null,R=y;do{var ye=R.lane&-536870913,be=ye!==R.lane;if(be?(dt&ye)===ye:(i&ye)===ye){ye!==0&&ye===bl&&(Ou=!0),Ce!==null&&(Ce=Ce.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var it=e,tt=R;ye=t;var Tt=n;switch(tt.tag){case 1:if(it=tt.payload,typeof it=="function"){Be=it.call(Tt,Be,ye);break e}Be=it;break e;case 3:it.flags=it.flags&-65537|128;case 0:if(it=tt.payload,ye=typeof it=="function"?it.call(Tt,Be,ye):it,ye==null)break e;Be=g({},Be,ye);break e;case 2:$r=!0}}ye=R.callback,ye!==null&&(e.flags|=64,be&&(e.flags|=8192),be=d.callbacks,be===null?d.callbacks=[ye]:be.push(ye))}else be={lane:ye,tag:R.tag,payload:R.payload,callback:R.callback,next:null},Ce===null?(ge=Ce=be,Q=Be):Ce=Ce.next=be,x|=ye;if(R=R.next,R===null){if(R=d.shared.pending,R===null)break;be=R,R=be.next,be.next=null,d.lastBaseUpdate=be,d.shared.pending=null}}while(!0);Ce===null&&(Q=Be),d.baseState=Q,d.firstBaseUpdate=ge,d.lastBaseUpdate=Ce,y===null&&(d.shared.lanes=0),ai|=x,e.lanes=x,e.memoizedState=Be}}function tp(e,t){if(typeof e!="function")throw Error(f(191,e));e.call(t)}function np(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)tp(n[e],t)}var wl=ae(null),xo=ae(0);function rp(e,t){e=Mr,F(xo,e),F(wl,t),Mr=e|t.baseLanes}function Ru(){F(xo,Mr),F(wl,wl.current)}function Cu(){Mr=xo.current,T(wl),T(xo)}var Jr=0,st=null,xt=null,Kt=null,Ao=!1,_l=!1,Ui=!1,To=0,ga=0,Sl=null,Mv=0;function Qt(){throw Error(f(321))}function Nu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Rn(e[n],t[n]))return!1;return!0}function ju(e,t,n,i,d,y){return Jr=y,st=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,X.H=e===null||e.memoizedState===null?Hp:Pp,Ui=!1,y=n(i,d),Ui=!1,_l&&(y=lp(t,n,i,d)),ip(e),y}function ip(e){X.H=jo;var t=xt!==null&&xt.next!==null;if(Jr=0,Kt=xt=st=null,Ao=!1,ga=0,Sl=null,t)throw Error(f(300));e===null||rn||(e=e.dependencies,e!==null&&vo(e)&&(rn=!0))}function lp(e,t,n,i){st=e;var d=0;do{if(_l&&(Sl=null),ga=0,_l=!1,25<=d)throw Error(f(301));if(d+=1,Kt=xt=null,e.updateQueue!=null){var y=e.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}X.H=Bv,y=t(n,i)}while(_l);return y}function Ov(){var e=X.H,t=e.useState()[0];return t=typeof t.then=="function"?ma(t):t,e=e.useState()[0],(xt!==null?xt.memoizedState:null)!==e&&(st.flags|=1024),t}function ku(){var e=To!==0;return To=0,e}function Bu(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Uu(e){if(Ao){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ao=!1}Jr=0,Kt=xt=st=null,_l=!1,ga=To=0,Sl=null}function En(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?st.memoizedState=Kt=e:Kt=Kt.next=e,Kt}function $t(){if(xt===null){var e=st.alternate;e=e!==null?e.memoizedState:null}else e=xt.next;var t=Kt===null?st.memoizedState:Kt.next;if(t!==null)Kt=t,xt=e;else{if(e===null)throw st.alternate===null?Error(f(467)):Error(f(310));xt=e,e={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Kt===null?st.memoizedState=Kt=e:Kt=Kt.next=e}return Kt}function Du(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ma(e){var t=ga;return ga+=1,Sl===null&&(Sl=[]),e=Zd(Sl,e,t),t=st,(Kt===null?t.memoizedState:Kt.next)===null&&(t=t.alternate,X.H=t===null||t.memoizedState===null?Hp:Pp),e}function Mo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ma(e);if(e.$$typeof===j)return mn(e)}throw Error(f(438,String(e)))}function Lu(e){var t=null,n=st.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=st.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(d){return d.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Du(),st.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=ve;return t.index++,n}function _r(e,t){return typeof t=="function"?t(e):t}function Oo(e){var t=$t();return Iu(t,xt,e)}function Iu(e,t,n){var i=e.queue;if(i===null)throw Error(f(311));i.lastRenderedReducer=n;var d=e.baseQueue,y=i.pending;if(y!==null){if(d!==null){var x=d.next;d.next=y.next,y.next=x}t.baseQueue=d=y,i.pending=null}if(y=e.baseState,d===null)e.memoizedState=y;else{t=d.next;var R=x=null,Q=null,ge=t,Ce=!1;do{var Be=ge.lane&-536870913;if(Be!==ge.lane?(dt&Be)===Be:(Jr&Be)===Be){var ye=ge.revertLane;if(ye===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null}),Be===bl&&(Ce=!0);else if((Jr&ye)===ye){ge=ge.next,ye===bl&&(Ce=!0);continue}else Be={lane:0,revertLane:ge.revertLane,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null},Q===null?(R=Q=Be,x=y):Q=Q.next=Be,st.lanes|=ye,ai|=ye;Be=ge.action,Ui&&n(y,Be),y=ge.hasEagerState?ge.eagerState:n(y,Be)}else ye={lane:Be,revertLane:ge.revertLane,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null},Q===null?(R=Q=ye,x=y):Q=Q.next=ye,st.lanes|=Be,ai|=Be;ge=ge.next}while(ge!==null&&ge!==t);if(Q===null?x=y:Q.next=R,!Rn(y,e.memoizedState)&&(rn=!0,Ce&&(n=vl,n!==null)))throw n;e.memoizedState=y,e.baseState=x,e.baseQueue=Q,i.lastRenderedState=y}return d===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function zu(e){var t=$t(),n=t.queue;if(n===null)throw Error(f(311));n.lastRenderedReducer=e;var i=n.dispatch,d=n.pending,y=t.memoizedState;if(d!==null){n.pending=null;var x=d=d.next;do y=e(y,x.action),x=x.next;while(x!==d);Rn(y,t.memoizedState)||(rn=!0),t.memoizedState=y,t.baseQueue===null&&(t.baseState=y),n.lastRenderedState=y}return[y,i]}function ap(e,t,n){var i=st,d=$t(),y=vt;if(y){if(n===void 0)throw Error(f(407));n=n()}else n=t();var x=!Rn((xt||d).memoizedState,n);x&&(d.memoizedState=n,rn=!0),d=d.queue;var R=up.bind(null,i,d,e);if(ya(2048,8,R,[e]),d.getSnapshot!==t||x||Kt!==null&&Kt.memoizedState.tag&1){if(i.flags|=2048,El(9,Ro(),sp.bind(null,i,d,n,t),null),kt===null)throw Error(f(349));y||(Jr&124)!==0||op(i,t,n)}return n}function op(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=st.updateQueue,t===null?(t=Du(),st.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function sp(e,t,n,i){t.value=n,t.getSnapshot=i,cp(t)&&fp(e)}function up(e,t,n){return n(function(){cp(t)&&fp(e)})}function cp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Rn(e,n)}catch{return!0}}function fp(e){var t=pl(e,2);t!==null&&Un(t,e,2)}function Hu(e){var t=En();if(typeof e=="function"){var n=e;if(e=n(),Ui){w(!0);try{n()}finally{w(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_r,lastRenderedState:e},t}function hp(e,t,n,i){return e.baseState=n,Iu(e,xt,typeof i=="function"?i:_r)}function Rv(e,t,n,i,d){if(No(e))throw Error(f(485));if(e=t.action,e!==null){var y={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){y.listeners.push(x)}};X.T!==null?n(!0):y.isTransition=!1,i(y),n=t.pending,n===null?(y.next=t.pending=y,dp(t,y)):(y.next=n.next,t.pending=n.next=y)}}function dp(e,t){var n=t.action,i=t.payload,d=e.state;if(t.isTransition){var y=X.T,x={};X.T=x;try{var R=n(d,i),Q=X.S;Q!==null&&Q(x,R),pp(e,t,R)}catch(ge){Pu(e,t,ge)}finally{X.T=y}}else try{y=n(d,i),pp(e,t,y)}catch(ge){Pu(e,t,ge)}}function pp(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){gp(e,t,i)},function(i){return Pu(e,t,i)}):gp(e,t,n)}function gp(e,t,n){t.status="fulfilled",t.value=n,mp(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,dp(e,n)))}function Pu(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,mp(t),t=t.next;while(t!==i)}e.action=null}function mp(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function yp(e,t){return t}function bp(e,t){if(vt){var n=kt.formState;if(n!==null){e:{var i=st;if(vt){if(Vt){t:{for(var d=Vt,y=ir;d.nodeType!==8;){if(!y){d=null;break t}if(d=Zn(d.nextSibling),d===null){d=null;break t}}y=d.data,d=y==="F!"||y==="F"?d:null}if(d){Vt=Zn(d.nextSibling),i=d.data==="F!";break e}}Ni(i)}i=!1}i&&(t=n[0])}}return n=En(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yp,lastRenderedState:t},n.queue=i,n=Lp.bind(null,st,i),i.dispatch=n,i=Hu(!1),y=Wu.bind(null,st,!1,i.queue),i=En(),d={state:t,dispatch:null,action:e,pending:null},i.queue=d,n=Rv.bind(null,st,d,y,n),d.dispatch=n,i.memoizedState=e,[t,n,!1]}function vp(e){var t=$t();return wp(t,xt,e)}function wp(e,t,n){if(t=Iu(e,t,yp)[0],e=Oo(_r)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=ma(t)}catch(x){throw x===ca?So:x}else i=t;t=$t();var d=t.queue,y=d.dispatch;return n!==t.memoizedState&&(st.flags|=2048,El(9,Ro(),Cv.bind(null,d,n),null)),[i,y,e]}function Cv(e,t){e.action=t}function _p(e){var t=$t(),n=xt;if(n!==null)return wp(t,n,e);$t(),t=t.memoizedState,n=$t();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function El(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=st.updateQueue,t===null&&(t=Du(),st.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Ro(){return{destroy:void 0,resource:void 0}}function Sp(){return $t().memoizedState}function Co(e,t,n,i){var d=En();i=i===void 0?null:i,st.flags|=e,d.memoizedState=El(1|t,Ro(),n,i)}function ya(e,t,n,i){var d=$t();i=i===void 0?null:i;var y=d.memoizedState.inst;xt!==null&&i!==null&&Nu(i,xt.memoizedState.deps)?d.memoizedState=El(t,y,n,i):(st.flags|=e,d.memoizedState=El(1|t,y,n,i))}function Ep(e,t){Co(8390656,8,e,t)}function xp(e,t){ya(2048,8,e,t)}function Ap(e,t){return ya(4,2,e,t)}function Tp(e,t){return ya(4,4,e,t)}function Mp(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Op(e,t,n){n=n!=null?n.concat([e]):null,ya(4,4,Mp.bind(null,t,e),n)}function qu(){}function Rp(e,t){var n=$t();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&Nu(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Cp(e,t){var n=$t();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&Nu(t,i[1]))return i[0];if(i=e(),Ui){w(!0);try{e()}finally{w(!1)}}return n.memoizedState=[i,t],i}function Gu(e,t,n){return n===void 0||(Jr&1073741824)!==0?e.memoizedState=t:(e.memoizedState=n,e=kg(),st.lanes|=e,ai|=e,n)}function Np(e,t,n,i){return Rn(n,t)?n:wl.current!==null?(e=Gu(e,n,i),Rn(e,t)||(rn=!0),e):(Jr&42)===0?(rn=!0,e.memoizedState=n):(e=kg(),st.lanes|=e,ai|=e,t)}function jp(e,t,n,i,d){var y=ie.p;ie.p=y!==0&&8>y?y:8;var x=X.T,R={};X.T=R,Wu(e,!1,t,n);try{var Q=d(),ge=X.S;if(ge!==null&&ge(R,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var Ce=Tv(Q,i);ba(e,t,Ce,Bn(e))}else ba(e,t,i,Bn(e))}catch(Be){ba(e,t,{then:function(){},status:"rejected",reason:Be},Bn())}finally{ie.p=y,X.T=x}}function Nv(){}function Vu(e,t,n,i){if(e.tag!==5)throw Error(f(476));var d=kp(e).queue;jp(e,d,t,$,n===null?Nv:function(){return Bp(e),n(i)})}function kp(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_r,lastRenderedState:$},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_r,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Bp(e){var t=kp(e).next.queue;ba(e,t,{},Bn())}function Yu(){return mn(Da)}function Up(){return $t().memoizedState}function Dp(){return $t().memoizedState}function jv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Bn();e=Fr(n);var i=Zr(t,e,n);i!==null&&(Un(i,t,n),ha(i,t,n)),t={cache:_u()},e.payload=t;return}t=t.return}}function kv(e,t,n){var i=Bn();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},No(e)?Ip(t,n):(n=fu(e,t,n,i),n!==null&&(Un(n,e,i),zp(n,t,i)))}function Lp(e,t,n){var i=Bn();ba(e,t,n,i)}function ba(e,t,n,i){var d={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(No(e))Ip(t,d);else{var y=e.alternate;if(e.lanes===0&&(y===null||y.lanes===0)&&(y=t.lastRenderedReducer,y!==null))try{var x=t.lastRenderedState,R=y(x,n);if(d.hasEagerState=!0,d.eagerState=R,Rn(R,x))return po(e,t,d,0),kt===null&&ho(),!1}catch{}finally{}if(n=fu(e,t,d,i),n!==null)return Un(n,e,i),zp(n,t,i),!0}return!1}function Wu(e,t,n,i){if(i={lane:2,revertLane:xc(),action:i,hasEagerState:!1,eagerState:null,next:null},No(e)){if(t)throw Error(f(479))}else t=fu(e,n,i,2),t!==null&&Un(t,e,2)}function No(e){var t=e.alternate;return e===st||t!==null&&t===st}function Ip(e,t){_l=Ao=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function zp(e,t,n){if((n&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Vr(e,n)}}var jo={readContext:mn,use:Mo,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useLayoutEffect:Qt,useInsertionEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useSyncExternalStore:Qt,useId:Qt,useHostTransitionStatus:Qt,useFormState:Qt,useActionState:Qt,useOptimistic:Qt,useMemoCache:Qt,useCacheRefresh:Qt},Hp={readContext:mn,use:Mo,useCallback:function(e,t){return En().memoizedState=[e,t===void 0?null:t],e},useContext:mn,useEffect:Ep,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Co(4194308,4,Mp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Co(4194308,4,e,t)},useInsertionEffect:function(e,t){Co(4,2,e,t)},useMemo:function(e,t){var n=En();t=t===void 0?null:t;var i=e();if(Ui){w(!0);try{e()}finally{w(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=En();if(n!==void 0){var d=n(t);if(Ui){w(!0);try{n(t)}finally{w(!1)}}}else d=t;return i.memoizedState=i.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},i.queue=e,e=e.dispatch=kv.bind(null,st,e),[i.memoizedState,e]},useRef:function(e){var t=En();return e={current:e},t.memoizedState=e},useState:function(e){e=Hu(e);var t=e.queue,n=Lp.bind(null,st,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:qu,useDeferredValue:function(e,t){var n=En();return Gu(n,e,t)},useTransition:function(){var e=Hu(!1);return e=jp.bind(null,st,e.queue,!0,!1),En().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=st,d=En();if(vt){if(n===void 0)throw Error(f(407));n=n()}else{if(n=t(),kt===null)throw Error(f(349));(dt&124)!==0||op(i,t,n)}d.memoizedState=n;var y={value:n,getSnapshot:t};return d.queue=y,Ep(up.bind(null,i,y,e),[e]),i.flags|=2048,El(9,Ro(),sp.bind(null,i,y,n,t),null),n},useId:function(){var e=En(),t=kt.identifierPrefix;if(vt){var n=br,i=yr;n=(i&~(1<<32-O(i)-1)).toString(32)+n,t=""+t+"R"+n,n=To++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=Mv++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Yu,useFormState:bp,useActionState:bp,useOptimistic:function(e){var t=En();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Wu.bind(null,st,!0,n),n.dispatch=t,[e,t]},useMemoCache:Lu,useCacheRefresh:function(){return En().memoizedState=jv.bind(null,st)}},Pp={readContext:mn,use:Mo,useCallback:Rp,useContext:mn,useEffect:xp,useImperativeHandle:Op,useInsertionEffect:Ap,useLayoutEffect:Tp,useMemo:Cp,useReducer:Oo,useRef:Sp,useState:function(){return Oo(_r)},useDebugValue:qu,useDeferredValue:function(e,t){var n=$t();return Np(n,xt.memoizedState,e,t)},useTransition:function(){var e=Oo(_r)[0],t=$t().memoizedState;return[typeof e=="boolean"?e:ma(e),t]},useSyncExternalStore:ap,useId:Up,useHostTransitionStatus:Yu,useFormState:vp,useActionState:vp,useOptimistic:function(e,t){var n=$t();return hp(n,xt,e,t)},useMemoCache:Lu,useCacheRefresh:Dp},Bv={readContext:mn,use:Mo,useCallback:Rp,useContext:mn,useEffect:xp,useImperativeHandle:Op,useInsertionEffect:Ap,useLayoutEffect:Tp,useMemo:Cp,useReducer:zu,useRef:Sp,useState:function(){return zu(_r)},useDebugValue:qu,useDeferredValue:function(e,t){var n=$t();return xt===null?Gu(n,e,t):Np(n,xt.memoizedState,e,t)},useTransition:function(){var e=zu(_r)[0],t=$t().memoizedState;return[typeof e=="boolean"?e:ma(e),t]},useSyncExternalStore:ap,useId:Up,useHostTransitionStatus:Yu,useFormState:_p,useActionState:_p,useOptimistic:function(e,t){var n=$t();return xt!==null?hp(n,xt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Lu,useCacheRefresh:Dp},xl=null,va=0;function ko(e){var t=va;return va+=1,xl===null&&(xl=[]),Zd(xl,e,t)}function wa(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Bo(e,t){throw t.$$typeof===v?Error(f(525)):(e=Object.prototype.toString.call(t),Error(f(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function qp(e){var t=e._init;return t(e._payload)}function Gp(e){function t(ue,re){if(e){var pe=ue.deletions;pe===null?(ue.deletions=[re],ue.flags|=16):pe.push(re)}}function n(ue,re){if(!e)return null;for(;re!==null;)t(ue,re),re=re.sibling;return null}function i(ue){for(var re=new Map;ue!==null;)ue.key!==null?re.set(ue.key,ue):re.set(ue.index,ue),ue=ue.sibling;return re}function d(ue,re){return ue=mr(ue,re),ue.index=0,ue.sibling=null,ue}function y(ue,re,pe){return ue.index=pe,e?(pe=ue.alternate,pe!==null?(pe=pe.index,pe<re?(ue.flags|=67108866,re):pe):(ue.flags|=67108866,re)):(ue.flags|=1048576,re)}function x(ue){return e&&ue.alternate===null&&(ue.flags|=67108866),ue}function R(ue,re,pe,Ne){return re===null||re.tag!==6?(re=du(pe,ue.mode,Ne),re.return=ue,re):(re=d(re,pe),re.return=ue,re)}function Q(ue,re,pe,Ne){var We=pe.type;return We===E?Ce(ue,re,pe.props.children,Ne,pe.key):re!==null&&(re.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===G&&qp(We)===re.type)?(re=d(re,pe.props),wa(re,pe),re.return=ue,re):(re=mo(pe.type,pe.key,pe.props,null,ue.mode,Ne),wa(re,pe),re.return=ue,re)}function ge(ue,re,pe,Ne){return re===null||re.tag!==4||re.stateNode.containerInfo!==pe.containerInfo||re.stateNode.implementation!==pe.implementation?(re=pu(pe,ue.mode,Ne),re.return=ue,re):(re=d(re,pe.children||[]),re.return=ue,re)}function Ce(ue,re,pe,Ne,We){return re===null||re.tag!==7?(re=Mi(pe,ue.mode,Ne,We),re.return=ue,re):(re=d(re,pe),re.return=ue,re)}function Be(ue,re,pe){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return re=du(""+re,ue.mode,pe),re.return=ue,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case _:return pe=mo(re.type,re.key,re.props,null,ue.mode,pe),wa(pe,re),pe.return=ue,pe;case S:return re=pu(re,ue.mode,pe),re.return=ue,re;case G:var Ne=re._init;return re=Ne(re._payload),Be(ue,re,pe)}if(he(re)||B(re))return re=Mi(re,ue.mode,pe,null),re.return=ue,re;if(typeof re.then=="function")return Be(ue,ko(re),pe);if(re.$$typeof===j)return Be(ue,wo(ue,re),pe);Bo(ue,re)}return null}function ye(ue,re,pe,Ne){var We=re!==null?re.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return We!==null?null:R(ue,re,""+pe,Ne);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case _:return pe.key===We?Q(ue,re,pe,Ne):null;case S:return pe.key===We?ge(ue,re,pe,Ne):null;case G:return We=pe._init,pe=We(pe._payload),ye(ue,re,pe,Ne)}if(he(pe)||B(pe))return We!==null?null:Ce(ue,re,pe,Ne,null);if(typeof pe.then=="function")return ye(ue,re,ko(pe),Ne);if(pe.$$typeof===j)return ye(ue,re,wo(ue,pe),Ne);Bo(ue,pe)}return null}function be(ue,re,pe,Ne,We){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return ue=ue.get(pe)||null,R(re,ue,""+Ne,We);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case _:return ue=ue.get(Ne.key===null?pe:Ne.key)||null,Q(re,ue,Ne,We);case S:return ue=ue.get(Ne.key===null?pe:Ne.key)||null,ge(re,ue,Ne,We);case G:var ct=Ne._init;return Ne=ct(Ne._payload),be(ue,re,pe,Ne,We)}if(he(Ne)||B(Ne))return ue=ue.get(pe)||null,Ce(re,ue,Ne,We,null);if(typeof Ne.then=="function")return be(ue,re,pe,ko(Ne),We);if(Ne.$$typeof===j)return be(ue,re,pe,wo(re,Ne),We);Bo(re,Ne)}return null}function it(ue,re,pe,Ne){for(var We=null,ct=null,Ke=re,nt=re=0,an=null;Ke!==null&&nt<pe.length;nt++){Ke.index>nt?(an=Ke,Ke=null):an=Ke.sibling;var gt=ye(ue,Ke,pe[nt],Ne);if(gt===null){Ke===null&&(Ke=an);break}e&&Ke&&gt.alternate===null&&t(ue,Ke),re=y(gt,re,nt),ct===null?We=gt:ct.sibling=gt,ct=gt,Ke=an}if(nt===pe.length)return n(ue,Ke),vt&&Ri(ue,nt),We;if(Ke===null){for(;nt<pe.length;nt++)Ke=Be(ue,pe[nt],Ne),Ke!==null&&(re=y(Ke,re,nt),ct===null?We=Ke:ct.sibling=Ke,ct=Ke);return vt&&Ri(ue,nt),We}for(Ke=i(Ke);nt<pe.length;nt++)an=be(Ke,ue,nt,pe[nt],Ne),an!==null&&(e&&an.alternate!==null&&Ke.delete(an.key===null?nt:an.key),re=y(an,re,nt),ct===null?We=an:ct.sibling=an,ct=an);return e&&Ke.forEach(function(gi){return t(ue,gi)}),vt&&Ri(ue,nt),We}function tt(ue,re,pe,Ne){if(pe==null)throw Error(f(151));for(var We=null,ct=null,Ke=re,nt=re=0,an=null,gt=pe.next();Ke!==null&&!gt.done;nt++,gt=pe.next()){Ke.index>nt?(an=Ke,Ke=null):an=Ke.sibling;var gi=ye(ue,Ke,gt.value,Ne);if(gi===null){Ke===null&&(Ke=an);break}e&&Ke&&gi.alternate===null&&t(ue,Ke),re=y(gi,re,nt),ct===null?We=gi:ct.sibling=gi,ct=gi,Ke=an}if(gt.done)return n(ue,Ke),vt&&Ri(ue,nt),We;if(Ke===null){for(;!gt.done;nt++,gt=pe.next())gt=Be(ue,gt.value,Ne),gt!==null&&(re=y(gt,re,nt),ct===null?We=gt:ct.sibling=gt,ct=gt);return vt&&Ri(ue,nt),We}for(Ke=i(Ke);!gt.done;nt++,gt=pe.next())gt=be(Ke,ue,nt,gt.value,Ne),gt!==null&&(e&&gt.alternate!==null&&Ke.delete(gt.key===null?nt:gt.key),re=y(gt,re,nt),ct===null?We=gt:ct.sibling=gt,ct=gt);return e&&Ke.forEach(function(U1){return t(ue,U1)}),vt&&Ri(ue,nt),We}function Tt(ue,re,pe,Ne){if(typeof pe=="object"&&pe!==null&&pe.type===E&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case _:e:{for(var We=pe.key;re!==null;){if(re.key===We){if(We=pe.type,We===E){if(re.tag===7){n(ue,re.sibling),Ne=d(re,pe.props.children),Ne.return=ue,ue=Ne;break e}}else if(re.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===G&&qp(We)===re.type){n(ue,re.sibling),Ne=d(re,pe.props),wa(Ne,pe),Ne.return=ue,ue=Ne;break e}n(ue,re);break}else t(ue,re);re=re.sibling}pe.type===E?(Ne=Mi(pe.props.children,ue.mode,Ne,pe.key),Ne.return=ue,ue=Ne):(Ne=mo(pe.type,pe.key,pe.props,null,ue.mode,Ne),wa(Ne,pe),Ne.return=ue,ue=Ne)}return x(ue);case S:e:{for(We=pe.key;re!==null;){if(re.key===We)if(re.tag===4&&re.stateNode.containerInfo===pe.containerInfo&&re.stateNode.implementation===pe.implementation){n(ue,re.sibling),Ne=d(re,pe.children||[]),Ne.return=ue,ue=Ne;break e}else{n(ue,re);break}else t(ue,re);re=re.sibling}Ne=pu(pe,ue.mode,Ne),Ne.return=ue,ue=Ne}return x(ue);case G:return We=pe._init,pe=We(pe._payload),Tt(ue,re,pe,Ne)}if(he(pe))return it(ue,re,pe,Ne);if(B(pe)){if(We=B(pe),typeof We!="function")throw Error(f(150));return pe=We.call(pe),tt(ue,re,pe,Ne)}if(typeof pe.then=="function")return Tt(ue,re,ko(pe),Ne);if(pe.$$typeof===j)return Tt(ue,re,wo(ue,pe),Ne);Bo(ue,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint"?(pe=""+pe,re!==null&&re.tag===6?(n(ue,re.sibling),Ne=d(re,pe),Ne.return=ue,ue=Ne):(n(ue,re),Ne=du(pe,ue.mode,Ne),Ne.return=ue,ue=Ne),x(ue)):n(ue,re)}return function(ue,re,pe,Ne){try{va=0;var We=Tt(ue,re,pe,Ne);return xl=null,We}catch(Ke){if(Ke===ca||Ke===So)throw Ke;var ct=Cn(29,Ke,null,ue.mode);return ct.lanes=Ne,ct.return=ue,ct}finally{}}}var Al=Gp(!0),Vp=Gp(!1),Yn=ae(null),lr=null;function ei(e){var t=e.alternate;F(Jt,Jt.current&1),F(Yn,e),lr===null&&(t===null||wl.current!==null||t.memoizedState!==null)&&(lr=e)}function Yp(e){if(e.tag===22){if(F(Jt,Jt.current),F(Yn,e),lr===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(lr=e)}}else ti()}function ti(){F(Jt,Jt.current),F(Yn,Yn.current)}function Sr(e){T(Yn),lr===e&&(lr=null),T(Jt)}var Jt=ae(0);function Uo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Dc(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Qu(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:g({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Xu={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Bn(),d=Fr(i);d.payload=t,n!=null&&(d.callback=n),t=Zr(e,d,i),t!==null&&(Un(t,e,i),ha(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Bn(),d=Fr(i);d.tag=1,d.payload=t,n!=null&&(d.callback=n),t=Zr(e,d,i),t!==null&&(Un(t,e,i),ha(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Bn(),i=Fr(n);i.tag=2,t!=null&&(i.callback=t),t=Zr(e,i,n),t!==null&&(Un(t,e,n),ha(t,e,n))}};function Wp(e,t,n,i,d,y,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,y,x):t.prototype&&t.prototype.isPureReactComponent?!na(n,i)||!na(d,y):!0}function Qp(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Xu.enqueueReplaceState(t,t.state,null)}function Di(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=g({},n));for(var d in e)n[d]===void 0&&(n[d]=e[d])}return n}var Do=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Xp(e){Do(e)}function Kp(e){console.error(e)}function $p(e){Do(e)}function Lo(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Fp(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Ku(e,t,n){return n=Fr(n),n.tag=3,n.payload={element:null},n.callback=function(){Lo(e,t)},n}function Zp(e){return e=Fr(e),e.tag=3,e}function Jp(e,t,n,i){var d=n.type.getDerivedStateFromError;if(typeof d=="function"){var y=i.value;e.payload=function(){return d(y)},e.callback=function(){Fp(t,n,i)}}var x=n.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(e.callback=function(){Fp(t,n,i),typeof d!="function"&&(oi===null?oi=new Set([this]):oi.add(this));var R=i.stack;this.componentDidCatch(i.value,{componentStack:R!==null?R:""})})}function Uv(e,t,n,i,d){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&oa(t,n,d,!0),n=Yn.current,n!==null){switch(n.tag){case 13:return lr===null?vc():n.alternate===null&&Yt===0&&(Yt=3),n.flags&=-257,n.flags|=65536,n.lanes=d,i===xu?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),_c(e,i,d)),!1;case 22:return n.flags|=65536,i===xu?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),_c(e,i,d)),!1}throw Error(f(435,n.tag))}return _c(e,i,d),vc(),!1}if(vt)return t=Yn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=d,i!==yu&&(e=Error(f(422),{cause:i}),aa(Pn(e,n)))):(i!==yu&&(t=Error(f(423),{cause:i}),aa(Pn(t,n))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,i=Pn(i,n),d=Ku(e.stateNode,i,d),Mu(e,d),Yt!==4&&(Yt=2)),!1;var y=Error(f(520),{cause:i});if(y=Pn(y,n),Ma===null?Ma=[y]:Ma.push(y),Yt!==4&&(Yt=2),t===null)return!0;i=Pn(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=d&-d,n.lanes|=e,e=Ku(n.stateNode,i,e),Mu(n,e),!1;case 1:if(t=n.type,y=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(oi===null||!oi.has(y))))return n.flags|=65536,d&=-d,n.lanes|=d,d=Zp(d),Jp(d,e,n,i),Mu(n,d),!1}n=n.return}while(n!==null);return!1}var eg=Error(f(461)),rn=!1;function sn(e,t,n,i){t.child=e===null?Vp(t,null,n,i):Al(t,e.child,n,i)}function tg(e,t,n,i,d){n=n.render;var y=t.ref;if("ref"in i){var x={};for(var R in i)R!=="ref"&&(x[R]=i[R])}else x=i;return ki(t),i=ju(e,t,n,x,y,d),R=ku(),e!==null&&!rn?(Bu(e,t,d),Er(e,t,d)):(vt&&R&&gu(t),t.flags|=1,sn(e,t,i,d),t.child)}function ng(e,t,n,i,d){if(e===null){var y=n.type;return typeof y=="function"&&!hu(y)&&y.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=y,rg(e,t,y,i,d)):(e=mo(n.type,null,i,t,t.mode,d),e.ref=t.ref,e.return=t,t.child=e)}if(y=e.child,!rc(e,d)){var x=y.memoizedProps;if(n=n.compare,n=n!==null?n:na,n(x,i)&&e.ref===t.ref)return Er(e,t,d)}return t.flags|=1,e=mr(y,i),e.ref=t.ref,e.return=t,t.child=e}function rg(e,t,n,i,d){if(e!==null){var y=e.memoizedProps;if(na(y,i)&&e.ref===t.ref)if(rn=!1,t.pendingProps=i=y,rc(e,d))(e.flags&131072)!==0&&(rn=!0);else return t.lanes=e.lanes,Er(e,t,d)}return $u(e,t,n,i,d)}function ig(e,t,n){var i=t.pendingProps,d=i.children,y=e!==null?e.memoizedState:null;if(i.mode==="hidden"){if((t.flags&128)!==0){if(i=y!==null?y.baseLanes|n:n,e!==null){for(d=t.child=e.child,y=0;d!==null;)y=y|d.lanes|d.childLanes,d=d.sibling;t.childLanes=y&~i}else t.childLanes=0,t.child=null;return lg(e,t,i,n)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&_o(t,y!==null?y.cachePool:null),y!==null?rp(t,y):Ru(),Yp(t);else return t.lanes=t.childLanes=536870912,lg(e,t,y!==null?y.baseLanes|n:n,n)}else y!==null?(_o(t,y.cachePool),rp(t,y),ti(),t.memoizedState=null):(e!==null&&_o(t,null),Ru(),ti());return sn(e,t,d,n),t.child}function lg(e,t,n,i){var d=Eu();return d=d===null?null:{parent:Zt._currentValue,pool:d},t.memoizedState={baseLanes:n,cachePool:d},e!==null&&_o(t,null),Ru(),Yp(t),e!==null&&oa(e,t,i,!0),null}function Io(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(f(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function $u(e,t,n,i,d){return ki(t),n=ju(e,t,n,i,void 0,d),i=ku(),e!==null&&!rn?(Bu(e,t,d),Er(e,t,d)):(vt&&i&&gu(t),t.flags|=1,sn(e,t,n,d),t.child)}function ag(e,t,n,i,d,y){return ki(t),t.updateQueue=null,n=lp(t,i,n,d),ip(e),i=ku(),e!==null&&!rn?(Bu(e,t,y),Er(e,t,y)):(vt&&i&&gu(t),t.flags|=1,sn(e,t,n,y),t.child)}function og(e,t,n,i,d){if(ki(t),t.stateNode===null){var y=gl,x=n.contextType;typeof x=="object"&&x!==null&&(y=mn(x)),y=new n(i,y),t.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Xu,t.stateNode=y,y._reactInternals=t,y=t.stateNode,y.props=i,y.state=t.memoizedState,y.refs={},Au(t),x=n.contextType,y.context=typeof x=="object"&&x!==null?mn(x):gl,y.state=t.memoizedState,x=n.getDerivedStateFromProps,typeof x=="function"&&(Qu(t,n,x,i),y.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(x=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),x!==y.state&&Xu.enqueueReplaceState(y,y.state,null),pa(t,i,y,d),da(),y.state=t.memoizedState),typeof y.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){y=t.stateNode;var R=t.memoizedProps,Q=Di(n,R);y.props=Q;var ge=y.context,Ce=n.contextType;x=gl,typeof Ce=="object"&&Ce!==null&&(x=mn(Ce));var Be=n.getDerivedStateFromProps;Ce=typeof Be=="function"||typeof y.getSnapshotBeforeUpdate=="function",R=t.pendingProps!==R,Ce||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(R||ge!==x)&&Qp(t,y,i,x),$r=!1;var ye=t.memoizedState;y.state=ye,pa(t,i,y,d),da(),ge=t.memoizedState,R||ye!==ge||$r?(typeof Be=="function"&&(Qu(t,n,Be,i),ge=t.memoizedState),(Q=$r||Wp(t,n,Q,i,ye,ge,x))?(Ce||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(t.flags|=4194308)):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=ge),y.props=i,y.state=ge,y.context=x,i=Q):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{y=t.stateNode,Tu(e,t),x=t.memoizedProps,Ce=Di(n,x),y.props=Ce,Be=t.pendingProps,ye=y.context,ge=n.contextType,Q=gl,typeof ge=="object"&&ge!==null&&(Q=mn(ge)),R=n.getDerivedStateFromProps,(ge=typeof R=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x!==Be||ye!==Q)&&Qp(t,y,i,Q),$r=!1,ye=t.memoizedState,y.state=ye,pa(t,i,y,d),da();var be=t.memoizedState;x!==Be||ye!==be||$r||e!==null&&e.dependencies!==null&&vo(e.dependencies)?(typeof R=="function"&&(Qu(t,n,R,i),be=t.memoizedState),(Ce=$r||Wp(t,n,Ce,i,ye,be,Q)||e!==null&&e.dependencies!==null&&vo(e.dependencies))?(ge||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(i,be,Q),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(i,be,Q)),typeof y.componentDidUpdate=="function"&&(t.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof y.componentDidUpdate!="function"||x===e.memoizedProps&&ye===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&ye===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=be),y.props=i,y.state=be,y.context=Q,i=Ce):(typeof y.componentDidUpdate!="function"||x===e.memoizedProps&&ye===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&ye===e.memoizedState||(t.flags|=1024),i=!1)}return y=i,Io(e,t),i=(t.flags&128)!==0,y||i?(y=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:y.render(),t.flags|=1,e!==null&&i?(t.child=Al(t,e.child,null,d),t.child=Al(t,null,n,d)):sn(e,t,n,d),t.memoizedState=y.state,e=t.child):e=Er(e,t,d),e}function sg(e,t,n,i){return la(),t.flags|=256,sn(e,t,n,i),t.child}var Fu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zu(e){return{baseLanes:e,cachePool:Kd()}}function Ju(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Wn),e}function ug(e,t,n){var i=t.pendingProps,d=!1,y=(t.flags&128)!==0,x;if((x=y)||(x=e!==null&&e.memoizedState===null?!1:(Jt.current&2)!==0),x&&(d=!0,t.flags&=-129),x=(t.flags&32)!==0,t.flags&=-33,e===null){if(vt){if(d?ei(t):ti(),vt){var R=Vt,Q;if(Q=R){e:{for(Q=R,R=ir;Q.nodeType!==8;){if(!R){R=null;break e}if(Q=Zn(Q.nextSibling),Q===null){R=null;break e}}R=Q}R!==null?(t.memoizedState={dehydrated:R,treeContext:Oi!==null?{id:yr,overflow:br}:null,retryLane:536870912,hydrationErrors:null},Q=Cn(18,null,null,0),Q.stateNode=R,Q.return=t,t.child=Q,wn=t,Vt=null,Q=!0):Q=!1}Q||Ni(t)}if(R=t.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return Dc(R)?t.lanes=32:t.lanes=536870912,null;Sr(t)}return R=i.children,i=i.fallback,d?(ti(),d=t.mode,R=zo({mode:"hidden",children:R},d),i=Mi(i,d,n,null),R.return=t,i.return=t,R.sibling=i,t.child=R,d=t.child,d.memoizedState=Zu(n),d.childLanes=Ju(e,x,n),t.memoizedState=Fu,i):(ei(t),ec(t,R))}if(Q=e.memoizedState,Q!==null&&(R=Q.dehydrated,R!==null)){if(y)t.flags&256?(ei(t),t.flags&=-257,t=tc(e,t,n)):t.memoizedState!==null?(ti(),t.child=e.child,t.flags|=128,t=null):(ti(),d=i.fallback,R=t.mode,i=zo({mode:"visible",children:i.children},R),d=Mi(d,R,n,null),d.flags|=2,i.return=t,d.return=t,i.sibling=d,t.child=i,Al(t,e.child,null,n),i=t.child,i.memoizedState=Zu(n),i.childLanes=Ju(e,x,n),t.memoizedState=Fu,t=d);else if(ei(t),Dc(R)){if(x=R.nextSibling&&R.nextSibling.dataset,x)var ge=x.dgst;x=ge,i=Error(f(419)),i.stack="",i.digest=x,aa({value:i,source:null,stack:null}),t=tc(e,t,n)}else if(rn||oa(e,t,n,!1),x=(n&e.childLanes)!==0,rn||x){if(x=kt,x!==null&&(i=n&-n,i=(i&42)!==0?1:Yr(i),i=(i&(x.suspendedLanes|n))!==0?0:i,i!==0&&i!==Q.retryLane))throw Q.retryLane=i,pl(e,i),Un(x,e,i),eg;R.data==="$?"||vc(),t=tc(e,t,n)}else R.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=Q.treeContext,Vt=Zn(R.nextSibling),wn=t,vt=!0,Ci=null,ir=!1,e!==null&&(Gn[Vn++]=yr,Gn[Vn++]=br,Gn[Vn++]=Oi,yr=e.id,br=e.overflow,Oi=t),t=ec(t,i.children),t.flags|=4096);return t}return d?(ti(),d=i.fallback,R=t.mode,Q=e.child,ge=Q.sibling,i=mr(Q,{mode:"hidden",children:i.children}),i.subtreeFlags=Q.subtreeFlags&65011712,ge!==null?d=mr(ge,d):(d=Mi(d,R,n,null),d.flags|=2),d.return=t,i.return=t,i.sibling=d,t.child=i,i=d,d=t.child,R=e.child.memoizedState,R===null?R=Zu(n):(Q=R.cachePool,Q!==null?(ge=Zt._currentValue,Q=Q.parent!==ge?{parent:ge,pool:ge}:Q):Q=Kd(),R={baseLanes:R.baseLanes|n,cachePool:Q}),d.memoizedState=R,d.childLanes=Ju(e,x,n),t.memoizedState=Fu,i):(ei(t),n=e.child,e=n.sibling,n=mr(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(x=t.deletions,x===null?(t.deletions=[e],t.flags|=16):x.push(e)),t.child=n,t.memoizedState=null,n)}function ec(e,t){return t=zo({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function zo(e,t){return e=Cn(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function tc(e,t,n){return Al(t,e.child,null,n),e=ec(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cg(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),vu(e.return,t,n)}function nc(e,t,n,i,d){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:d}:(y.isBackwards=t,y.rendering=null,y.renderingStartTime=0,y.last=i,y.tail=n,y.tailMode=d)}function fg(e,t,n){var i=t.pendingProps,d=i.revealOrder,y=i.tail;if(sn(e,t,i.children,n),i=Jt.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cg(e,n,t);else if(e.tag===19)cg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(F(Jt,i),d){case"forwards":for(n=t.child,d=null;n!==null;)e=n.alternate,e!==null&&Uo(e)===null&&(d=n),n=n.sibling;n=d,n===null?(d=t.child,t.child=null):(d=n.sibling,n.sibling=null),nc(t,!1,d,n,y);break;case"backwards":for(n=null,d=t.child,t.child=null;d!==null;){if(e=d.alternate,e!==null&&Uo(e)===null){t.child=d;break}e=d.sibling,d.sibling=n,n=d,d=e}nc(t,!0,n,null,y);break;case"together":nc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Er(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ai|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(oa(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(f(153));if(t.child!==null){for(e=t.child,n=mr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=mr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function rc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&vo(e)))}function Dv(e,t,n){switch(t.tag){case 3:N(t,t.stateNode.containerInfo),Kr(t,Zt,e.memoizedState.cache),la();break;case 27:case 5:Re(t);break;case 4:N(t,t.stateNode.containerInfo);break;case 10:Kr(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(ei(t),t.flags|=128,null):(n&t.child.childLanes)!==0?ug(e,t,n):(ei(t),e=Er(e,t,n),e!==null?e.sibling:null);ei(t);break;case 19:var d=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(oa(e,t,n,!1),i=(n&t.childLanes)!==0),d){if(i)return fg(e,t,n);t.flags|=128}if(d=t.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),F(Jt,Jt.current),i)break;return null;case 22:case 23:return t.lanes=0,ig(e,t,n);case 24:Kr(t,Zt,e.memoizedState.cache)}return Er(e,t,n)}function hg(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)rn=!0;else{if(!rc(e,n)&&(t.flags&128)===0)return rn=!1,Dv(e,t,n);rn=(e.flags&131072)!==0}else rn=!1,vt&&(t.flags&1048576)!==0&&qd(t,bo,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var i=t.elementType,d=i._init;if(i=d(i._payload),t.type=i,typeof i=="function")hu(i)?(e=Di(i,e),t.tag=1,t=og(null,t,i,e,n)):(t.tag=0,t=$u(null,t,i,e,n));else{if(i!=null){if(d=i.$$typeof,d===W){t.tag=11,t=tg(null,t,i,e,n);break e}else if(d===D){t.tag=14,t=ng(null,t,i,e,n);break e}}throw t=we(i)||i,Error(f(306,t,""))}}return t;case 0:return $u(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,d=Di(i,t.pendingProps),og(e,t,i,d,n);case 3:e:{if(N(t,t.stateNode.containerInfo),e===null)throw Error(f(387));i=t.pendingProps;var y=t.memoizedState;d=y.element,Tu(e,t),pa(t,i,null,n);var x=t.memoizedState;if(i=x.cache,Kr(t,Zt,i),i!==y.cache&&wu(t,[Zt],n,!0),da(),i=x.element,y.isDehydrated)if(y={element:i,isDehydrated:!1,cache:x.cache},t.updateQueue.baseState=y,t.memoizedState=y,t.flags&256){t=sg(e,t,i,n);break e}else if(i!==d){d=Pn(Error(f(424)),t),aa(d),t=sg(e,t,i,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Vt=Zn(e.firstChild),wn=t,vt=!0,Ci=null,ir=!0,n=Vp(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(la(),i===d){t=Er(e,t,n);break e}sn(e,t,i,n)}t=t.child}return t;case 26:return Io(e,t),e===null?(n=mm(t.type,null,t.pendingProps,null))?t.memoizedState=n:vt||(n=t.type,e=t.pendingProps,i=Jo(ce.current).createElement(n),i[nn]=t,i[gn]=e,cn(i,n,e),lt(i),t.stateNode=i):t.memoizedState=mm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Re(t),e===null&&vt&&(i=t.stateNode=dm(t.type,t.pendingProps,ce.current),wn=t,ir=!0,d=Vt,ci(t.type)?(Lc=d,Vt=Zn(i.firstChild)):Vt=d),sn(e,t,t.pendingProps.children,n),Io(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&vt&&((d=i=Vt)&&(i=c1(i,t.type,t.pendingProps,ir),i!==null?(t.stateNode=i,wn=t,Vt=Zn(i.firstChild),ir=!1,d=!0):d=!1),d||Ni(t)),Re(t),d=t.type,y=t.pendingProps,x=e!==null?e.memoizedProps:null,i=y.children,kc(d,y)?i=null:x!==null&&kc(d,x)&&(t.flags|=32),t.memoizedState!==null&&(d=ju(e,t,Ov,null,null,n),Da._currentValue=d),Io(e,t),sn(e,t,i,n),t.child;case 6:return e===null&&vt&&((e=n=Vt)&&(n=f1(n,t.pendingProps,ir),n!==null?(t.stateNode=n,wn=t,Vt=null,e=!0):e=!1),e||Ni(t)),null;case 13:return ug(e,t,n);case 4:return N(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Al(t,null,i,n):sn(e,t,i,n),t.child;case 11:return tg(e,t,t.type,t.pendingProps,n);case 7:return sn(e,t,t.pendingProps,n),t.child;case 8:return sn(e,t,t.pendingProps.children,n),t.child;case 12:return sn(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Kr(t,t.type,i.value),sn(e,t,i.children,n),t.child;case 9:return d=t.type._context,i=t.pendingProps.children,ki(t),d=mn(d),i=i(d),t.flags|=1,sn(e,t,i,n),t.child;case 14:return ng(e,t,t.type,t.pendingProps,n);case 15:return rg(e,t,t.type,t.pendingProps,n);case 19:return fg(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},e===null?(n=zo(i,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=mr(e.child,i),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return ig(e,t,n);case 24:return ki(t),i=mn(Zt),e===null?(d=Eu(),d===null&&(d=kt,y=_u(),d.pooledCache=y,y.refCount++,y!==null&&(d.pooledCacheLanes|=n),d=y),t.memoizedState={parent:i,cache:d},Au(t),Kr(t,Zt,d)):((e.lanes&n)!==0&&(Tu(e,t),pa(t,null,null,n),da()),d=e.memoizedState,y=t.memoizedState,d.parent!==i?(d={parent:i,cache:i},t.memoizedState=d,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=d),Kr(t,Zt,i)):(i=y.cache,Kr(t,Zt,i),i!==d.cache&&wu(t,[Zt],n,!0))),sn(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(f(156,t.tag))}function xr(e){e.flags|=4}function dg(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!_m(t)){if(t=Yn.current,t!==null&&((dt&4194048)===dt?lr!==null:(dt&62914560)!==dt&&(dt&536870912)===0||t!==lr))throw fa=xu,$d;e.flags|=8192}}function Ho(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ht():536870912,e.lanes|=t,Rl|=t)}function _a(e,t){if(!vt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Pt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var d=e.child;d!==null;)n|=d.lanes|d.childLanes,i|=d.subtreeFlags&65011712,i|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)n|=d.lanes|d.childLanes,i|=d.subtreeFlags,i|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Lv(e,t,n){var i=t.pendingProps;switch(mu(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(t),null;case 1:return Pt(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),wr(Zt),fe(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ia(t)?xr(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Yd())),Pt(t),null;case 26:return n=t.memoizedState,e===null?(xr(t),n!==null?(Pt(t),dg(t,n)):(Pt(t),t.flags&=-16777217)):n?n!==e.memoizedState?(xr(t),Pt(t),dg(t,n)):(Pt(t),t.flags&=-16777217):(e.memoizedProps!==i&&xr(t),Pt(t),t.flags&=-16777217),null;case 27:xe(t),n=ce.current;var d=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==i&&xr(t);else{if(!i){if(t.stateNode===null)throw Error(f(166));return Pt(t),null}e=de.current,ia(t)?Gd(t):(e=dm(d,i,n),t.stateNode=e,xr(t))}return Pt(t),null;case 5:if(xe(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&xr(t);else{if(!i){if(t.stateNode===null)throw Error(f(166));return Pt(t),null}if(e=de.current,ia(t))Gd(t);else{switch(d=Jo(ce.current),e){case 1:e=d.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=d.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=d.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=d.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof i.is=="string"?d.createElement("select",{is:i.is}):d.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e=typeof i.is=="string"?d.createElement(n,{is:i.is}):d.createElement(n)}}e[nn]=t,e[gn]=i;e:for(d=t.child;d!==null;){if(d.tag===5||d.tag===6)e.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}t.stateNode=e;e:switch(cn(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&xr(t)}}return Pt(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&xr(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(f(166));if(e=ce.current,ia(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,d=wn,d!==null)switch(d.tag){case 27:case 5:i=d.memoizedProps}e[nn]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||am(e.nodeValue,n)),e||Ni(t)}else e=Jo(e).createTextNode(i),e[nn]=t,t.stateNode=e}return Pt(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=ia(t),i!==null&&i.dehydrated!==null){if(e===null){if(!d)throw Error(f(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(f(317));d[nn]=t}else la(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Pt(t),d=!1}else d=Yd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return t.flags&256?(Sr(t),t):(Sr(t),null)}if(Sr(t),(t.flags&128)!==0)return t.lanes=n,t;if(n=i!==null,e=e!==null&&e.memoizedState!==null,n){i=t.child,d=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(d=i.alternate.memoizedState.cachePool.pool);var y=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(y=i.memoizedState.cachePool.pool),y!==d&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Ho(t,t.updateQueue),Pt(t),null;case 4:return fe(),e===null&&Oc(t.stateNode.containerInfo),Pt(t),null;case 10:return wr(t.type),Pt(t),null;case 19:if(T(Jt),d=t.memoizedState,d===null)return Pt(t),null;if(i=(t.flags&128)!==0,y=d.rendering,y===null)if(i)_a(d,!1);else{if(Yt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(y=Uo(e),y!==null){for(t.flags|=128,_a(d,!1),e=y.updateQueue,t.updateQueue=e,Ho(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Pd(n,e),n=n.sibling;return F(Jt,Jt.current&1|2),t.child}e=e.sibling}d.tail!==null&&Z()>Go&&(t.flags|=128,i=!0,_a(d,!1),t.lanes=4194304)}else{if(!i)if(e=Uo(y),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Ho(t,e),_a(d,!0),d.tail===null&&d.tailMode==="hidden"&&!y.alternate&&!vt)return Pt(t),null}else 2*Z()-d.renderingStartTime>Go&&n!==536870912&&(t.flags|=128,i=!0,_a(d,!1),t.lanes=4194304);d.isBackwards?(y.sibling=t.child,t.child=y):(e=d.last,e!==null?e.sibling=y:t.child=y,d.last=y)}return d.tail!==null?(t=d.tail,d.rendering=t,d.tail=t.sibling,d.renderingStartTime=Z(),t.sibling=null,e=Jt.current,F(Jt,i?e&1|2:e&1),t):(Pt(t),null);case 22:case 23:return Sr(t),Cu(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(n&536870912)!==0&&(t.flags&128)===0&&(Pt(t),t.subtreeFlags&6&&(t.flags|=8192)):Pt(t),n=t.updateQueue,n!==null&&Ho(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&T(Bi),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),wr(Zt),Pt(t),null;case 25:return null;case 30:return null}throw Error(f(156,t.tag))}function Iv(e,t){switch(mu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wr(Zt),fe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return xe(t),null;case 13:if(Sr(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(f(340));la()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return T(Jt),null;case 4:return fe(),null;case 10:return wr(t.type),null;case 22:case 23:return Sr(t),Cu(),e!==null&&T(Bi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return wr(Zt),null;case 25:return null;default:return null}}function pg(e,t){switch(mu(t),t.tag){case 3:wr(Zt),fe();break;case 26:case 27:case 5:xe(t);break;case 4:fe();break;case 13:Sr(t);break;case 19:T(Jt);break;case 10:wr(t.type);break;case 22:case 23:Sr(t),Cu(),e!==null&&T(Bi);break;case 24:wr(Zt)}}function Sa(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var d=i.next;n=d;do{if((n.tag&e)===e){i=void 0;var y=n.create,x=n.inst;i=y(),x.destroy=i}n=n.next}while(n!==d)}}catch(R){Ct(t,t.return,R)}}function ni(e,t,n){try{var i=t.updateQueue,d=i!==null?i.lastEffect:null;if(d!==null){var y=d.next;i=y;do{if((i.tag&e)===e){var x=i.inst,R=x.destroy;if(R!==void 0){x.destroy=void 0,d=t;var Q=n,ge=R;try{ge()}catch(Ce){Ct(d,Q,Ce)}}}i=i.next}while(i!==y)}}catch(Ce){Ct(t,t.return,Ce)}}function gg(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{np(t,n)}catch(i){Ct(e,e.return,i)}}}function mg(e,t,n){n.props=Di(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){Ct(e,t,i)}}function Ea(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(d){Ct(e,t,d)}}function ar(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(d){Ct(e,t,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(d){Ct(e,t,d)}else n.current=null}function yg(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(d){Ct(e,e.return,d)}}function ic(e,t,n){try{var i=e.stateNode;l1(i,e.type,n,t),i[gn]=t}catch(d){Ct(e,e.return,d)}}function bg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ci(e.type)||e.tag===4}function lc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ci(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ac(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Zo));else if(i!==4&&(i===27&&ci(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(ac(e,t,n),e=e.sibling;e!==null;)ac(e,t,n),e=e.sibling}function Po(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&ci(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Po(e,t,n),e=e.sibling;e!==null;)Po(e,t,n),e=e.sibling}function vg(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,d=t.attributes;d.length;)t.removeAttributeNode(d[0]);cn(t,i,n),t[nn]=e,t[gn]=n}catch(y){Ct(e,e.return,y)}}var Ar=!1,Xt=!1,oc=!1,wg=typeof WeakSet=="function"?WeakSet:Set,ln=null;function zv(e,t){if(e=e.containerInfo,Nc=ls,e=Nd(e),lu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var d=i.anchorOffset,y=i.focusNode;i=i.focusOffset;try{n.nodeType,y.nodeType}catch{n=null;break e}var x=0,R=-1,Q=-1,ge=0,Ce=0,Be=e,ye=null;t:for(;;){for(var be;Be!==n||d!==0&&Be.nodeType!==3||(R=x+d),Be!==y||i!==0&&Be.nodeType!==3||(Q=x+i),Be.nodeType===3&&(x+=Be.nodeValue.length),(be=Be.firstChild)!==null;)ye=Be,Be=be;for(;;){if(Be===e)break t;if(ye===n&&++ge===d&&(R=x),ye===y&&++Ce===i&&(Q=x),(be=Be.nextSibling)!==null)break;Be=ye,ye=Be.parentNode}Be=be}n=R===-1||Q===-1?null:{start:R,end:Q}}else n=null}n=n||{start:0,end:0}}else n=null;for(jc={focusedElem:e,selectionRange:n},ls=!1,ln=t;ln!==null;)if(t=ln,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,ln=e;else for(;ln!==null;){switch(t=ln,y=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&y!==null){e=void 0,n=t,d=y.memoizedProps,y=y.memoizedState,i=n.stateNode;try{var it=Di(n.type,d,n.elementType===n.type);e=i.getSnapshotBeforeUpdate(it,y),i.__reactInternalSnapshotBeforeUpdate=e}catch(tt){Ct(n,n.return,tt)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Uc(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Uc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(f(163))}if(e=t.sibling,e!==null){e.return=t.return,ln=e;break}ln=t.return}}function _g(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:ri(e,n),i&4&&Sa(5,n);break;case 1:if(ri(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(x){Ct(n,n.return,x)}else{var d=Di(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(d,t,e.__reactInternalSnapshotBeforeUpdate)}catch(x){Ct(n,n.return,x)}}i&64&&gg(n),i&512&&Ea(n,n.return);break;case 3:if(ri(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{np(e,t)}catch(x){Ct(n,n.return,x)}}break;case 27:t===null&&i&4&&vg(n);case 26:case 5:ri(e,n),t===null&&i&4&&yg(n),i&512&&Ea(n,n.return);break;case 12:ri(e,n);break;case 13:ri(e,n),i&4&&xg(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Xv.bind(null,n),h1(e,n))));break;case 22:if(i=n.memoizedState!==null||Ar,!i){t=t!==null&&t.memoizedState!==null||Xt,d=Ar;var y=Xt;Ar=i,(Xt=t)&&!y?ii(e,n,(n.subtreeFlags&8772)!==0):ri(e,n),Ar=d,Xt=y}break;case 30:break;default:ri(e,n)}}function Sg(e){var t=e.alternate;t!==null&&(e.alternate=null,Sg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Qe(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Dt=null,xn=!1;function Tr(e,t,n){for(n=n.child;n!==null;)Eg(e,t,n),n=n.sibling}function Eg(e,t,n){if(m&&typeof m.onCommitFiberUnmount=="function")try{m.onCommitFiberUnmount(b,n)}catch{}switch(n.tag){case 26:Xt||ar(n,t),Tr(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Xt||ar(n,t);var i=Dt,d=xn;ci(n.type)&&(Dt=n.stateNode,xn=!1),Tr(e,t,n),ja(n.stateNode),Dt=i,xn=d;break;case 5:Xt||ar(n,t);case 6:if(i=Dt,d=xn,Dt=null,Tr(e,t,n),Dt=i,xn=d,Dt!==null)if(xn)try{(Dt.nodeType===9?Dt.body:Dt.nodeName==="HTML"?Dt.ownerDocument.body:Dt).removeChild(n.stateNode)}catch(y){Ct(n,t,y)}else try{Dt.removeChild(n.stateNode)}catch(y){Ct(n,t,y)}break;case 18:Dt!==null&&(xn?(e=Dt,fm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Ha(e)):fm(Dt,n.stateNode));break;case 4:i=Dt,d=xn,Dt=n.stateNode.containerInfo,xn=!0,Tr(e,t,n),Dt=i,xn=d;break;case 0:case 11:case 14:case 15:Xt||ni(2,n,t),Xt||ni(4,n,t),Tr(e,t,n);break;case 1:Xt||(ar(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&mg(n,t,i)),Tr(e,t,n);break;case 21:Tr(e,t,n);break;case 22:Xt=(i=Xt)||n.memoizedState!==null,Tr(e,t,n),Xt=i;break;default:Tr(e,t,n)}}function xg(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ha(e)}catch(n){Ct(t,t.return,n)}}function Hv(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new wg),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new wg),t;default:throw Error(f(435,e.tag))}}function sc(e,t){var n=Hv(e);t.forEach(function(i){var d=Kv.bind(null,e,i);n.has(i)||(n.add(i),i.then(d,d))})}function Nn(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var d=n[i],y=e,x=t,R=x;e:for(;R!==null;){switch(R.tag){case 27:if(ci(R.type)){Dt=R.stateNode,xn=!1;break e}break;case 5:Dt=R.stateNode,xn=!1;break e;case 3:case 4:Dt=R.stateNode.containerInfo,xn=!0;break e}R=R.return}if(Dt===null)throw Error(f(160));Eg(y,x,d),Dt=null,xn=!1,y=d.alternate,y!==null&&(y.return=null),d.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Ag(t,e),t=t.sibling}var Fn=null;function Ag(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Nn(t,e),jn(e),i&4&&(ni(3,e,e.return),Sa(3,e),ni(5,e,e.return));break;case 1:Nn(t,e),jn(e),i&512&&(Xt||n===null||ar(n,n.return)),i&64&&Ar&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var d=Fn;if(Nn(t,e),jn(e),i&512&&(Xt||n===null||ar(n,n.return)),i&4){var y=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,d=d.ownerDocument||d;t:switch(i){case"title":y=d.getElementsByTagName("title")[0],(!y||y[qe]||y[nn]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=d.createElement(i),d.head.insertBefore(y,d.querySelector("head > title"))),cn(y,i,n),y[nn]=e,lt(y),i=y;break e;case"link":var x=vm("link","href",d).get(i+(n.href||""));if(x){for(var R=0;R<x.length;R++)if(y=x[R],y.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&y.getAttribute("rel")===(n.rel==null?null:n.rel)&&y.getAttribute("title")===(n.title==null?null:n.title)&&y.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){x.splice(R,1);break t}}y=d.createElement(i),cn(y,i,n),d.head.appendChild(y);break;case"meta":if(x=vm("meta","content",d).get(i+(n.content||""))){for(R=0;R<x.length;R++)if(y=x[R],y.getAttribute("content")===(n.content==null?null:""+n.content)&&y.getAttribute("name")===(n.name==null?null:n.name)&&y.getAttribute("property")===(n.property==null?null:n.property)&&y.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&y.getAttribute("charset")===(n.charSet==null?null:n.charSet)){x.splice(R,1);break t}}y=d.createElement(i),cn(y,i,n),d.head.appendChild(y);break;default:throw Error(f(468,i))}y[nn]=e,lt(y),i=y}e.stateNode=i}else wm(d,e.type,e.stateNode);else e.stateNode=bm(d,i,e.memoizedProps);else y!==i?(y===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):y.count--,i===null?wm(d,e.type,e.stateNode):bm(d,i,e.memoizedProps)):i===null&&e.stateNode!==null&&ic(e,e.memoizedProps,n.memoizedProps)}break;case 27:Nn(t,e),jn(e),i&512&&(Xt||n===null||ar(n,n.return)),n!==null&&i&4&&ic(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Nn(t,e),jn(e),i&512&&(Xt||n===null||ar(n,n.return)),e.flags&32){d=e.stateNode;try{ol(d,"")}catch(be){Ct(e,e.return,be)}}i&4&&e.stateNode!=null&&(d=e.memoizedProps,ic(e,d,n!==null?n.memoizedProps:d)),i&1024&&(oc=!0);break;case 6:if(Nn(t,e),jn(e),i&4){if(e.stateNode===null)throw Error(f(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(be){Ct(e,e.return,be)}}break;case 3:if(ns=null,d=Fn,Fn=es(t.containerInfo),Nn(t,e),Fn=d,jn(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Ha(t.containerInfo)}catch(be){Ct(e,e.return,be)}oc&&(oc=!1,Tg(e));break;case 4:i=Fn,Fn=es(e.stateNode.containerInfo),Nn(t,e),jn(e),Fn=i;break;case 12:Nn(t,e),jn(e);break;case 13:Nn(t,e),jn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(pc=Z()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,sc(e,i)));break;case 22:d=e.memoizedState!==null;var Q=n!==null&&n.memoizedState!==null,ge=Ar,Ce=Xt;if(Ar=ge||d,Xt=Ce||Q,Nn(t,e),Xt=Ce,Ar=ge,jn(e),i&8192)e:for(t=e.stateNode,t._visibility=d?t._visibility&-2:t._visibility|1,d&&(n===null||Q||Ar||Xt||Li(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){Q=n=t;try{if(y=Q.stateNode,d)x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{R=Q.stateNode;var Be=Q.memoizedProps.style,ye=Be!=null&&Be.hasOwnProperty("display")?Be.display:null;R.style.display=ye==null||typeof ye=="boolean"?"":(""+ye).trim()}}catch(be){Ct(Q,Q.return,be)}}}else if(t.tag===6){if(n===null){Q=t;try{Q.stateNode.nodeValue=d?"":Q.memoizedProps}catch(be){Ct(Q,Q.return,be)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,sc(e,n))));break;case 19:Nn(t,e),jn(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,sc(e,i)));break;case 30:break;case 21:break;default:Nn(t,e),jn(e)}}function jn(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(bg(i)){n=i;break}i=i.return}if(n==null)throw Error(f(160));switch(n.tag){case 27:var d=n.stateNode,y=lc(e);Po(e,y,d);break;case 5:var x=n.stateNode;n.flags&32&&(ol(x,""),n.flags&=-33);var R=lc(e);Po(e,R,x);break;case 3:case 4:var Q=n.stateNode.containerInfo,ge=lc(e);ac(e,ge,Q);break;default:throw Error(f(161))}}catch(Ce){Ct(e,e.return,Ce)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Tg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Tg(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ri(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)_g(e,t.alternate,t),t=t.sibling}function Li(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ni(4,t,t.return),Li(t);break;case 1:ar(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&mg(t,t.return,n),Li(t);break;case 27:ja(t.stateNode);case 26:case 5:ar(t,t.return),Li(t);break;case 22:t.memoizedState===null&&Li(t);break;case 30:Li(t);break;default:Li(t)}e=e.sibling}}function ii(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,d=e,y=t,x=y.flags;switch(y.tag){case 0:case 11:case 15:ii(d,y,n),Sa(4,y);break;case 1:if(ii(d,y,n),i=y,d=i.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(ge){Ct(i,i.return,ge)}if(i=y,d=i.updateQueue,d!==null){var R=i.stateNode;try{var Q=d.shared.hiddenCallbacks;if(Q!==null)for(d.shared.hiddenCallbacks=null,d=0;d<Q.length;d++)tp(Q[d],R)}catch(ge){Ct(i,i.return,ge)}}n&&x&64&&gg(y),Ea(y,y.return);break;case 27:vg(y);case 26:case 5:ii(d,y,n),n&&i===null&&x&4&&yg(y),Ea(y,y.return);break;case 12:ii(d,y,n);break;case 13:ii(d,y,n),n&&x&4&&xg(d,y);break;case 22:y.memoizedState===null&&ii(d,y,n),Ea(y,y.return);break;case 30:break;default:ii(d,y,n)}t=t.sibling}}function uc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&sa(n))}function cc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&sa(e))}function or(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Mg(e,t,n,i),t=t.sibling}function Mg(e,t,n,i){var d=t.flags;switch(t.tag){case 0:case 11:case 15:or(e,t,n,i),d&2048&&Sa(9,t);break;case 1:or(e,t,n,i);break;case 3:or(e,t,n,i),d&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&sa(e)));break;case 12:if(d&2048){or(e,t,n,i),e=t.stateNode;try{var y=t.memoizedProps,x=y.id,R=y.onPostCommit;typeof R=="function"&&R(x,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(Q){Ct(t,t.return,Q)}}else or(e,t,n,i);break;case 13:or(e,t,n,i);break;case 23:break;case 22:y=t.stateNode,x=t.alternate,t.memoizedState!==null?y._visibility&2?or(e,t,n,i):xa(e,t):y._visibility&2?or(e,t,n,i):(y._visibility|=2,Tl(e,t,n,i,(t.subtreeFlags&10256)!==0)),d&2048&&uc(x,t);break;case 24:or(e,t,n,i),d&2048&&cc(t.alternate,t);break;default:or(e,t,n,i)}}function Tl(e,t,n,i,d){for(d=d&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var y=e,x=t,R=n,Q=i,ge=x.flags;switch(x.tag){case 0:case 11:case 15:Tl(y,x,R,Q,d),Sa(8,x);break;case 23:break;case 22:var Ce=x.stateNode;x.memoizedState!==null?Ce._visibility&2?Tl(y,x,R,Q,d):xa(y,x):(Ce._visibility|=2,Tl(y,x,R,Q,d)),d&&ge&2048&&uc(x.alternate,x);break;case 24:Tl(y,x,R,Q,d),d&&ge&2048&&cc(x.alternate,x);break;default:Tl(y,x,R,Q,d)}t=t.sibling}}function xa(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,d=i.flags;switch(i.tag){case 22:xa(n,i),d&2048&&uc(i.alternate,i);break;case 24:xa(n,i),d&2048&&cc(i.alternate,i);break;default:xa(n,i)}t=t.sibling}}var Aa=8192;function Ml(e){if(e.subtreeFlags&Aa)for(e=e.child;e!==null;)Og(e),e=e.sibling}function Og(e){switch(e.tag){case 26:Ml(e),e.flags&Aa&&e.memoizedState!==null&&A1(Fn,e.memoizedState,e.memoizedProps);break;case 5:Ml(e);break;case 3:case 4:var t=Fn;Fn=es(e.stateNode.containerInfo),Ml(e),Fn=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Aa,Aa=16777216,Ml(e),Aa=t):Ml(e));break;default:Ml(e)}}function Rg(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ta(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];ln=i,Ng(i,e)}Rg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Cg(e),e=e.sibling}function Cg(e){switch(e.tag){case 0:case 11:case 15:Ta(e),e.flags&2048&&ni(9,e,e.return);break;case 3:Ta(e);break;case 12:Ta(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,qo(e)):Ta(e);break;default:Ta(e)}}function qo(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];ln=i,Ng(i,e)}Rg(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ni(8,t,t.return),qo(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,qo(t));break;default:qo(t)}e=e.sibling}}function Ng(e,t){for(;ln!==null;){var n=ln;switch(n.tag){case 0:case 11:case 15:ni(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:sa(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,ln=i;else e:for(n=e;ln!==null;){i=ln;var d=i.sibling,y=i.return;if(Sg(i),i===n){ln=null;break e}if(d!==null){d.return=y,ln=d;break e}ln=y}}}var Pv={getCacheForType:function(e){var t=mn(Zt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},qv=typeof WeakMap=="function"?WeakMap:Map,St=0,kt=null,ft=null,dt=0,Et=0,kn=null,li=!1,Ol=!1,fc=!1,Mr=0,Yt=0,ai=0,Ii=0,hc=0,Wn=0,Rl=0,Ma=null,An=null,dc=!1,pc=0,Go=1/0,Vo=null,oi=null,un=0,si=null,Cl=null,Nl=0,gc=0,mc=null,jg=null,Oa=0,yc=null;function Bn(){if((St&2)!==0&&dt!==0)return dt&-dt;if(X.T!==null){var e=bl;return e!==0?e:xc()}return Ja()}function kg(){Wn===0&&(Wn=(dt&536870912)===0||vt?bt():536870912);var e=Yn.current;return e!==null&&(e.flags|=32),Wn}function Un(e,t,n){(e===kt&&(Et===2||Et===9)||e.cancelPendingCommit!==null)&&(jl(e,0),ui(e,dt,Wn,!1)),Bt(e,n),((St&2)===0||e!==kt)&&(e===kt&&((St&2)===0&&(Ii|=n),Yt===4&&ui(e,dt,Wn,!1)),sr(e))}function Bg(e,t,n){if((St&6)!==0)throw Error(f(327));var i=!n&&(t&124)===0&&(t&e.expiredLanes)===0||et(e,t),d=i?Yv(e,t):wc(e,t,!0),y=i;do{if(d===0){Ol&&!i&&ui(e,t,0,!1);break}else{if(n=e.current.alternate,y&&!Gv(n)){d=wc(e,t,!1),y=!1;continue}if(d===2){if(y=t,e.errorRecoveryDisabledLanes&y)var x=0;else x=e.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){t=x;e:{var R=e;d=Ma;var Q=R.current.memoizedState.isDehydrated;if(Q&&(jl(R,x).flags|=256),x=wc(R,x,!1),x!==2){if(fc&&!Q){R.errorRecoveryDisabledLanes|=y,Ii|=y,d=4;break e}y=An,An=d,y!==null&&(An===null?An=y:An.push.apply(An,y))}d=x}if(y=!1,d!==2)continue}}if(d===1){jl(e,0),ui(e,t,0,!0);break}e:{switch(i=e,y=d,y){case 0:case 1:throw Error(f(345));case 4:if((t&4194048)!==t)break;case 6:ui(i,t,Wn,!li);break e;case 2:An=null;break;case 3:case 5:break;default:throw Error(f(329))}if((t&62914560)===t&&(d=pc+300-Z(),10<d)){if(ui(i,t,Wn,!li),Ve(i,0,!0)!==0)break e;i.timeoutHandle=um(Ug.bind(null,i,n,An,Vo,dc,t,Wn,Ii,Rl,li,y,2,-0,0),d);break e}Ug(i,n,An,Vo,dc,t,Wn,Ii,Rl,li,y,0,-0,0)}}break}while(!0);sr(e)}function Ug(e,t,n,i,d,y,x,R,Q,ge,Ce,Be,ye,be){if(e.timeoutHandle=-1,Be=t.subtreeFlags,(Be&8192||(Be&16785408)===16785408)&&(Ua={stylesheets:null,count:0,unsuspend:x1},Og(t),Be=T1(),Be!==null)){e.cancelPendingCommit=Be(qg.bind(null,e,t,y,n,i,d,x,R,Q,Ce,1,ye,be)),ui(e,y,x,!ge);return}qg(e,t,y,n,i,d,x,R,Q)}function Gv(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var d=n[i],y=d.getSnapshot;d=d.value;try{if(!Rn(y(),d))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ui(e,t,n,i){t&=~hc,t&=~Ii,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var d=t;0<d;){var y=31-O(d),x=1<<y;i[y]=-1,d&=~x}n!==0&&Ut(e,n,t)}function Yo(){return(St&6)===0?(Ra(0),!1):!0}function bc(){if(ft!==null){if(Et===0)var e=ft.return;else e=ft,vr=ji=null,Uu(e),xl=null,va=0,e=ft;for(;e!==null;)pg(e.alternate,e),e=e.return;ft=null}}function jl(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,o1(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),bc(),kt=e,ft=n=mr(e.current,null),dt=t,Et=0,kn=null,li=!1,Ol=et(e,t),fc=!1,Rl=Wn=hc=Ii=ai=Yt=0,An=Ma=null,dc=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var d=31-O(i),y=1<<d;t|=e[d],i&=~y}return Mr=t,ho(),n}function Dg(e,t){st=null,X.H=jo,t===ca||t===So?(t=Jd(),Et=3):t===$d?(t=Jd(),Et=4):Et=t===eg?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,kn=t,ft===null&&(Yt=1,Lo(e,Pn(t,e.current)))}function Lg(){var e=X.H;return X.H=jo,e===null?jo:e}function Ig(){var e=X.A;return X.A=Pv,e}function vc(){Yt=4,li||(dt&4194048)!==dt&&Yn.current!==null||(Ol=!0),(ai&134217727)===0&&(Ii&134217727)===0||kt===null||ui(kt,dt,Wn,!1)}function wc(e,t,n){var i=St;St|=2;var d=Lg(),y=Ig();(kt!==e||dt!==t)&&(Vo=null,jl(e,t)),t=!1;var x=Yt;e:do try{if(Et!==0&&ft!==null){var R=ft,Q=kn;switch(Et){case 8:bc(),x=6;break e;case 3:case 2:case 9:case 6:Yn.current===null&&(t=!0);var ge=Et;if(Et=0,kn=null,kl(e,R,Q,ge),n&&Ol){x=0;break e}break;default:ge=Et,Et=0,kn=null,kl(e,R,Q,ge)}}Vv(),x=Yt;break}catch(Ce){Dg(e,Ce)}while(!0);return t&&e.shellSuspendCounter++,vr=ji=null,St=i,X.H=d,X.A=y,ft===null&&(kt=null,dt=0,ho()),x}function Vv(){for(;ft!==null;)zg(ft)}function Yv(e,t){var n=St;St|=2;var i=Lg(),d=Ig();kt!==e||dt!==t?(Vo=null,Go=Z()+500,jl(e,t)):Ol=et(e,t);e:do try{if(Et!==0&&ft!==null){t=ft;var y=kn;t:switch(Et){case 1:Et=0,kn=null,kl(e,t,y,1);break;case 2:case 9:if(Fd(y)){Et=0,kn=null,Hg(t);break}t=function(){Et!==2&&Et!==9||kt!==e||(Et=7),sr(e)},y.then(t,t);break e;case 3:Et=7;break e;case 4:Et=5;break e;case 7:Fd(y)?(Et=0,kn=null,Hg(t)):(Et=0,kn=null,kl(e,t,y,7));break;case 5:var x=null;switch(ft.tag){case 26:x=ft.memoizedState;case 5:case 27:var R=ft;if(!x||_m(x)){Et=0,kn=null;var Q=R.sibling;if(Q!==null)ft=Q;else{var ge=R.return;ge!==null?(ft=ge,Wo(ge)):ft=null}break t}}Et=0,kn=null,kl(e,t,y,5);break;case 6:Et=0,kn=null,kl(e,t,y,6);break;case 8:bc(),Yt=6;break e;default:throw Error(f(462))}}Wv();break}catch(Ce){Dg(e,Ce)}while(!0);return vr=ji=null,X.H=i,X.A=d,St=n,ft!==null?0:(kt=null,dt=0,ho(),Yt)}function Wv(){for(;ft!==null&&!q();)zg(ft)}function zg(e){var t=hg(e.alternate,e,Mr);e.memoizedProps=e.pendingProps,t===null?Wo(e):ft=t}function Hg(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=ag(n,t,t.pendingProps,t.type,void 0,dt);break;case 11:t=ag(n,t,t.pendingProps,t.type.render,t.ref,dt);break;case 5:Uu(t);default:pg(n,t),t=ft=Pd(t,Mr),t=hg(n,t,Mr)}e.memoizedProps=e.pendingProps,t===null?Wo(e):ft=t}function kl(e,t,n,i){vr=ji=null,Uu(t),xl=null,va=0;var d=t.return;try{if(Uv(e,d,t,n,dt)){Yt=1,Lo(e,Pn(n,e.current)),ft=null;return}}catch(y){if(d!==null)throw ft=d,y;Yt=1,Lo(e,Pn(n,e.current)),ft=null;return}t.flags&32768?(vt||i===1?e=!0:Ol||(dt&536870912)!==0?e=!1:(li=e=!0,(i===2||i===9||i===3||i===6)&&(i=Yn.current,i!==null&&i.tag===13&&(i.flags|=16384))),Pg(t,e)):Wo(t)}function Wo(e){var t=e;do{if((t.flags&32768)!==0){Pg(t,li);return}e=t.return;var n=Lv(t.alternate,t,Mr);if(n!==null){ft=n;return}if(t=t.sibling,t!==null){ft=t;return}ft=t=e}while(t!==null);Yt===0&&(Yt=5)}function Pg(e,t){do{var n=Iv(e.alternate,e);if(n!==null){n.flags&=32767,ft=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ft=e;return}ft=e=n}while(e!==null);Yt=6,ft=null}function qg(e,t,n,i,d,y,x,R,Q){e.cancelPendingCommit=null;do Qo();while(un!==0);if((St&6)!==0)throw Error(f(327));if(t!==null){if(t===e.current)throw Error(f(177));if(y=t.lanes|t.childLanes,y|=cu,Ft(e,n,y,x,R,Q),e===kt&&(ft=kt=null,dt=0),Cl=t,si=e,Nl=n,gc=y,mc=d,jg=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,$v(oe,function(){return Qg(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=X.T,X.T=null,d=ie.p,ie.p=2,x=St,St|=4;try{zv(e,t,n)}finally{St=x,ie.p=d,X.T=i}}un=1,Gg(),Vg(),Yg()}}function Gg(){if(un===1){un=0;var e=si,t=Cl,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=X.T,X.T=null;var i=ie.p;ie.p=2;var d=St;St|=4;try{Ag(t,e);var y=jc,x=Nd(e.containerInfo),R=y.focusedElem,Q=y.selectionRange;if(x!==R&&R&&R.ownerDocument&&Cd(R.ownerDocument.documentElement,R)){if(Q!==null&&lu(R)){var ge=Q.start,Ce=Q.end;if(Ce===void 0&&(Ce=ge),"selectionStart"in R)R.selectionStart=ge,R.selectionEnd=Math.min(Ce,R.value.length);else{var Be=R.ownerDocument||document,ye=Be&&Be.defaultView||window;if(ye.getSelection){var be=ye.getSelection(),it=R.textContent.length,tt=Math.min(Q.start,it),Tt=Q.end===void 0?tt:Math.min(Q.end,it);!be.extend&&tt>Tt&&(x=Tt,Tt=tt,tt=x);var ue=Rd(R,tt),re=Rd(R,Tt);if(ue&&re&&(be.rangeCount!==1||be.anchorNode!==ue.node||be.anchorOffset!==ue.offset||be.focusNode!==re.node||be.focusOffset!==re.offset)){var pe=Be.createRange();pe.setStart(ue.node,ue.offset),be.removeAllRanges(),tt>Tt?(be.addRange(pe),be.extend(re.node,re.offset)):(pe.setEnd(re.node,re.offset),be.addRange(pe))}}}}for(Be=[],be=R;be=be.parentNode;)be.nodeType===1&&Be.push({element:be,left:be.scrollLeft,top:be.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<Be.length;R++){var Ne=Be[R];Ne.element.scrollLeft=Ne.left,Ne.element.scrollTop=Ne.top}}ls=!!Nc,jc=Nc=null}finally{St=d,ie.p=i,X.T=n}}e.current=t,un=2}}function Vg(){if(un===2){un=0;var e=si,t=Cl,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=X.T,X.T=null;var i=ie.p;ie.p=2;var d=St;St|=4;try{_g(e,t.alternate,t)}finally{St=d,ie.p=i,X.T=n}}un=3}}function Yg(){if(un===4||un===3){un=0,te();var e=si,t=Cl,n=Nl,i=jg;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?un=5:(un=0,Cl=si=null,Wg(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(oi=null),Ql(n),t=t.stateNode,m&&typeof m.onCommitFiberRoot=="function")try{m.onCommitFiberRoot(b,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=X.T,d=ie.p,ie.p=2,X.T=null;try{for(var y=e.onRecoverableError,x=0;x<i.length;x++){var R=i[x];y(R.value,{componentStack:R.stack})}}finally{X.T=t,ie.p=d}}(Nl&3)!==0&&Qo(),sr(e),d=e.pendingLanes,(n&4194090)!==0&&(d&42)!==0?e===yc?Oa++:(Oa=0,yc=e):Oa=0,Ra(0)}}function Wg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,sa(t)))}function Qo(e){return Gg(),Vg(),Yg(),Qg()}function Qg(){if(un!==5)return!1;var e=si,t=gc;gc=0;var n=Ql(Nl),i=X.T,d=ie.p;try{ie.p=32>n?32:n,X.T=null,n=mc,mc=null;var y=si,x=Nl;if(un=0,Cl=si=null,Nl=0,(St&6)!==0)throw Error(f(331));var R=St;if(St|=4,Cg(y.current),Mg(y,y.current,x,n),St=R,Ra(0,!1),m&&typeof m.onPostCommitFiberRoot=="function")try{m.onPostCommitFiberRoot(b,y)}catch{}return!0}finally{ie.p=d,X.T=i,Wg(e,t)}}function Xg(e,t,n){t=Pn(n,t),t=Ku(e.stateNode,t,2),e=Zr(e,t,2),e!==null&&(Bt(e,2),sr(e))}function Ct(e,t,n){if(e.tag===3)Xg(e,e,n);else for(;t!==null;){if(t.tag===3){Xg(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(oi===null||!oi.has(i))){e=Pn(n,e),n=Zp(2),i=Zr(t,n,2),i!==null&&(Jp(n,i,t,e),Bt(i,2),sr(i));break}}t=t.return}}function _c(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new qv;var d=new Set;i.set(t,d)}else d=i.get(t),d===void 0&&(d=new Set,i.set(t,d));d.has(n)||(fc=!0,d.add(n),e=Qv.bind(null,e,t,n),t.then(e,e))}function Qv(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,kt===e&&(dt&n)===n&&(Yt===4||Yt===3&&(dt&62914560)===dt&&300>Z()-pc?(St&2)===0&&jl(e,0):hc|=n,Rl===dt&&(Rl=0)),sr(e)}function Kg(e,t){t===0&&(t=Ht()),e=pl(e,t),e!==null&&(Bt(e,t),sr(e))}function Xv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Kg(e,n)}function Kv(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,d=e.memoizedState;d!==null&&(n=d.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(f(314))}i!==null&&i.delete(t),Kg(e,n)}function $v(e,t){return Ie(e,t)}var Xo=null,Bl=null,Sc=!1,Ko=!1,Ec=!1,zi=0;function sr(e){e!==Bl&&e.next===null&&(Bl===null?Xo=Bl=e:Bl=Bl.next=e),Ko=!0,Sc||(Sc=!0,Zv())}function Ra(e,t){if(!Ec&&Ko){Ec=!0;do for(var n=!1,i=Xo;i!==null;){if(e!==0){var d=i.pendingLanes;if(d===0)var y=0;else{var x=i.suspendedLanes,R=i.pingedLanes;y=(1<<31-O(42|e)+1)-1,y&=d&~(x&~R),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(n=!0,Jg(i,y))}else y=dt,y=Ve(i,i===kt?y:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(y&3)===0||et(i,y)||(n=!0,Jg(i,y));i=i.next}while(n);Ec=!1}}function Fv(){$g()}function $g(){Ko=Sc=!1;var e=0;zi!==0&&(a1()&&(e=zi),zi=0);for(var t=Z(),n=null,i=Xo;i!==null;){var d=i.next,y=Fg(i,t);y===0?(i.next=null,n===null?Xo=d:n.next=d,d===null&&(Bl=n)):(n=i,(e!==0||(y&3)!==0)&&(Ko=!0)),i=d}Ra(e)}function Fg(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,d=e.expirationTimes,y=e.pendingLanes&-62914561;0<y;){var x=31-O(y),R=1<<x,Q=d[x];Q===-1?((R&n)===0||(R&i)!==0)&&(d[x]=Fe(R,t)):Q<=t&&(e.expiredLanes|=R),y&=~R}if(t=kt,n=dt,n=Ve(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(Et===2||Et===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&je(i),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||et(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&je(i),Ql(n)){case 2:case 8:n=K;break;case 32:n=oe;break;case 268435456:n=J;break;default:n=oe}return i=Zg.bind(null,e),n=Ie(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&je(i),e.callbackPriority=2,e.callbackNode=null,2}function Zg(e,t){if(un!==0&&un!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Qo()&&e.callbackNode!==n)return null;var i=dt;return i=Ve(e,e===kt?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Bg(e,i,t),Fg(e,Z()),e.callbackNode!=null&&e.callbackNode===n?Zg.bind(null,e):null)}function Jg(e,t){if(Qo())return null;Bg(e,t,!0)}function Zv(){s1(function(){(St&6)!==0?Ie(Ae,Fv):$g()})}function xc(){return zi===0&&(zi=bt()),zi}function em(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:lo(""+e)}function tm(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Jv(e,t,n,i,d){if(t==="submit"&&n&&n.stateNode===d){var y=em((d[gn]||null).action),x=i.submitter;x&&(t=(t=x[gn]||null)?em(t.formAction):x.getAttribute("formAction"),t!==null&&(y=t,x=null));var R=new uo("action","action",null,i,d);e.push({event:R,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(zi!==0){var Q=x?tm(d,x):new FormData(d);Vu(n,{pending:!0,data:Q,method:d.method,action:y},null,Q)}}else typeof y=="function"&&(R.preventDefault(),Q=x?tm(d,x):new FormData(d),Vu(n,{pending:!0,data:Q,method:d.method,action:y},y,Q))},currentTarget:d}]})}}for(var Ac=0;Ac<uu.length;Ac++){var Tc=uu[Ac],e1=Tc.toLowerCase(),t1=Tc[0].toUpperCase()+Tc.slice(1);$n(e1,"on"+t1)}$n(Bd,"onAnimationEnd"),$n(Ud,"onAnimationIteration"),$n(Dd,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(bv,"onTransitionRun"),$n(vv,"onTransitionStart"),$n(wv,"onTransitionCancel"),$n(Ld,"onTransitionEnd"),Qr("onMouseEnter",["mouseout","mouseover"]),Qr("onMouseLeave",["mouseout","mouseover"]),Qr("onPointerEnter",["pointerout","pointerover"]),Qr("onPointerLeave",["pointerout","pointerover"]),dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dr("onBeforeInput",["compositionend","keypress","textInput","paste"]),dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ca));function nm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],d=i.event;i=i.listeners;e:{var y=void 0;if(t)for(var x=i.length-1;0<=x;x--){var R=i[x],Q=R.instance,ge=R.currentTarget;if(R=R.listener,Q!==y&&d.isPropagationStopped())break e;y=R,d.currentTarget=ge;try{y(d)}catch(Ce){Do(Ce)}d.currentTarget=null,y=Q}else for(x=0;x<i.length;x++){if(R=i[x],Q=R.instance,ge=R.currentTarget,R=R.listener,Q!==y&&d.isPropagationStopped())break e;y=R,d.currentTarget=ge;try{y(d)}catch(Ce){Do(Ce)}d.currentTarget=null,y=Q}}}}function ht(e,t){var n=t[Xl];n===void 0&&(n=t[Xl]=new Set);var i=e+"__bubble";n.has(i)||(rm(t,e,2,!1),n.add(i))}function Mc(e,t,n){var i=0;t&&(i|=4),rm(n,e,i,t)}var $o="_reactListening"+Math.random().toString(36).slice(2);function Oc(e){if(!e[$o]){e[$o]=!0,_t.forEach(function(n){n!=="selectionchange"&&(n1.has(n)||Mc(n,!1,e),Mc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$o]||(t[$o]=!0,Mc("selectionchange",!1,t))}}function rm(e,t,n,i){switch(Mm(t)){case 2:var d=R1;break;case 8:d=C1;break;default:d=qc}n=d.bind(null,t,n,e),d=void 0,!$s||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(d=!0),i?d!==void 0?e.addEventListener(t,n,{capture:!0,passive:d}):e.addEventListener(t,n,!0):d!==void 0?e.addEventListener(t,n,{passive:d}):e.addEventListener(t,n,!1)}function Rc(e,t,n,i,d){var y=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var x=i.tag;if(x===3||x===4){var R=i.stateNode.containerInfo;if(R===d)break;if(x===4)for(x=i.return;x!==null;){var Q=x.tag;if((Q===3||Q===4)&&x.stateNode.containerInfo===d)return;x=x.return}for(;R!==null;){if(x=Je(R),x===null)return;if(Q=x.tag,Q===5||Q===6||Q===26||Q===27){i=y=x;continue e}R=R.parentNode}}i=i.return}cd(function(){var ge=y,Ce=Xs(n),Be=[];e:{var ye=Id.get(e);if(ye!==void 0){var be=uo,it=e;switch(e){case"keypress":if(oo(n)===0)break e;case"keydown":case"keyup":be=$b;break;case"focusin":it="focus",be=eu;break;case"focusout":it="blur",be=eu;break;case"beforeblur":case"afterblur":be=eu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=dd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=Ib;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=Jb;break;case Bd:case Ud:case Dd:be=Pb;break;case Ld:be=tv;break;case"scroll":case"scrollend":be=Db;break;case"wheel":be=rv;break;case"copy":case"cut":case"paste":be=Gb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=gd;break;case"toggle":case"beforetoggle":be=lv}var tt=(t&4)!==0,Tt=!tt&&(e==="scroll"||e==="scrollend"),ue=tt?ye!==null?ye+"Capture":null:ye;tt=[];for(var re=ge,pe;re!==null;){var Ne=re;if(pe=Ne.stateNode,Ne=Ne.tag,Ne!==5&&Ne!==26&&Ne!==27||pe===null||ue===null||(Ne=Kl(re,ue),Ne!=null&&tt.push(Na(re,Ne,pe))),Tt)break;re=re.return}0<tt.length&&(ye=new be(ye,it,null,n,Ce),Be.push({event:ye,listeners:tt}))}}if((t&7)===0){e:{if(ye=e==="mouseover"||e==="pointerover",be=e==="mouseout"||e==="pointerout",ye&&n!==Qs&&(it=n.relatedTarget||n.fromElement)&&(Je(it)||it[Wr]))break e;if((be||ye)&&(ye=Ce.window===Ce?Ce:(ye=Ce.ownerDocument)?ye.defaultView||ye.parentWindow:window,be?(it=n.relatedTarget||n.toElement,be=ge,it=it?Je(it):null,it!==null&&(Tt=u(it),tt=it.tag,it!==Tt||tt!==5&&tt!==27&&tt!==6)&&(it=null)):(be=null,it=ge),be!==it)){if(tt=dd,Ne="onMouseLeave",ue="onMouseEnter",re="mouse",(e==="pointerout"||e==="pointerover")&&(tt=gd,Ne="onPointerLeave",ue="onPointerEnter",re="pointer"),Tt=be==null?ye:pt(be),pe=it==null?ye:pt(it),ye=new tt(Ne,re+"leave",be,n,Ce),ye.target=Tt,ye.relatedTarget=pe,Ne=null,Je(Ce)===ge&&(tt=new tt(ue,re+"enter",it,n,Ce),tt.target=pe,tt.relatedTarget=Tt,Ne=tt),Tt=Ne,be&&it)t:{for(tt=be,ue=it,re=0,pe=tt;pe;pe=Ul(pe))re++;for(pe=0,Ne=ue;Ne;Ne=Ul(Ne))pe++;for(;0<re-pe;)tt=Ul(tt),re--;for(;0<pe-re;)ue=Ul(ue),pe--;for(;re--;){if(tt===ue||ue!==null&&tt===ue.alternate)break t;tt=Ul(tt),ue=Ul(ue)}tt=null}else tt=null;be!==null&&im(Be,ye,be,tt,!1),it!==null&&Tt!==null&&im(Be,Tt,it,tt,!0)}}e:{if(ye=ge?pt(ge):window,be=ye.nodeName&&ye.nodeName.toLowerCase(),be==="select"||be==="input"&&ye.type==="file")var We=Ed;else if(_d(ye))if(xd)We=gv;else{We=dv;var ct=hv}else be=ye.nodeName,!be||be.toLowerCase()!=="input"||ye.type!=="checkbox"&&ye.type!=="radio"?ge&&Ws(ge.elementType)&&(We=Ed):We=pv;if(We&&(We=We(e,ge))){Sd(Be,We,n,Ce);break e}ct&&ct(e,ye,ge),e==="focusout"&&ge&&ye.type==="number"&&ge.memoizedProps.value!=null&&Ys(ye,"number",ye.value)}switch(ct=ge?pt(ge):window,e){case"focusin":(_d(ct)||ct.contentEditable==="true")&&(fl=ct,au=ge,ra=null);break;case"focusout":ra=au=fl=null;break;case"mousedown":ou=!0;break;case"contextmenu":case"mouseup":case"dragend":ou=!1,jd(Be,n,Ce);break;case"selectionchange":if(yv)break;case"keydown":case"keyup":jd(Be,n,Ce)}var Ke;if(nu)e:{switch(e){case"compositionstart":var nt="onCompositionStart";break e;case"compositionend":nt="onCompositionEnd";break e;case"compositionupdate":nt="onCompositionUpdate";break e}nt=void 0}else cl?vd(e,n)&&(nt="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(nt="onCompositionStart");nt&&(md&&n.locale!=="ko"&&(cl||nt!=="onCompositionStart"?nt==="onCompositionEnd"&&cl&&(Ke=fd()):(Xr=Ce,Fs="value"in Xr?Xr.value:Xr.textContent,cl=!0)),ct=Fo(ge,nt),0<ct.length&&(nt=new pd(nt,e,null,n,Ce),Be.push({event:nt,listeners:ct}),Ke?nt.data=Ke:(Ke=wd(n),Ke!==null&&(nt.data=Ke)))),(Ke=ov?sv(e,n):uv(e,n))&&(nt=Fo(ge,"onBeforeInput"),0<nt.length&&(ct=new pd("onBeforeInput","beforeinput",null,n,Ce),Be.push({event:ct,listeners:nt}),ct.data=Ke)),Jv(Be,e,ge,n,Ce)}nm(Be,t)})}function Na(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fo(e,t){for(var n=t+"Capture",i=[];e!==null;){var d=e,y=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||y===null||(d=Kl(e,n),d!=null&&i.unshift(Na(e,d,y)),d=Kl(e,t),d!=null&&i.push(Na(e,d,y))),e.tag===3)return i;e=e.return}return[]}function Ul(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function im(e,t,n,i,d){for(var y=t._reactName,x=[];n!==null&&n!==i;){var R=n,Q=R.alternate,ge=R.stateNode;if(R=R.tag,Q!==null&&Q===i)break;R!==5&&R!==26&&R!==27||ge===null||(Q=ge,d?(ge=Kl(n,y),ge!=null&&x.unshift(Na(n,ge,Q))):d||(ge=Kl(n,y),ge!=null&&x.push(Na(n,ge,Q)))),n=n.return}x.length!==0&&e.push({event:t,listeners:x})}var r1=/\r\n?/g,i1=/\u0000|\uFFFD/g;function lm(e){return(typeof e=="string"?e:""+e).replace(r1,`
`).replace(i1,"")}function am(e,t){return t=lm(t),lm(e)===t}function Zo(){}function At(e,t,n,i,d,y){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||ol(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&ol(e,""+i);break;case"className":no(e,"class",i);break;case"tabIndex":no(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":no(e,n,i);break;case"style":sd(e,i,y);break;case"data":if(t!=="object"){no(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=lo(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(n==="formAction"?(t!=="input"&&At(e,t,"name",d.name,d,null),At(e,t,"formEncType",d.formEncType,d,null),At(e,t,"formMethod",d.formMethod,d,null),At(e,t,"formTarget",d.formTarget,d,null)):(At(e,t,"encType",d.encType,d,null),At(e,t,"method",d.method,d,null),At(e,t,"target",d.target,d,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=lo(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Zo);break;case"onScroll":i!=null&&ht("scroll",e);break;case"onScrollEnd":i!=null&&ht("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(f(61));if(n=i.__html,n!=null){if(d.children!=null)throw Error(f(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=lo(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":ht("beforetoggle",e),ht("toggle",e),to(e,"popover",i);break;case"xlinkActuate":pr(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":pr(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":pr(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":pr(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":pr(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":pr(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":pr(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":pr(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":pr(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":to(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Bb.get(n)||n,to(e,n,i))}}function Cc(e,t,n,i,d,y){switch(n){case"style":sd(e,i,y);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(f(61));if(n=i.__html,n!=null){if(d.children!=null)throw Error(f(60));e.innerHTML=n}}break;case"children":typeof i=="string"?ol(e,i):(typeof i=="number"||typeof i=="bigint")&&ol(e,""+i);break;case"onScroll":i!=null&&ht("scroll",e);break;case"onScrollEnd":i!=null&&ht("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Zo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!eo.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(d=n.endsWith("Capture"),t=n.slice(2,d?n.length-7:void 0),y=e[gn]||null,y=y!=null?y[n]:null,typeof y=="function"&&e.removeEventListener(t,y,d),typeof i=="function")){typeof y!="function"&&y!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,d);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):to(e,n,i)}}}function cn(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ht("error",e),ht("load",e);var i=!1,d=!1,y;for(y in n)if(n.hasOwnProperty(y)){var x=n[y];if(x!=null)switch(y){case"src":i=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(f(137,t));default:At(e,t,y,x,n,null)}}d&&At(e,t,"srcSet",n.srcSet,n,null),i&&At(e,t,"src",n.src,n,null);return;case"input":ht("invalid",e);var R=y=x=d=null,Q=null,ge=null;for(i in n)if(n.hasOwnProperty(i)){var Ce=n[i];if(Ce!=null)switch(i){case"name":d=Ce;break;case"type":x=Ce;break;case"checked":Q=Ce;break;case"defaultChecked":ge=Ce;break;case"value":y=Ce;break;case"defaultValue":R=Ce;break;case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(f(137,t));break;default:At(e,t,i,Ce,n,null)}}id(e,y,R,Q,ge,x,d,!1),ro(e);return;case"select":ht("invalid",e),i=x=y=null;for(d in n)if(n.hasOwnProperty(d)&&(R=n[d],R!=null))switch(d){case"value":y=R;break;case"defaultValue":x=R;break;case"multiple":i=R;default:At(e,t,d,R,n,null)}t=y,n=x,e.multiple=!!i,t!=null?al(e,!!i,t,!1):n!=null&&al(e,!!i,n,!0);return;case"textarea":ht("invalid",e),y=d=i=null;for(x in n)if(n.hasOwnProperty(x)&&(R=n[x],R!=null))switch(x){case"value":i=R;break;case"defaultValue":d=R;break;case"children":y=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(f(91));break;default:At(e,t,x,R,n,null)}ad(e,i,d,y),ro(e);return;case"option":for(Q in n)if(n.hasOwnProperty(Q)&&(i=n[Q],i!=null))switch(Q){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:At(e,t,Q,i,n,null)}return;case"dialog":ht("beforetoggle",e),ht("toggle",e),ht("cancel",e),ht("close",e);break;case"iframe":case"object":ht("load",e);break;case"video":case"audio":for(i=0;i<Ca.length;i++)ht(Ca[i],e);break;case"image":ht("error",e),ht("load",e);break;case"details":ht("toggle",e);break;case"embed":case"source":case"link":ht("error",e),ht("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ge in n)if(n.hasOwnProperty(ge)&&(i=n[ge],i!=null))switch(ge){case"children":case"dangerouslySetInnerHTML":throw Error(f(137,t));default:At(e,t,ge,i,n,null)}return;default:if(Ws(t)){for(Ce in n)n.hasOwnProperty(Ce)&&(i=n[Ce],i!==void 0&&Cc(e,t,Ce,i,n,void 0));return}}for(R in n)n.hasOwnProperty(R)&&(i=n[R],i!=null&&At(e,t,R,i,n,null))}function l1(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,y=null,x=null,R=null,Q=null,ge=null,Ce=null;for(be in n){var Be=n[be];if(n.hasOwnProperty(be)&&Be!=null)switch(be){case"checked":break;case"value":break;case"defaultValue":Q=Be;default:i.hasOwnProperty(be)||At(e,t,be,null,i,Be)}}for(var ye in i){var be=i[ye];if(Be=n[ye],i.hasOwnProperty(ye)&&(be!=null||Be!=null))switch(ye){case"type":y=be;break;case"name":d=be;break;case"checked":ge=be;break;case"defaultChecked":Ce=be;break;case"value":x=be;break;case"defaultValue":R=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(f(137,t));break;default:be!==Be&&At(e,t,ye,be,i,Be)}}Vs(e,x,R,Q,ge,Ce,y,d);return;case"select":be=x=R=ye=null;for(y in n)if(Q=n[y],n.hasOwnProperty(y)&&Q!=null)switch(y){case"value":break;case"multiple":be=Q;default:i.hasOwnProperty(y)||At(e,t,y,null,i,Q)}for(d in i)if(y=i[d],Q=n[d],i.hasOwnProperty(d)&&(y!=null||Q!=null))switch(d){case"value":ye=y;break;case"defaultValue":R=y;break;case"multiple":x=y;default:y!==Q&&At(e,t,d,y,i,Q)}t=R,n=x,i=be,ye!=null?al(e,!!n,ye,!1):!!i!=!!n&&(t!=null?al(e,!!n,t,!0):al(e,!!n,n?[]:"",!1));return;case"textarea":be=ye=null;for(R in n)if(d=n[R],n.hasOwnProperty(R)&&d!=null&&!i.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:At(e,t,R,null,i,d)}for(x in i)if(d=i[x],y=n[x],i.hasOwnProperty(x)&&(d!=null||y!=null))switch(x){case"value":ye=d;break;case"defaultValue":be=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(f(91));break;default:d!==y&&At(e,t,x,d,i,y)}ld(e,ye,be);return;case"option":for(var it in n)if(ye=n[it],n.hasOwnProperty(it)&&ye!=null&&!i.hasOwnProperty(it))switch(it){case"selected":e.selected=!1;break;default:At(e,t,it,null,i,ye)}for(Q in i)if(ye=i[Q],be=n[Q],i.hasOwnProperty(Q)&&ye!==be&&(ye!=null||be!=null))switch(Q){case"selected":e.selected=ye&&typeof ye!="function"&&typeof ye!="symbol";break;default:At(e,t,Q,ye,i,be)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var tt in n)ye=n[tt],n.hasOwnProperty(tt)&&ye!=null&&!i.hasOwnProperty(tt)&&At(e,t,tt,null,i,ye);for(ge in i)if(ye=i[ge],be=n[ge],i.hasOwnProperty(ge)&&ye!==be&&(ye!=null||be!=null))switch(ge){case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(f(137,t));break;default:At(e,t,ge,ye,i,be)}return;default:if(Ws(t)){for(var Tt in n)ye=n[Tt],n.hasOwnProperty(Tt)&&ye!==void 0&&!i.hasOwnProperty(Tt)&&Cc(e,t,Tt,void 0,i,ye);for(Ce in i)ye=i[Ce],be=n[Ce],!i.hasOwnProperty(Ce)||ye===be||ye===void 0&&be===void 0||Cc(e,t,Ce,ye,i,be);return}}for(var ue in n)ye=n[ue],n.hasOwnProperty(ue)&&ye!=null&&!i.hasOwnProperty(ue)&&At(e,t,ue,null,i,ye);for(Be in i)ye=i[Be],be=n[Be],!i.hasOwnProperty(Be)||ye===be||ye==null&&be==null||At(e,t,Be,ye,i,be)}var Nc=null,jc=null;function Jo(e){return e.nodeType===9?e:e.ownerDocument}function om(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function kc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bc=null;function a1(){var e=window.event;return e&&e.type==="popstate"?e===Bc?!1:(Bc=e,!0):(Bc=null,!1)}var um=typeof setTimeout=="function"?setTimeout:void 0,o1=typeof clearTimeout=="function"?clearTimeout:void 0,cm=typeof Promise=="function"?Promise:void 0,s1=typeof queueMicrotask=="function"?queueMicrotask:typeof cm<"u"?function(e){return cm.resolve(null).then(e).catch(u1)}:um;function u1(e){setTimeout(function(){throw e})}function ci(e){return e==="head"}function fm(e,t){var n=t,i=0,d=0;do{var y=n.nextSibling;if(e.removeChild(n),y&&y.nodeType===8)if(n=y.data,n==="/$"){if(0<i&&8>i){n=i;var x=e.ownerDocument;if(n&1&&ja(x.documentElement),n&2&&ja(x.body),n&4)for(n=x.head,ja(n),x=n.firstChild;x;){var R=x.nextSibling,Q=x.nodeName;x[qe]||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&x.rel.toLowerCase()==="stylesheet"||n.removeChild(x),x=R}}if(d===0){e.removeChild(y),Ha(t);return}d--}else n==="$"||n==="$?"||n==="$!"?d++:i=n.charCodeAt(0)-48;else i=0;n=y}while(n);Ha(t)}function Uc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Uc(n),Qe(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function c1(e,t,n,i){for(;e.nodeType===1;){var d=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[qe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(y=e.getAttribute("rel"),y==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(y!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(y=e.getAttribute("src"),(y!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&y&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var y=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===y)return e}else return e;if(e=Zn(e.nextSibling),e===null)break}return null}function f1(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Zn(e.nextSibling),e===null))return null;return e}function Dc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function h1(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Zn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Lc=null;function hm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function dm(e,t,n){switch(t=Jo(n),e){case"html":if(e=t.documentElement,!e)throw Error(f(452));return e;case"head":if(e=t.head,!e)throw Error(f(453));return e;case"body":if(e=t.body,!e)throw Error(f(454));return e;default:throw Error(f(451))}}function ja(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Qe(e)}var Qn=new Map,pm=new Set;function es(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Or=ie.d;ie.d={f:d1,r:p1,D:g1,C:m1,L:y1,m:b1,X:w1,S:v1,M:_1};function d1(){var e=Or.f(),t=Yo();return e||t}function p1(e){var t=ot(e);t!==null&&t.tag===5&&t.type==="form"?Bp(t):Or.r(e)}var Dl=typeof document>"u"?null:document;function gm(e,t,n){var i=Dl;if(i&&typeof t=="string"&&t){var d=Hn(t);d='link[rel="'+e+'"][href="'+d+'"]',typeof n=="string"&&(d+='[crossorigin="'+n+'"]'),pm.has(d)||(pm.add(d),e={rel:e,crossOrigin:n,href:t},i.querySelector(d)===null&&(t=i.createElement("link"),cn(t,"link",e),lt(t),i.head.appendChild(t)))}}function g1(e){Or.D(e),gm("dns-prefetch",e,null)}function m1(e,t){Or.C(e,t),gm("preconnect",e,t)}function y1(e,t,n){Or.L(e,t,n);var i=Dl;if(i&&e&&t){var d='link[rel="preload"][as="'+Hn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(d+='[imagesrcset="'+Hn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(d+='[imagesizes="'+Hn(n.imageSizes)+'"]')):d+='[href="'+Hn(e)+'"]';var y=d;switch(t){case"style":y=Ll(e);break;case"script":y=Il(e)}Qn.has(y)||(e=g({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Qn.set(y,e),i.querySelector(d)!==null||t==="style"&&i.querySelector(ka(y))||t==="script"&&i.querySelector(Ba(y))||(t=i.createElement("link"),cn(t,"link",e),lt(t),i.head.appendChild(t)))}}function b1(e,t){Or.m(e,t);var n=Dl;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",d='link[rel="modulepreload"][as="'+Hn(i)+'"][href="'+Hn(e)+'"]',y=d;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Il(e)}if(!Qn.has(y)&&(e=g({rel:"modulepreload",href:e},t),Qn.set(y,e),n.querySelector(d)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ba(y)))return}i=n.createElement("link"),cn(i,"link",e),lt(i),n.head.appendChild(i)}}}function v1(e,t,n){Or.S(e,t,n);var i=Dl;if(i&&e){var d=jt(i).hoistableStyles,y=Ll(e);t=t||"default";var x=d.get(y);if(!x){var R={loading:0,preload:null};if(x=i.querySelector(ka(y)))R.loading=5;else{e=g({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Qn.get(y))&&Ic(e,n);var Q=x=i.createElement("link");lt(Q),cn(Q,"link",e),Q._p=new Promise(function(ge,Ce){Q.onload=ge,Q.onerror=Ce}),Q.addEventListener("load",function(){R.loading|=1}),Q.addEventListener("error",function(){R.loading|=2}),R.loading|=4,ts(x,t,i)}x={type:"stylesheet",instance:x,count:1,state:R},d.set(y,x)}}}function w1(e,t){Or.X(e,t);var n=Dl;if(n&&e){var i=jt(n).hoistableScripts,d=Il(e),y=i.get(d);y||(y=n.querySelector(Ba(d)),y||(e=g({src:e,async:!0},t),(t=Qn.get(d))&&zc(e,t),y=n.createElement("script"),lt(y),cn(y,"link",e),n.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},i.set(d,y))}}function _1(e,t){Or.M(e,t);var n=Dl;if(n&&e){var i=jt(n).hoistableScripts,d=Il(e),y=i.get(d);y||(y=n.querySelector(Ba(d)),y||(e=g({src:e,async:!0,type:"module"},t),(t=Qn.get(d))&&zc(e,t),y=n.createElement("script"),lt(y),cn(y,"link",e),n.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},i.set(d,y))}}function mm(e,t,n,i){var d=(d=ce.current)?es(d):null;if(!d)throw Error(f(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Ll(n.href),n=jt(d).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Ll(n.href);var y=jt(d).hoistableStyles,x=y.get(e);if(x||(d=d.ownerDocument||d,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(e,x),(y=d.querySelector(ka(e)))&&!y._p&&(x.instance=y,x.state.loading=5),Qn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Qn.set(e,n),y||S1(d,e,n,x.state))),t&&i===null)throw Error(f(528,""));return x}if(t&&i!==null)throw Error(f(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Il(n),n=jt(d).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(f(444,e))}}function Ll(e){return'href="'+Hn(e)+'"'}function ka(e){return'link[rel="stylesheet"]['+e+"]"}function ym(e){return g({},e,{"data-precedence":e.precedence,precedence:null})}function S1(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),cn(t,"link",n),lt(t),e.head.appendChild(t))}function Il(e){return'[src="'+Hn(e)+'"]'}function Ba(e){return"script[async]"+e}function bm(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Hn(n.href)+'"]');if(i)return t.instance=i,lt(i),i;var d=g({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),lt(i),cn(i,"style",d),ts(i,n.precedence,e),t.instance=i;case"stylesheet":d=Ll(n.href);var y=e.querySelector(ka(d));if(y)return t.state.loading|=4,t.instance=y,lt(y),y;i=ym(n),(d=Qn.get(d))&&Ic(i,d),y=(e.ownerDocument||e).createElement("link"),lt(y);var x=y;return x._p=new Promise(function(R,Q){x.onload=R,x.onerror=Q}),cn(y,"link",i),t.state.loading|=4,ts(y,n.precedence,e),t.instance=y;case"script":return y=Il(n.src),(d=e.querySelector(Ba(y)))?(t.instance=d,lt(d),d):(i=n,(d=Qn.get(y))&&(i=g({},n),zc(i,d)),e=e.ownerDocument||e,d=e.createElement("script"),lt(d),cn(d,"link",i),e.head.appendChild(d),t.instance=d);case"void":return null;default:throw Error(f(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,ts(i,n.precedence,e));return t.instance}function ts(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=i.length?i[i.length-1]:null,y=d,x=0;x<i.length;x++){var R=i[x];if(R.dataset.precedence===t)y=R;else if(y!==d)break}y?y.parentNode.insertBefore(e,y.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Ic(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function zc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ns=null;function vm(e,t,n){if(ns===null){var i=new Map,d=ns=new Map;d.set(n,i)}else d=ns,i=d.get(n),i||(i=new Map,d.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),d=0;d<n.length;d++){var y=n[d];if(!(y[qe]||y[nn]||e==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var x=y.getAttribute(t)||"";x=e+x;var R=i.get(x);R?R.push(y):i.set(x,[y])}}return i}function wm(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function E1(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function _m(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ua=null;function x1(){}function A1(e,t,n){if(Ua===null)throw Error(f(475));var i=Ua;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var d=Ll(n.href),y=e.querySelector(ka(d));if(y){e=y._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(i.count++,i=rs.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=y,lt(y);return}y=e.ownerDocument||e,n=ym(n),(d=Qn.get(d))&&Ic(n,d),y=y.createElement("link"),lt(y);var x=y;x._p=new Promise(function(R,Q){x.onload=R,x.onerror=Q}),cn(y,"link",n),t.instance=y}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(i.count++,t=rs.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}function T1(){if(Ua===null)throw Error(f(475));var e=Ua;return e.stylesheets&&e.count===0&&Hc(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Hc(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function rs(){if(this.count--,this.count===0){if(this.stylesheets)Hc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var is=null;function Hc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,is=new Map,t.forEach(M1,e),is=null,rs.call(e))}function M1(e,t){if(!(t.state.loading&4)){var n=is.get(e);if(n)var i=n.get(null);else{n=new Map,is.set(e,n);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<d.length;y++){var x=d[y];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(n.set(x.dataset.precedence,x),i=x)}i&&n.set(null,i)}d=t.instance,x=d.getAttribute("data-precedence"),y=n.get(x)||i,y===i&&n.set(null,d),n.set(x,d),this.count++,i=rs.bind(this),d.addEventListener("load",i),d.addEventListener("error",i),y?y.parentNode.insertBefore(d,y.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),t.state.loading|=4}}var Da={$$typeof:j,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function O1(e,t,n,i,d,y,x,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rt(0),this.hiddenUpdates=Rt(null),this.identifierPrefix=i,this.onUncaughtError=d,this.onCaughtError=y,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Sm(e,t,n,i,d,y,x,R,Q,ge,Ce,Be){return e=new O1(e,t,n,x,R,Q,ge,Be),t=1,y===!0&&(t|=24),y=Cn(3,null,null,t),e.current=y,y.stateNode=e,t=_u(),t.refCount++,e.pooledCache=t,t.refCount++,y.memoizedState={element:i,isDehydrated:n,cache:t},Au(y),e}function Em(e){return e?(e=gl,e):gl}function xm(e,t,n,i,d,y){d=Em(d),i.context===null?i.context=d:i.pendingContext=d,i=Fr(t),i.payload={element:n},y=y===void 0?null:y,y!==null&&(i.callback=y),n=Zr(e,i,t),n!==null&&(Un(n,e,t),ha(n,e,t))}function Am(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Pc(e,t){Am(e,t),(e=e.alternate)&&Am(e,t)}function Tm(e){if(e.tag===13){var t=pl(e,67108864);t!==null&&Un(t,e,67108864),Pc(e,67108864)}}var ls=!0;function R1(e,t,n,i){var d=X.T;X.T=null;var y=ie.p;try{ie.p=2,qc(e,t,n,i)}finally{ie.p=y,X.T=d}}function C1(e,t,n,i){var d=X.T;X.T=null;var y=ie.p;try{ie.p=8,qc(e,t,n,i)}finally{ie.p=y,X.T=d}}function qc(e,t,n,i){if(ls){var d=Gc(i);if(d===null)Rc(e,t,i,as,n),Om(e,i);else if(j1(d,e,t,n,i))i.stopPropagation();else if(Om(e,i),t&4&&-1<N1.indexOf(e)){for(;d!==null;){var y=ot(d);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var x=$e(y.pendingLanes);if(x!==0){var R=y;for(R.pendingLanes|=2,R.entangledLanes|=2;x;){var Q=1<<31-O(x);R.entanglements[1]|=Q,x&=~Q}sr(y),(St&6)===0&&(Go=Z()+500,Ra(0))}}break;case 13:R=pl(y,2),R!==null&&Un(R,y,2),Yo(),Pc(y,2)}if(y=Gc(i),y===null&&Rc(e,t,i,as,n),y===d)break;d=y}d!==null&&i.stopPropagation()}else Rc(e,t,i,null,n)}}function Gc(e){return e=Xs(e),Vc(e)}var as=null;function Vc(e){if(as=null,e=Je(e),e!==null){var t=u(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=s(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return as=e,null}function Mm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Me()){case Ae:return 2;case K:return 8;case oe:case P:return 32;case J:return 268435456;default:return 32}default:return 32}}var Yc=!1,fi=null,hi=null,di=null,La=new Map,Ia=new Map,pi=[],N1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Om(e,t){switch(e){case"focusin":case"focusout":fi=null;break;case"dragenter":case"dragleave":hi=null;break;case"mouseover":case"mouseout":di=null;break;case"pointerover":case"pointerout":La.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ia.delete(t.pointerId)}}function za(e,t,n,i,d,y){return e===null||e.nativeEvent!==y?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:y,targetContainers:[d]},t!==null&&(t=ot(t),t!==null&&Tm(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,d!==null&&t.indexOf(d)===-1&&t.push(d),e)}function j1(e,t,n,i,d){switch(t){case"focusin":return fi=za(fi,e,t,n,i,d),!0;case"dragenter":return hi=za(hi,e,t,n,i,d),!0;case"mouseover":return di=za(di,e,t,n,i,d),!0;case"pointerover":var y=d.pointerId;return La.set(y,za(La.get(y)||null,e,t,n,i,d)),!0;case"gotpointercapture":return y=d.pointerId,Ia.set(y,za(Ia.get(y)||null,e,t,n,i,d)),!0}return!1}function Rm(e){var t=Je(e.target);if(t!==null){var n=u(t);if(n!==null){if(t=n.tag,t===13){if(t=s(n),t!==null){e.blockedOn=t,Is(e.priority,function(){if(n.tag===13){var i=Bn();i=Yr(i);var d=pl(n,i);d!==null&&Un(d,n,i),Pc(n,i)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function os(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gc(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Qs=i,n.target.dispatchEvent(i),Qs=null}else return t=ot(n),t!==null&&Tm(t),e.blockedOn=n,!1;t.shift()}return!0}function Cm(e,t,n){os(e)&&n.delete(t)}function k1(){Yc=!1,fi!==null&&os(fi)&&(fi=null),hi!==null&&os(hi)&&(hi=null),di!==null&&os(di)&&(di=null),La.forEach(Cm),Ia.forEach(Cm)}function ss(e,t){e.blockedOn===t&&(e.blockedOn=null,Yc||(Yc=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,k1)))}var us=null;function Nm(e){us!==e&&(us=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){us===e&&(us=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],d=e[t+2];if(typeof i!="function"){if(Vc(i||n)===null)continue;break}var y=ot(n);y!==null&&(e.splice(t,3),t-=3,Vu(y,{pending:!0,data:d,method:n.method,action:i},i,d))}}))}function Ha(e){function t(Q){return ss(Q,e)}fi!==null&&ss(fi,e),hi!==null&&ss(hi,e),di!==null&&ss(di,e),La.forEach(t),Ia.forEach(t);for(var n=0;n<pi.length;n++){var i=pi[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<pi.length&&(n=pi[0],n.blockedOn===null);)Rm(n),n.blockedOn===null&&pi.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var d=n[i],y=n[i+1],x=d[gn]||null;if(typeof y=="function")x||Nm(n);else if(x){var R=null;if(y&&y.hasAttribute("formAction")){if(d=y,x=y[gn]||null)R=x.formAction;else if(Vc(d)!==null)continue}else R=x.action;typeof R=="function"?n[i+1]=R:(n.splice(i,3),i-=3),Nm(n)}}}function Wc(e){this._internalRoot=e}cs.prototype.render=Wc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(f(409));var n=t.current,i=Bn();xm(n,i,e,t,null,null)},cs.prototype.unmount=Wc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xm(e.current,2,null,e,null,null),Yo(),t[Wr]=null}};function cs(e){this._internalRoot=e}cs.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ja();e={blockedOn:null,target:e,priority:t};for(var n=0;n<pi.length&&t!==0&&t<pi[n].priority;n++);pi.splice(n,0,e),n===0&&Rm(e)}};var jm=a.version;if(jm!=="19.1.1")throw Error(f(527,jm,"19.1.1"));ie.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(f(188)):(e=Object.keys(e).join(","),Error(f(268,e)));return e=o(t),e=e!==null?h(e):null,e=e===null?null:e.stateNode,e};var B1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fs.isDisabled&&fs.supportsFiber)try{b=fs.inject(B1),m=fs}catch{}}return qa.createRoot=function(e,t){if(!p(e))throw Error(f(299));var n=!1,i="",d=Xp,y=Kp,x=$p,R=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(d=t.onUncaughtError),t.onCaughtError!==void 0&&(y=t.onCaughtError),t.onRecoverableError!==void 0&&(x=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(R=t.unstable_transitionCallbacks)),t=Sm(e,1,!1,null,null,n,i,d,y,x,R,null),e[Wr]=t.current,Oc(e),new Wc(t)},qa.hydrateRoot=function(e,t,n){if(!p(e))throw Error(f(299));var i=!1,d="",y=Xp,x=Kp,R=$p,Q=null,ge=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(d=n.identifierPrefix),n.onUncaughtError!==void 0&&(y=n.onUncaughtError),n.onCaughtError!==void 0&&(x=n.onCaughtError),n.onRecoverableError!==void 0&&(R=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(Q=n.unstable_transitionCallbacks),n.formState!==void 0&&(ge=n.formState)),t=Sm(e,1,!0,t,n??null,i,d,y,x,R,Q,ge),t.context=Em(null),n=t.current,i=Bn(),i=Yr(i),d=Fr(i),d.callback=null,Zr(n,d,i),n=i,t.current.lanes=n,Bt(t,n),sr(t),e[Wr]=t.current,Oc(e),new cs(t)},qa.version="19.1.1",qa}var Gm;function Q1(){if(Gm)return $c.exports;Gm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(a){console.error(a)}}return r(),$c.exports=W1(),$c.exports}var X1=Q1();const K1=L0(X1),Xe=9;class $1{constructor(){this.tokenClient=null,this.accessToken=null,this.onAuthChangeCallback=null,this.initPromise=null}initialize(){return this.initPromise||(this.initPromise=new Promise((a,l)=>{const f=()=>{if(window.google&&window.google.accounts&&window.google.accounts.oauth2){const p="Google Client ID is not configured. Please set the GOOGLE_CLIENT_ID constant in services/authService.ts.";console.error(p),l(new Error(p));return}else setTimeout(f,100)};f()})),this.initPromise}async signIn(){try{if(await this.initialize(),this.tokenClient)this.tokenClient.requestAccessToken({prompt:""});else throw new Error("Token client is not available after initialization.")}catch(a){console.error("Sign-in failed:",a),alert(`Sign-in failed:
${a.message}`)}}signOut(){this.accessToken&&window.google&&window.google.accounts&&window.google.accounts.oauth2&&(window.google.accounts.oauth2.revoke(this.accessToken,()=>{}),this.accessToken=null,this.notifyAuthChange(!1))}getToken(){return this.accessToken}isAuthenticated(){return!!this.accessToken}onAuthStateChanged(a){return this.onAuthChangeCallback=a,a(this.isAuthenticated()),()=>{this.onAuthChangeCallback=null}}notifyAuthChange(a){this.onAuthChangeCallback&&this.onAuthChangeCallback(a)}}const Vl=new $1;var ut=(r=>(r.MENU="MENU",r.PLAYING="PLAYING",r.GAME_OVER="GAME_OVER",r.ONLINE_WAITING="ONLINE_WAITING",r.AWAITING_AUTH="AWAITING_AUTH",r))(ut||{}),yt=(r=>(r.PVP="PVP",r.PVC="PVC",r.PVO="PVO",r))(yt||{}),In=(r=>(r.EASY="EASY",r.MEDIUM="MEDIUM",r.HARD="HARD",r))(In||{}),Xi=(r=>(r.GEMINI="GEMINI",r.LOCAL="LOCAL",r))(Xi||{}),vn=(r=>(r.CENTER="CENTER",r.RANDOM="RANDOM",r))(vn||{});const F1=r=>{const a=JSON.parse(JSON.stringify(r.properties)),l=f=>{for(const p in f)f[p].type==="INTEGER"&&(f[p].type="NUMBER"),f[p].type==="OBJECT"&&f[p].properties&&l(f[p].properties)};return l(a),{functionDeclarations:[{name:"get_ai_move",description:"Gets the AI's action, which is either to move a pawn or place a wall.",parameters:{type:"OBJECT",properties:a,required:r.required}}]}},Z1=async(r,a,l,f)=>{var v,_,S,E,M,C;const p=Vl.getToken();if(!p)throw new Error("User not authenticated. Cannot call Gemini API.");const u="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent",s={[In.EASY]:"Your goal is to reach your destination row. Prioritize moving your pawn forward. Only place a wall if it's an obvious block. Suggest a valid move.",[In.MEDIUM]:"Your goal is to win. Balance moving forward with placing walls strategically to slow down your opponent. Analyze the opponent's path.",[In.HARD]:"Your goal is to win by playing optimally. Analyze the board to find the shortest path for you and the longest path for your opponent. Consider defensive and offensive wall placements. Provide the best possible move (either moving your pawn or placing a wall)."},c=1,g={contents:[{role:"user",parts:[{text:`
    You are an expert player in a magical maze game called Maze Magic.
    The board is a 9x9 grid. The coordinates are 0-indexed, from (r:0, c:0) at the top-left to (r:8, c:8) at the bottom-right.
    
    Current Game State:
    - Your Player ID: ${a}
    - Your Position: {r: ${r[a].position.r}, c: ${r[a].position.c}}
    - Your Goal: Reach any cell in row ${r[a].goalRow}
    - Your Walls Left: ${r[a].wallsLeft}
    
    - Opponent Player ID: ${c}
    - Opponent Position: {r: ${r[c].position.r}, c: ${r[c].position.c}}
    - Opponent Goal: Reach any cell in row ${r[c].goalRow}
    - Opponent Walls Left: ${r[c].wallsLeft}
    
    - Existing Walls: ${JSON.stringify(l)}
      - A wall at {r, c, orientation: 'horizontal'} is between row 'r-1' and 'r', starting at column 'c' and spanning to 'c+1'.
      - A wall at {r, c, orientation: 'vertical'} is between column 'c-1' and 'c', starting at row 'r' and spanning to 'r+1'.
      
    Rules for your turn:
    1. You can either MOVE your pawn or PLACE a wall.
    2. Move Rules:
       - Standard Move: One step orthogonally (up, down, left, right) to an empty, unblocked space.
       - Jumping: If your pawn is adjacent to the opponent's pawn (with no wall between), you can jump over them to the next space in a straight line.
       - Diagonal Jump: If a straight jump is blocked by a wall or the edge of the board, you can move to either valid, empty space diagonally adjacent to the opponent.
       - You cannot move into a space occupied by the opponent.
    3. Place Wall: Place a 2-unit long wall. A wall placement is INVALID if it completely blocks all paths to the goal for EITHER player. Walls cannot overlap or cross each other.
    
    Difficulty Level: ${f}
    ${s[f]}

    Your task is to respond with the best action for your turn by calling the 'get_ai_move' function with the appropriate arguments.
    - For a MOVE action, provide the destination coordinates. The 'orientation' property should be omitted.
    - For a PLACE_WALL action, you MUST provide the wall's top-left coordinates and its 'orientation' ('horizontal' or 'vertical').
    - Include a brief 'reasoning' for your choice.
  `}]}],tools:[F1({properties:{action:{type:"STRING",enum:["MOVE","PLACE_WALL"]},position:{type:"OBJECT",properties:{r:{type:"INTEGER"},c:{type:"INTEGER"}},required:["r","c"]},orientation:{type:"STRING",enum:["horizontal","vertical"]},reasoning:{type:"STRING"}},required:["action","position","reasoning"]})],tool_config:{function_calling_config:{mode:"ANY"}}};try{const I=await fetch(u,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p}`},body:JSON.stringify(g)});if(!I.ok){const V=await I.json();throw console.error("Gemini API Error Response:",V),I.status===401||I.status===403?(Vl.signOut(),new Error("Authentication failed. Please sign in again.")):I.status===429?new Error("AI request limit reached. Please try again in a minute. (RESOURCE_EXHAUSTED)"):new Error(((v=V.error)==null?void 0:v.message)||`API request failed with status ${I.status}`)}const U=await I.json(),j=(C=(M=(E=(S=(_=U.candidates)==null?void 0:_[0])==null?void 0:S.content)==null?void 0:E.parts)==null?void 0:M[0])==null?void 0:C.functionCall;if(!j||j.name!=="get_ai_move"||!j.args)throw console.error("Invalid response structure from Gemini:",U),new Error("AI returned an invalid or unexpected response format.");const W=j.args;if(!W||!W.action||!W.position||!W.reasoning)throw new Error("AI returned an incomplete or invalid action.");return W}catch(I){throw console.error("Error fetching AI move from Gemini REST API:",I),I.message&&I.message.includes("RESOURCE_EXHAUSTED")?new Error("AI request limit reached. Please try again in a minute."):new Error(I.message||"An unknown error occurred while contacting the AI.")}},Wi=(r,a,l)=>{const{r:f,c:p}=r,{r:u,c:s}=a;if(f===u){const c=Math.min(p,s);return l.some(o=>o.orientation==="vertical"&&o.c===c+1&&(o.r===f||o.r===f-1))}else{const c=Math.min(f,u);return l.some(o=>o.orientation==="horizontal"&&o.r===c+1&&(o.c===p||o.c===p-1))}},ql=(r,a,l)=>{const{r:f,c:p}=r,u=[],s=[{r:f-1,c:p},{r:f+1,c:p},{r:f,c:p-1},{r:f,c:p+1}];for(const c of s)if(!(c.r<0||c.r>=Xe||c.c<0||c.c>=Xe||Wi(r,c,a)))if(c.r===l.r&&c.c===l.c){const o=l.r-r.r,h=l.c-r.c,g={r:l.r+o,c:l.c+h};if(g.r>=0&&g.r<Xe&&g.c>=0&&g.c<Xe&&!Wi(l,g,a))u.push(g);else if(o===0){const v={r:l.r-1,c:l.c},_={r:l.r+1,c:l.c};v.r>=0&&!Wi(l,v,a)&&u.push(v),_.r<Xe&&!Wi(l,_,a)&&u.push(_)}else{const v={r:l.r,c:l.c-1},_={r:l.r,c:l.c+1};v.c>=0&&!Wi(l,v,a)&&u.push(v),_.c<Xe&&!Wi(l,_,a)&&u.push(_)}}else u.push(c);return u.filter(c=>c.r>=0&&c.r<Xe&&c.c>=0&&c.c<Xe)},Ur=(r,a,l,f)=>{const p=[[r]],u=new Set([`${r.r},${r.c}`]);for(;p.length>0;){const s=p.shift(),c=s[s.length-1];if(c.r===a)return s;let o;f?o=ql(c,l,f):o=[{r:c.r-1,c:c.c},{r:c.r+1,c:c.c},{r:c.r,c:c.c-1},{r:c.r,c:c.c+1}].filter(h=>!Wi(c,h,l));for(const h of o){const g=`${h.r},${h.c}`;if(h.r>=0&&h.r<Xe&&h.c>=0&&h.c<Xe&&!u.has(g)){u.add(g);const v=[...s,h];p.push(v)}}}return null},J1={winning:["Victory is near! ","Just a few more steps... ","I've got this in the bag. ","Your efforts are futile. "],losing:["You're surprisingly good at this. ","Hmm, I need to rethink my strategy. ","Don't get cocky. The game isn't over yet. ","An interesting move. Let's see how it plays out. "],blocking:["Blocked! Where will you go now? ","Nice try, but this path is closed. ","A wall for your troubles. Enjoy the detour! ","Sorry, not this way. "],jumping:["Boing! Hopped right over you. ","Excuse me, coming through! ","A little jump to speed things up. ","Leapfrog! "],defaultMove:["Moving forward. Step by step. ","Let's try this move. ","On the advance. ","Just a simple move for now. "],trapped:["Oh dear, I seem to be stuck. ","Well, this is awkward... ","You've cornered me! For now... "]},zl=r=>{const a=J1[r];return a[Math.floor(Math.random()*a.length)]},ew=(r,a,l,f)=>{var h,g,v;const p=((h=Ur(r.position,r.goalRow,l,a.position))==null?void 0:h.length)||1/0,u=Ur(a.position,a.goalRow,l,r.position);if(!u||u.length<2)return null;let s=null,c=-1/0;const o=u.slice(0,Math.min(u.length-1,4));for(let _=0;_<o.length;_++){const S=u[_],E=u[_+1];if(!E)continue;const M=S.r===E.r,C=[];if(M){const I=Math.min(S.c,E.c)+1;C.push({r:S.r,c:I,orientation:"vertical"}),S.r>0&&C.push({r:S.r-1,c:I,orientation:"vertical"})}else{const I=Math.min(S.r,E.r)+1;C.push({r:I,c:S.c,orientation:"horizontal"}),S.c>0&&C.push({r:I,c:S.c-1,orientation:"horizontal"})}for(const I of C)if(f({...I,playerId:r.id})){const U=[...l,{...I,playerId:r.id}],j=((g=Ur(a.position,a.goalRow,U,r.position))==null?void 0:g.length)||1/0,W=((v=Ur(r.position,r.goalRow,U,a.position))==null?void 0:v.length)||1/0;if(W===1/0)continue;const V=j-u.length-(W-p);V>c&&(c=V,s=I)}}return s&&c>0?{wall:s,score:c}:null},tw=(r,a,l,f,p)=>{var _;const u=Ur(r.position,r.goalRow,l,a.position);let s=u&&u.length>1?u[1]:null;if(!s){const S=ql(r.position,l,a.position)[0];S&&(s=S)}if(!s)return{action:"PASS",reasoning:zl("trapped")};const c=Math.abs(r.position.r-s.r)>1||Math.abs(r.position.c-s.c)>1,o={action:"MOVE",position:s,reasoning:zl(c?"jumping":"defaultMove")};if(f===In.EASY||r.wallsLeft===0)return o;const h=((_=Ur(a.position,a.goalRow,l,r.position))==null?void 0:_.length)||1/0,g=(u==null?void 0:u.length)||1/0,v=ew(r,a,l,p);if(v){const S={action:"PLACE_WALL",position:v.wall,orientation:v.wall.orientation,reasoning:zl("blocking")},E=g<=h;if(f===In.HARD&&(!E&&v.score>0||E&&v.score>=3)||f===In.MEDIUM&&!E&&v.score>0)return S}return g<=3?o.reasoning=zl("winning"):g>h+2&&(o.reasoning=zl("losing")),o};var Ih=Object.defineProperty,nw=Object.getOwnPropertyDescriptor,rw=Object.getOwnPropertyNames,iw=Object.prototype.hasOwnProperty,hn=(r,a)=>()=>(r&&(a=r(r=0)),a),Pe=(r,a)=>()=>(a||r((a={exports:{}}).exports,a),a.exports),tl=(r,a)=>{for(var l in a)Ih(r,l,{get:a[l],enumerable:!0})},lw=(r,a,l,f)=>{if(a&&typeof a=="object"||typeof a=="function")for(let p of rw(a))!iw.call(r,p)&&p!==l&&Ih(r,p,{get:()=>a[p],enumerable:!(f=nw(a,p))||f.enumerable});return r},Nt=r=>lw(Ih({},"__esModule",{value:!0}),r),_n,Ue=hn(()=>{_n={deviceMemory:8,hardwareConcurrency:8,language:"en-US"}}),wt={};tl(wt,{_debugEnd:()=>Qf,_debugProcess:()=>Wf,_events:()=>sh,_eventsCount:()=>uh,_exiting:()=>jf,_fatalExceptions:()=>Gf,_getActiveHandles:()=>V0,_getActiveRequests:()=>G0,_kill:()=>Uf,_linkedBinding:()=>P0,_maxListeners:()=>oh,_preload_modules:()=>lh,_rawDebug:()=>Rf,_startProfilerIdleNotifier:()=>Xf,_stopProfilerIdleNotifier:()=>Kf,_tickCallback:()=>Yf,abort:()=>Jf,addListener:()=>ch,allowedNodeEnvironmentFlags:()=>Pf,arch:()=>mf,argv:()=>vf,argv0:()=>ih,assert:()=>Y0,binding:()=>xf,chdir:()=>Mf,config:()=>kf,cpuUsage:()=>Qa,cwd:()=>Tf,debugPort:()=>rh,default:()=>Hh,dlopen:()=>q0,domain:()=>Nf,emit:()=>gh,emitWarning:()=>Ef,env:()=>bf,execArgv:()=>wf,execPath:()=>nh,exit:()=>zf,features:()=>qf,hasUncaughtExceptionCaptureCallback:()=>W0,hrtime:()=>vs,kill:()=>If,listeners:()=>X0,memoryUsage:()=>Lf,moduleLoadList:()=>Cf,nextTick:()=>z0,off:()=>hh,on:()=>Cr,once:()=>fh,openStdin:()=>Hf,pid:()=>eh,platform:()=>yf,ppid:()=>th,prependListener:()=>mh,prependOnceListener:()=>yh,reallyExit:()=>Bf,release:()=>Of,removeAllListeners:()=>ph,removeListener:()=>dh,resourceUsage:()=>Df,setSourceMapsEnabled:()=>ah,setUncaughtExceptionCaptureCallback:()=>Vf,stderr:()=>Ff,stdin:()=>Zf,stdout:()=>$f,title:()=>gf,umask:()=>Af,uptime:()=>Q0,version:()=>_f,versions:()=>Sf});function zh(r){throw new Error("Node.js process "+r+" is not supported by JSPM core outside of Node.js")}function aw(){!Zi||!$i||(Zi=!1,$i.length?fr=$i.concat(fr):$a=-1,fr.length&&I0())}function I0(){if(!Zi){var r=setTimeout(aw,0);Zi=!0;for(var a=fr.length;a;){for($i=fr,fr=[];++$a<a;)$i&&$i[$a].run();$a=-1,a=fr.length}$i=null,Zi=!1,clearTimeout(r)}}function z0(r){var a=new Array(arguments.length-1);if(arguments.length>1)for(var l=1;l<arguments.length;l++)a[l-1]=arguments[l];fr.push(new H0(r,a)),fr.length===1&&!Zi&&setTimeout(I0,0)}function H0(r,a){this.fun=r,this.array=a}function bn(){}function P0(r){zh("_linkedBinding")}function q0(r){zh("dlopen")}function G0(){return[]}function V0(){return[]}function Y0(r,a){if(!r)throw new Error(a||"assertion error")}function W0(){return!1}function Q0(){return Br.now()/1e3}function vs(r){var a=Math.floor((Date.now()-Br.now())*.001),l=Br.now()*.001,f=Math.floor(l)+a,p=Math.floor(l%1*1e9);return r&&(f=f-r[0],p=p-r[1],p<0&&(f--,p+=ws)),[f,p]}function Cr(){return Hh}function X0(r){return[]}var fr,Zi,$i,$a,gf,mf,yf,bf,vf,wf,_f,Sf,Ef,xf,Af,Tf,Mf,Of,Rf,Cf,Nf,jf,kf,Bf,Uf,Qa,Df,Lf,If,zf,Hf,Pf,qf,Gf,Vf,Yf,Wf,Qf,Xf,Kf,$f,Ff,Zf,Jf,eh,th,nh,rh,ih,lh,ah,Br,ef,ws,oh,sh,uh,ch,fh,hh,dh,ph,gh,mh,yh,Hh,ow=hn(()=>{Le(),De(),Ue(),fr=[],Zi=!1,$a=-1,H0.prototype.run=function(){this.fun.apply(null,this.array)},gf="browser",mf="x64",yf="browser",bf={PATH:"/usr/bin",LANG:_n.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},vf=["/usr/bin/node"],wf=[],_f="v16.8.0",Sf={},Ef=function(r,a){console.warn((a?a+": ":"")+r)},xf=function(r){zh("binding")},Af=function(r){return 0},Tf=function(){return"/"},Mf=function(r){},Of={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},Rf=bn,Cf=[],Nf={},jf=!1,kf={},Bf=bn,Uf=bn,Qa=function(){return{}},Df=Qa,Lf=Qa,If=bn,zf=bn,Hf=bn,Pf={},qf={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},Gf=bn,Vf=bn,Yf=bn,Wf=bn,Qf=bn,Xf=bn,Kf=bn,$f=void 0,Ff=void 0,Zf=void 0,Jf=bn,eh=2,th=1,nh="/bin/usr/node",rh=9229,ih="node",lh=[],ah=bn,Br={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},Br.now===void 0&&(ef=Date.now(),Br.timing&&Br.timing.navigationStart&&(ef=Br.timing.navigationStart),Br.now=()=>Date.now()-ef),ws=1e9,vs.bigint=function(r){var a=vs(r);return typeof BigInt>"u"?a[0]*ws+a[1]:BigInt(a[0]*ws)+BigInt(a[1])},oh=10,sh={},uh=0,ch=Cr,fh=Cr,hh=Cr,dh=Cr,ph=Cr,gh=bn,mh=Cr,yh=Cr,Hh={version:_f,versions:Sf,arch:mf,platform:yf,release:Of,_rawDebug:Rf,moduleLoadList:Cf,binding:xf,_linkedBinding:P0,_events:sh,_eventsCount:uh,_maxListeners:oh,on:Cr,addListener:ch,once:fh,off:hh,removeListener:dh,removeAllListeners:ph,emit:gh,prependListener:mh,prependOnceListener:yh,listeners:X0,domain:Nf,_exiting:jf,config:kf,dlopen:q0,uptime:Q0,_getActiveRequests:G0,_getActiveHandles:V0,reallyExit:Bf,_kill:Uf,cpuUsage:Qa,resourceUsage:Df,memoryUsage:Lf,kill:If,exit:zf,openStdin:Hf,allowedNodeEnvironmentFlags:Pf,assert:Y0,features:qf,_fatalExceptions:Gf,setUncaughtExceptionCaptureCallback:Vf,hasUncaughtExceptionCaptureCallback:W0,emitWarning:Ef,nextTick:z0,_tickCallback:Yf,_debugProcess:Wf,_debugEnd:Qf,_startProfilerIdleNotifier:Xf,_stopProfilerIdleNotifier:Kf,stdout:$f,stdin:Zf,stderr:Ff,abort:Jf,umask:Af,chdir:Mf,cwd:Tf,env:bf,title:gf,argv:vf,execArgv:wf,pid:eh,ppid:th,execPath:nh,debugPort:rh,hrtime:vs,argv0:ih,_preload_modules:lh,setSourceMapsEnabled:ah}}),De=hn(()=>{ow()}),dn={};tl(dn,{Buffer:()=>Ms,INSPECT_MAX_BYTES:()=>K0,default:()=>Nr,kMaxLength:()=>$0});function sw(){if(bh)return Pl;bh=!0,Pl.byteLength=c,Pl.toByteArray=h,Pl.fromByteArray=_;for(var r=[],a=[],l=typeof Uint8Array<"u"?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,u=f.length;p<u;++p)r[p]=f[p],a[f.charCodeAt(p)]=p;a[45]=62,a[95]=63;function s(S){var E=S.length;if(E%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var M=S.indexOf("=");M===-1&&(M=E);var C=M===E?0:4-M%4;return[M,C]}function c(S){var E=s(S),M=E[0],C=E[1];return(M+C)*3/4-C}function o(S,E,M){return(E+M)*3/4-M}function h(S){var E,M=s(S),C=M[0],I=M[1],U=new l(o(S,C,I)),j=0,W=I>0?C-4:C,V;for(V=0;V<W;V+=4)E=a[S.charCodeAt(V)]<<18|a[S.charCodeAt(V+1)]<<12|a[S.charCodeAt(V+2)]<<6|a[S.charCodeAt(V+3)],U[j++]=E>>16&255,U[j++]=E>>8&255,U[j++]=E&255;return I===2&&(E=a[S.charCodeAt(V)]<<2|a[S.charCodeAt(V+1)]>>4,U[j++]=E&255),I===1&&(E=a[S.charCodeAt(V)]<<10|a[S.charCodeAt(V+1)]<<4|a[S.charCodeAt(V+2)]>>2,U[j++]=E>>8&255,U[j++]=E&255),U}function g(S){return r[S>>18&63]+r[S>>12&63]+r[S>>6&63]+r[S&63]}function v(S,E,M){for(var C,I=[],U=E;U<M;U+=3)C=(S[U]<<16&16711680)+(S[U+1]<<8&65280)+(S[U+2]&255),I.push(g(C));return I.join("")}function _(S){for(var E,M=S.length,C=M%3,I=[],U=16383,j=0,W=M-C;j<W;j+=U)I.push(v(S,j,j+U>W?W:j+U));return C===1?(E=S[M-1],I.push(r[E>>2]+r[E<<4&63]+"==")):C===2&&(E=(S[M-2]<<8)+S[M-1],I.push(r[E>>10]+r[E>>4&63]+r[E<<2&63]+"=")),I.join("")}return Pl}function uw(){return vh?Xa:(vh=!0,Xa.read=function(r,a,l,f,p){var u,s,c=p*8-f-1,o=(1<<c)-1,h=o>>1,g=-7,v=l?p-1:0,_=l?-1:1,S=r[a+v];for(v+=_,u=S&(1<<-g)-1,S>>=-g,g+=c;g>0;u=u*256+r[a+v],v+=_,g-=8);for(s=u&(1<<-g)-1,u>>=-g,g+=f;g>0;s=s*256+r[a+v],v+=_,g-=8);if(u===0)u=1-h;else{if(u===o)return s?NaN:(S?-1:1)*(1/0);s=s+Math.pow(2,f),u=u-h}return(S?-1:1)*s*Math.pow(2,u-f)},Xa.write=function(r,a,l,f,p,u){var s,c,o,h=u*8-p-1,g=(1<<h)-1,v=g>>1,_=p===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=f?0:u-1,E=f?1:-1,M=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(c=isNaN(a)?1:0,s=g):(s=Math.floor(Math.log(a)/Math.LN2),a*(o=Math.pow(2,-s))<1&&(s--,o*=2),s+v>=1?a+=_/o:a+=_*Math.pow(2,1-v),a*o>=2&&(s++,o/=2),s+v>=g?(c=0,s=g):s+v>=1?(c=(a*o-1)*Math.pow(2,p),s=s+v):(c=a*Math.pow(2,v-1)*Math.pow(2,p),s=0));p>=8;r[l+S]=c&255,S+=E,c/=256,p-=8);for(s=s<<p|c,h+=p;h>0;r[l+S]=s&255,S+=E,s/=256,h-=8);r[l+S-E]|=M*128},Xa)}function cw(){if(wh)return yi;wh=!0;let r=sw(),a=uw(),l=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;yi.Buffer=s,yi.SlowBuffer=I,yi.INSPECT_MAX_BYTES=50;let f=2147483647;yi.kMaxLength=f,s.TYPED_ARRAY_SUPPORT=p(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function p(){try{let b=new Uint8Array(1),m={foo:function(){return 42}};return Object.setPrototypeOf(m,Uint8Array.prototype),Object.setPrototypeOf(b,m),b.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function u(b){if(b>f)throw new RangeError('The value "'+b+'" is invalid for option "size"');let m=new Uint8Array(b);return Object.setPrototypeOf(m,s.prototype),m}function s(b,m,w){if(typeof b=="number"){if(typeof m=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(b)}return c(b,m,w)}s.poolSize=8192;function c(b,m,w){if(typeof b=="string")return v(b,m);if(ArrayBuffer.isView(b))return S(b);if(b==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof b);if(oe(b,ArrayBuffer)||b&&oe(b.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(oe(b,SharedArrayBuffer)||b&&oe(b.buffer,SharedArrayBuffer)))return E(b,m,w);if(typeof b=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let O=b.valueOf&&b.valueOf();if(O!=null&&O!==b)return s.from(O,m,w);let z=M(b);if(z)return z;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof b[Symbol.toPrimitive]=="function")return s.from(b[Symbol.toPrimitive]("string"),m,w);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof b)}s.from=function(b,m,w){return c(b,m,w)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function o(b){if(typeof b!="number")throw new TypeError('"size" argument must be of type number');if(b<0)throw new RangeError('The value "'+b+'" is invalid for option "size"')}function h(b,m,w){return o(b),b<=0?u(b):m!==void 0?typeof w=="string"?u(b).fill(m,w):u(b).fill(m):u(b)}s.alloc=function(b,m,w){return h(b,m,w)};function g(b){return o(b),u(b<0?0:C(b)|0)}s.allocUnsafe=function(b){return g(b)},s.allocUnsafeSlow=function(b){return g(b)};function v(b,m){if((typeof m!="string"||m==="")&&(m="utf8"),!s.isEncoding(m))throw new TypeError("Unknown encoding: "+m);let w=U(b,m)|0,O=u(w),z=O.write(b,m);return z!==w&&(O=O.slice(0,z)),O}function _(b){let m=b.length<0?0:C(b.length)|0,w=u(m);for(let O=0;O<m;O+=1)w[O]=b[O]&255;return w}function S(b){if(oe(b,Uint8Array)){let m=new Uint8Array(b);return E(m.buffer,m.byteOffset,m.byteLength)}return _(b)}function E(b,m,w){if(m<0||b.byteLength<m)throw new RangeError('"offset" is outside of buffer bounds');if(b.byteLength<m+(w||0))throw new RangeError('"length" is outside of buffer bounds');let O;return m===void 0&&w===void 0?O=new Uint8Array(b):w===void 0?O=new Uint8Array(b,m):O=new Uint8Array(b,m,w),Object.setPrototypeOf(O,s.prototype),O}function M(b){if(s.isBuffer(b)){let m=C(b.length)|0,w=u(m);return w.length===0||b.copy(w,0,0,m),w}if(b.length!==void 0)return typeof b.length!="number"||P(b.length)?u(0):_(b);if(b.type==="Buffer"&&Array.isArray(b.data))return _(b.data)}function C(b){if(b>=f)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f.toString(16)+" bytes");return b|0}function I(b){return+b!=b&&(b=0),s.alloc(+b)}s.isBuffer=function(b){return b!=null&&b._isBuffer===!0&&b!==s.prototype},s.compare=function(b,m){if(oe(b,Uint8Array)&&(b=s.from(b,b.offset,b.byteLength)),oe(m,Uint8Array)&&(m=s.from(m,m.offset,m.byteLength)),!s.isBuffer(b)||!s.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(b===m)return 0;let w=b.length,O=m.length;for(let z=0,ee=Math.min(w,O);z<ee;++z)if(b[z]!==m[z]){w=b[z],O=m[z];break}return w<O?-1:O<w?1:0},s.isEncoding=function(b){switch(String(b).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(b,m){if(!Array.isArray(b))throw new TypeError('"list" argument must be an Array of Buffers');if(b.length===0)return s.alloc(0);let w;if(m===void 0)for(m=0,w=0;w<b.length;++w)m+=b[w].length;let O=s.allocUnsafe(m),z=0;for(w=0;w<b.length;++w){let ee=b[w];if(oe(ee,Uint8Array))z+ee.length>O.length?(s.isBuffer(ee)||(ee=s.from(ee)),ee.copy(O,z)):Uint8Array.prototype.set.call(O,ee,z);else if(s.isBuffer(ee))ee.copy(O,z);else throw new TypeError('"list" argument must be an Array of Buffers');z+=ee.length}return O};function U(b,m){if(s.isBuffer(b))return b.length;if(ArrayBuffer.isView(b)||oe(b,ArrayBuffer))return b.byteLength;if(typeof b!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof b);let w=b.length,O=arguments.length>2&&arguments[2]===!0;if(!O&&w===0)return 0;let z=!1;for(;;)switch(m){case"ascii":case"latin1":case"binary":return w;case"utf8":case"utf-8":return te(b).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w*2;case"hex":return w>>>1;case"base64":return Ae(b).length;default:if(z)return O?-1:te(b).length;m=(""+m).toLowerCase(),z=!0}}s.byteLength=U;function j(b,m,w){let O=!1;if((m===void 0||m<0)&&(m=0),m>this.length||((w===void 0||w>this.length)&&(w=this.length),w<=0)||(w>>>=0,m>>>=0,w<=m))return"";for(b||(b="utf8");;)switch(b){case"hex":return $(this,m,w);case"utf8":case"utf-8":return le(this,m,w);case"ascii":return X(this,m,w);case"latin1":case"binary":return ie(this,m,w);case"base64":return B(this,m,w);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Oe(this,m,w);default:if(O)throw new TypeError("Unknown encoding: "+b);b=(b+"").toLowerCase(),O=!0}}s.prototype._isBuffer=!0;function W(b,m,w){let O=b[m];b[m]=b[w],b[w]=O}s.prototype.swap16=function(){let b=this.length;if(b%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let m=0;m<b;m+=2)W(this,m,m+1);return this},s.prototype.swap32=function(){let b=this.length;if(b%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let m=0;m<b;m+=4)W(this,m,m+3),W(this,m+1,m+2);return this},s.prototype.swap64=function(){let b=this.length;if(b%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let m=0;m<b;m+=8)W(this,m,m+7),W(this,m+1,m+6),W(this,m+2,m+5),W(this,m+3,m+4);return this},s.prototype.toString=function(){let b=this.length;return b===0?"":arguments.length===0?le(this,0,b):j.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(b){if(!s.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b?!0:s.compare(this,b)===0},s.prototype.inspect=function(){let b="",m=yi.INSPECT_MAX_BYTES;return b=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(b+=" ... "),"<Buffer "+b+">"},l&&(s.prototype[l]=s.prototype.inspect),s.prototype.compare=function(b,m,w,O,z){if(oe(b,Uint8Array)&&(b=s.from(b,b.offset,b.byteLength)),!s.isBuffer(b))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof b);if(m===void 0&&(m=0),w===void 0&&(w=b?b.length:0),O===void 0&&(O=0),z===void 0&&(z=this.length),m<0||w>b.length||O<0||z>this.length)throw new RangeError("out of range index");if(O>=z&&m>=w)return 0;if(O>=z)return-1;if(m>=w)return 1;if(m>>>=0,w>>>=0,O>>>=0,z>>>=0,this===b)return 0;let ee=z-O,Ee=w-m,Ge=Math.min(ee,Ee),Ye=this.slice(O,z),$e=b.slice(m,w);for(let Ve=0;Ve<Ge;++Ve)if(Ye[Ve]!==$e[Ve]){ee=Ye[Ve],Ee=$e[Ve];break}return ee<Ee?-1:Ee<ee?1:0};function V(b,m,w,O,z){if(b.length===0)return-1;if(typeof w=="string"?(O=w,w=0):w>2147483647?w=2147483647:w<-2147483648&&(w=-2147483648),w=+w,P(w)&&(w=z?0:b.length-1),w<0&&(w=b.length+w),w>=b.length){if(z)return-1;w=b.length-1}else if(w<0)if(z)w=0;else return-1;if(typeof m=="string"&&(m=s.from(m,O)),s.isBuffer(m))return m.length===0?-1:L(b,m,w,O,z);if(typeof m=="number")return m=m&255,typeof Uint8Array.prototype.indexOf=="function"?z?Uint8Array.prototype.indexOf.call(b,m,w):Uint8Array.prototype.lastIndexOf.call(b,m,w):L(b,[m],w,O,z);throw new TypeError("val must be string, number or Buffer")}function L(b,m,w,O,z){let ee=1,Ee=b.length,Ge=m.length;if(O!==void 0&&(O=String(O).toLowerCase(),O==="ucs2"||O==="ucs-2"||O==="utf16le"||O==="utf-16le")){if(b.length<2||m.length<2)return-1;ee=2,Ee/=2,Ge/=2,w/=2}function Ye(Ve,et){return ee===1?Ve[et]:Ve.readUInt16BE(et*ee)}let $e;if(z){let Ve=-1;for($e=w;$e<Ee;$e++)if(Ye(b,$e)===Ye(m,Ve===-1?0:$e-Ve)){if(Ve===-1&&(Ve=$e),$e-Ve+1===Ge)return Ve*ee}else Ve!==-1&&($e-=$e-Ve),Ve=-1}else for(w+Ge>Ee&&(w=Ee-Ge),$e=w;$e>=0;$e--){let Ve=!0;for(let et=0;et<Ge;et++)if(Ye(b,$e+et)!==Ye(m,et)){Ve=!1;break}if(Ve)return $e}return-1}s.prototype.includes=function(b,m,w){return this.indexOf(b,m,w)!==-1},s.prototype.indexOf=function(b,m,w){return V(this,b,m,w,!0)},s.prototype.lastIndexOf=function(b,m,w){return V(this,b,m,w,!1)};function D(b,m,w,O){w=Number(w)||0;let z=b.length-w;O?(O=Number(O),O>z&&(O=z)):O=z;let ee=m.length;O>ee/2&&(O=ee/2);let Ee;for(Ee=0;Ee<O;++Ee){let Ge=parseInt(m.substr(Ee*2,2),16);if(P(Ge))return Ee;b[w+Ee]=Ge}return Ee}function G(b,m,w,O){return K(te(m,b.length-w),b,w,O)}function ne(b,m,w,O){return K(Z(m),b,w,O)}function ve(b,m,w,O){return K(Ae(m),b,w,O)}function _e(b,m,w,O){return K(Me(m,b.length-w),b,w,O)}s.prototype.write=function(b,m,w,O){if(m===void 0)O="utf8",w=this.length,m=0;else if(w===void 0&&typeof m=="string")O=m,w=this.length,m=0;else if(isFinite(m))m=m>>>0,isFinite(w)?(w=w>>>0,O===void 0&&(O="utf8")):(O=w,w=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let z=this.length-m;if((w===void 0||w>z)&&(w=z),b.length>0&&(w<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");O||(O="utf8");let ee=!1;for(;;)switch(O){case"hex":return D(this,b,m,w);case"utf8":case"utf-8":return G(this,b,m,w);case"ascii":case"latin1":case"binary":return ne(this,b,m,w);case"base64":return ve(this,b,m,w);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _e(this,b,m,w);default:if(ee)throw new TypeError("Unknown encoding: "+O);O=(""+O).toLowerCase(),ee=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function B(b,m,w){return m===0&&w===b.length?r.fromByteArray(b):r.fromByteArray(b.slice(m,w))}function le(b,m,w){w=Math.min(b.length,w);let O=[],z=m;for(;z<w;){let ee=b[z],Ee=null,Ge=ee>239?4:ee>223?3:ee>191?2:1;if(z+Ge<=w){let Ye,$e,Ve,et;switch(Ge){case 1:ee<128&&(Ee=ee);break;case 2:Ye=b[z+1],(Ye&192)===128&&(et=(ee&31)<<6|Ye&63,et>127&&(Ee=et));break;case 3:Ye=b[z+1],$e=b[z+2],(Ye&192)===128&&($e&192)===128&&(et=(ee&15)<<12|(Ye&63)<<6|$e&63,et>2047&&(et<55296||et>57343)&&(Ee=et));break;case 4:Ye=b[z+1],$e=b[z+2],Ve=b[z+3],(Ye&192)===128&&($e&192)===128&&(Ve&192)===128&&(et=(ee&15)<<18|(Ye&63)<<12|($e&63)<<6|Ve&63,et>65535&&et<1114112&&(Ee=et))}}Ee===null?(Ee=65533,Ge=1):Ee>65535&&(Ee-=65536,O.push(Ee>>>10&1023|55296),Ee=56320|Ee&1023),O.push(Ee),z+=Ge}return he(O)}let we=4096;function he(b){let m=b.length;if(m<=we)return String.fromCharCode.apply(String,b);let w="",O=0;for(;O<m;)w+=String.fromCharCode.apply(String,b.slice(O,O+=we));return w}function X(b,m,w){let O="";w=Math.min(b.length,w);for(let z=m;z<w;++z)O+=String.fromCharCode(b[z]&127);return O}function ie(b,m,w){let O="";w=Math.min(b.length,w);for(let z=m;z<w;++z)O+=String.fromCharCode(b[z]);return O}function $(b,m,w){let O=b.length;(!m||m<0)&&(m=0),(!w||w<0||w>O)&&(w=O);let z="";for(let ee=m;ee<w;++ee)z+=J[b[ee]];return z}function Oe(b,m,w){let O=b.slice(m,w),z="";for(let ee=0;ee<O.length-1;ee+=2)z+=String.fromCharCode(O[ee]+O[ee+1]*256);return z}s.prototype.slice=function(b,m){let w=this.length;b=~~b,m=m===void 0?w:~~m,b<0?(b+=w,b<0&&(b=0)):b>w&&(b=w),m<0?(m+=w,m<0&&(m=0)):m>w&&(m=w),m<b&&(m=b);let O=this.subarray(b,m);return Object.setPrototypeOf(O,s.prototype),O};function k(b,m,w){if(b%1!==0||b<0)throw new RangeError("offset is not uint");if(b+m>w)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(b,m,w){b=b>>>0,m=m>>>0,w||k(b,m,this.length);let O=this[b],z=1,ee=0;for(;++ee<m&&(z*=256);)O+=this[b+ee]*z;return O},s.prototype.readUintBE=s.prototype.readUIntBE=function(b,m,w){b=b>>>0,m=m>>>0,w||k(b,m,this.length);let O=this[b+--m],z=1;for(;m>0&&(z*=256);)O+=this[b+--m]*z;return O},s.prototype.readUint8=s.prototype.readUInt8=function(b,m){return b=b>>>0,m||k(b,1,this.length),this[b]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(b,m){return b=b>>>0,m||k(b,2,this.length),this[b]|this[b+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(b,m){return b=b>>>0,m||k(b,2,this.length),this[b]<<8|this[b+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(b,m){return b=b>>>0,m||k(b,4,this.length),(this[b]|this[b+1]<<8|this[b+2]<<16)+this[b+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(b,m){return b=b>>>0,m||k(b,4,this.length),this[b]*16777216+(this[b+1]<<16|this[b+2]<<8|this[b+3])},s.prototype.readBigUInt64LE=se(function(b){b=b>>>0,Te(b,"offset");let m=this[b],w=this[b+7];(m===void 0||w===void 0)&&Ie(b,this.length-8);let O=m+this[++b]*2**8+this[++b]*2**16+this[++b]*2**24,z=this[++b]+this[++b]*2**8+this[++b]*2**16+w*2**24;return BigInt(O)+(BigInt(z)<<BigInt(32))}),s.prototype.readBigUInt64BE=se(function(b){b=b>>>0,Te(b,"offset");let m=this[b],w=this[b+7];(m===void 0||w===void 0)&&Ie(b,this.length-8);let O=m*2**24+this[++b]*2**16+this[++b]*2**8+this[++b],z=this[++b]*2**24+this[++b]*2**16+this[++b]*2**8+w;return(BigInt(O)<<BigInt(32))+BigInt(z)}),s.prototype.readIntLE=function(b,m,w){b=b>>>0,m=m>>>0,w||k(b,m,this.length);let O=this[b],z=1,ee=0;for(;++ee<m&&(z*=256);)O+=this[b+ee]*z;return z*=128,O>=z&&(O-=Math.pow(2,8*m)),O},s.prototype.readIntBE=function(b,m,w){b=b>>>0,m=m>>>0,w||k(b,m,this.length);let O=m,z=1,ee=this[b+--O];for(;O>0&&(z*=256);)ee+=this[b+--O]*z;return z*=128,ee>=z&&(ee-=Math.pow(2,8*m)),ee},s.prototype.readInt8=function(b,m){return b=b>>>0,m||k(b,1,this.length),this[b]&128?(255-this[b]+1)*-1:this[b]},s.prototype.readInt16LE=function(b,m){b=b>>>0,m||k(b,2,this.length);let w=this[b]|this[b+1]<<8;return w&32768?w|4294901760:w},s.prototype.readInt16BE=function(b,m){b=b>>>0,m||k(b,2,this.length);let w=this[b+1]|this[b]<<8;return w&32768?w|4294901760:w},s.prototype.readInt32LE=function(b,m){return b=b>>>0,m||k(b,4,this.length),this[b]|this[b+1]<<8|this[b+2]<<16|this[b+3]<<24},s.prototype.readInt32BE=function(b,m){return b=b>>>0,m||k(b,4,this.length),this[b]<<24|this[b+1]<<16|this[b+2]<<8|this[b+3]},s.prototype.readBigInt64LE=se(function(b){b=b>>>0,Te(b,"offset");let m=this[b],w=this[b+7];(m===void 0||w===void 0)&&Ie(b,this.length-8);let O=this[b+4]+this[b+5]*2**8+this[b+6]*2**16+(w<<24);return(BigInt(O)<<BigInt(32))+BigInt(m+this[++b]*2**8+this[++b]*2**16+this[++b]*2**24)}),s.prototype.readBigInt64BE=se(function(b){b=b>>>0,Te(b,"offset");let m=this[b],w=this[b+7];(m===void 0||w===void 0)&&Ie(b,this.length-8);let O=(m<<24)+this[++b]*2**16+this[++b]*2**8+this[++b];return(BigInt(O)<<BigInt(32))+BigInt(this[++b]*2**24+this[++b]*2**16+this[++b]*2**8+w)}),s.prototype.readFloatLE=function(b,m){return b=b>>>0,m||k(b,4,this.length),a.read(this,b,!0,23,4)},s.prototype.readFloatBE=function(b,m){return b=b>>>0,m||k(b,4,this.length),a.read(this,b,!1,23,4)},s.prototype.readDoubleLE=function(b,m){return b=b>>>0,m||k(b,8,this.length),a.read(this,b,!0,52,8)},s.prototype.readDoubleBE=function(b,m){return b=b>>>0,m||k(b,8,this.length),a.read(this,b,!1,52,8)};function ae(b,m,w,O,z,ee){if(!s.isBuffer(b))throw new TypeError('"buffer" argument must be a Buffer instance');if(m>z||m<ee)throw new RangeError('"value" argument is out of bounds');if(w+O>b.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(b,m,w,O){if(b=+b,m=m>>>0,w=w>>>0,!O){let Ee=Math.pow(2,8*w)-1;ae(this,b,m,w,Ee,0)}let z=1,ee=0;for(this[m]=b&255;++ee<w&&(z*=256);)this[m+ee]=b/z&255;return m+w},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(b,m,w,O){if(b=+b,m=m>>>0,w=w>>>0,!O){let Ee=Math.pow(2,8*w)-1;ae(this,b,m,w,Ee,0)}let z=w-1,ee=1;for(this[m+z]=b&255;--z>=0&&(ee*=256);)this[m+z]=b/ee&255;return m+w},s.prototype.writeUint8=s.prototype.writeUInt8=function(b,m,w){return b=+b,m=m>>>0,w||ae(this,b,m,1,255,0),this[m]=b&255,m+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(b,m,w){return b=+b,m=m>>>0,w||ae(this,b,m,2,65535,0),this[m]=b&255,this[m+1]=b>>>8,m+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(b,m,w){return b=+b,m=m>>>0,w||ae(this,b,m,2,65535,0),this[m]=b>>>8,this[m+1]=b&255,m+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(b,m,w){return b=+b,m=m>>>0,w||ae(this,b,m,4,4294967295,0),this[m+3]=b>>>24,this[m+2]=b>>>16,this[m+1]=b>>>8,this[m]=b&255,m+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(b,m,w){return b=+b,m=m>>>0,w||ae(this,b,m,4,4294967295,0),this[m]=b>>>24,this[m+1]=b>>>16,this[m+2]=b>>>8,this[m+3]=b&255,m+4};function T(b,m,w,O,z){xe(m,O,z,b,w,7);let ee=Number(m&BigInt(4294967295));b[w++]=ee,ee=ee>>8,b[w++]=ee,ee=ee>>8,b[w++]=ee,ee=ee>>8,b[w++]=ee;let Ee=Number(m>>BigInt(32)&BigInt(4294967295));return b[w++]=Ee,Ee=Ee>>8,b[w++]=Ee,Ee=Ee>>8,b[w++]=Ee,Ee=Ee>>8,b[w++]=Ee,w}function F(b,m,w,O,z){xe(m,O,z,b,w,7);let ee=Number(m&BigInt(4294967295));b[w+7]=ee,ee=ee>>8,b[w+6]=ee,ee=ee>>8,b[w+5]=ee,ee=ee>>8,b[w+4]=ee;let Ee=Number(m>>BigInt(32)&BigInt(4294967295));return b[w+3]=Ee,Ee=Ee>>8,b[w+2]=Ee,Ee=Ee>>8,b[w+1]=Ee,Ee=Ee>>8,b[w]=Ee,w+8}s.prototype.writeBigUInt64LE=se(function(b,m=0){return T(this,b,m,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=se(function(b,m=0){return F(this,b,m,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(b,m,w,O){if(b=+b,m=m>>>0,!O){let Ge=Math.pow(2,8*w-1);ae(this,b,m,w,Ge-1,-Ge)}let z=0,ee=1,Ee=0;for(this[m]=b&255;++z<w&&(ee*=256);)b<0&&Ee===0&&this[m+z-1]!==0&&(Ee=1),this[m+z]=(b/ee>>0)-Ee&255;return m+w},s.prototype.writeIntBE=function(b,m,w,O){if(b=+b,m=m>>>0,!O){let Ge=Math.pow(2,8*w-1);ae(this,b,m,w,Ge-1,-Ge)}let z=w-1,ee=1,Ee=0;for(this[m+z]=b&255;--z>=0&&(ee*=256);)b<0&&Ee===0&&this[m+z+1]!==0&&(Ee=1),this[m+z]=(b/ee>>0)-Ee&255;return m+w},s.prototype.writeInt8=function(b,m,w){return b=+b,m=m>>>0,w||ae(this,b,m,1,127,-128),b<0&&(b=255+b+1),this[m]=b&255,m+1},s.prototype.writeInt16LE=function(b,m,w){return b=+b,m=m>>>0,w||ae(this,b,m,2,32767,-32768),this[m]=b&255,this[m+1]=b>>>8,m+2},s.prototype.writeInt16BE=function(b,m,w){return b=+b,m=m>>>0,w||ae(this,b,m,2,32767,-32768),this[m]=b>>>8,this[m+1]=b&255,m+2},s.prototype.writeInt32LE=function(b,m,w){return b=+b,m=m>>>0,w||ae(this,b,m,4,2147483647,-2147483648),this[m]=b&255,this[m+1]=b>>>8,this[m+2]=b>>>16,this[m+3]=b>>>24,m+4},s.prototype.writeInt32BE=function(b,m,w){return b=+b,m=m>>>0,w||ae(this,b,m,4,2147483647,-2147483648),b<0&&(b=4294967295+b+1),this[m]=b>>>24,this[m+1]=b>>>16,this[m+2]=b>>>8,this[m+3]=b&255,m+4},s.prototype.writeBigInt64LE=se(function(b,m=0){return T(this,b,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=se(function(b,m=0){return F(this,b,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function de(b,m,w,O,z,ee){if(w+O>b.length)throw new RangeError("Index out of range");if(w<0)throw new RangeError("Index out of range")}function ke(b,m,w,O,z){return m=+m,w=w>>>0,z||de(b,m,w,4),a.write(b,m,w,O,23,4),w+4}s.prototype.writeFloatLE=function(b,m,w){return ke(this,b,m,!0,w)},s.prototype.writeFloatBE=function(b,m,w){return ke(this,b,m,!1,w)};function ce(b,m,w,O,z){return m=+m,w=w>>>0,z||de(b,m,w,8),a.write(b,m,w,O,52,8),w+8}s.prototype.writeDoubleLE=function(b,m,w){return ce(this,b,m,!0,w)},s.prototype.writeDoubleBE=function(b,m,w){return ce(this,b,m,!1,w)},s.prototype.copy=function(b,m,w,O){if(!s.isBuffer(b))throw new TypeError("argument should be a Buffer");if(w||(w=0),!O&&O!==0&&(O=this.length),m>=b.length&&(m=b.length),m||(m=0),O>0&&O<w&&(O=w),O===w||b.length===0||this.length===0)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(w<0||w>=this.length)throw new RangeError("Index out of range");if(O<0)throw new RangeError("sourceEnd out of bounds");O>this.length&&(O=this.length),b.length-m<O-w&&(O=b.length-m+w);let z=O-w;return this===b&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(m,w,O):Uint8Array.prototype.set.call(b,this.subarray(w,O),m),z},s.prototype.fill=function(b,m,w,O){if(typeof b=="string"){if(typeof m=="string"?(O=m,m=0,w=this.length):typeof w=="string"&&(O=w,w=this.length),O!==void 0&&typeof O!="string")throw new TypeError("encoding must be a string");if(typeof O=="string"&&!s.isEncoding(O))throw new TypeError("Unknown encoding: "+O);if(b.length===1){let ee=b.charCodeAt(0);(O==="utf8"&&ee<128||O==="latin1")&&(b=ee)}}else typeof b=="number"?b=b&255:typeof b=="boolean"&&(b=Number(b));if(m<0||this.length<m||this.length<w)throw new RangeError("Out of range index");if(w<=m)return this;m=m>>>0,w=w===void 0?this.length:w>>>0,b||(b=0);let z;if(typeof b=="number")for(z=m;z<w;++z)this[z]=b;else{let ee=s.isBuffer(b)?b:s.from(b,O),Ee=ee.length;if(Ee===0)throw new TypeError('The value "'+b+'" is invalid for argument "value"');for(z=0;z<w-m;++z)this[z+m]=ee[z%Ee]}return this};let H={};function N(b,m,w){H[b]=class extends w{constructor(){super(),Object.defineProperty(this,"message",{value:m.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${b}]`,this.stack,delete this.name}get code(){return b}set code(O){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:O,writable:!0})}toString(){return`${this.name} [${b}]: ${this.message}`}}}N("ERR_BUFFER_OUT_OF_BOUNDS",function(b){return b?`${b} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),N("ERR_INVALID_ARG_TYPE",function(b,m){return`The "${b}" argument must be of type number. Received type ${typeof m}`},TypeError),N("ERR_OUT_OF_RANGE",function(b,m,w){let O=`The value of "${b}" is out of range.`,z=w;return Number.isInteger(w)&&Math.abs(w)>2**32?z=fe(String(w)):typeof w=="bigint"&&(z=String(w),(w>BigInt(2)**BigInt(32)||w<-(BigInt(2)**BigInt(32)))&&(z=fe(z)),z+="n"),O+=` It must be ${m}. Received ${z}`,O},RangeError);function fe(b){let m="",w=b.length,O=b[0]==="-"?1:0;for(;w>=O+4;w-=3)m=`_${b.slice(w-3,w)}${m}`;return`${b.slice(0,w)}${m}`}function Re(b,m,w){Te(m,"offset"),(b[m]===void 0||b[m+w]===void 0)&&Ie(m,b.length-(w+1))}function xe(b,m,w,O,z,ee){if(b>w||b<m){let Ee=typeof m=="bigint"?"n":"",Ge;throw m===0||m===BigInt(0)?Ge=`>= 0${Ee} and < 2${Ee} ** ${(ee+1)*8}${Ee}`:Ge=`>= -(2${Ee} ** ${(ee+1)*8-1}${Ee}) and < 2 ** ${(ee+1)*8-1}${Ee}`,new H.ERR_OUT_OF_RANGE("value",Ge,b)}Re(O,z,ee)}function Te(b,m){if(typeof b!="number")throw new H.ERR_INVALID_ARG_TYPE(m,"number",b)}function Ie(b,m,w){throw Math.floor(b)!==b?(Te(b,w),new H.ERR_OUT_OF_RANGE("offset","an integer",b)):m<0?new H.ERR_BUFFER_OUT_OF_BOUNDS:new H.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${m}`,b)}let je=/[^+/0-9A-Za-z-_]/g;function q(b){if(b=b.split("=")[0],b=b.trim().replace(je,""),b.length<2)return"";for(;b.length%4!==0;)b=b+"=";return b}function te(b,m){m=m||1/0;let w,O=b.length,z=null,ee=[];for(let Ee=0;Ee<O;++Ee){if(w=b.charCodeAt(Ee),w>55295&&w<57344){if(!z){if(w>56319){(m-=3)>-1&&ee.push(239,191,189);continue}else if(Ee+1===O){(m-=3)>-1&&ee.push(239,191,189);continue}z=w;continue}if(w<56320){(m-=3)>-1&&ee.push(239,191,189),z=w;continue}w=(z-55296<<10|w-56320)+65536}else z&&(m-=3)>-1&&ee.push(239,191,189);if(z=null,w<128){if((m-=1)<0)break;ee.push(w)}else if(w<2048){if((m-=2)<0)break;ee.push(w>>6|192,w&63|128)}else if(w<65536){if((m-=3)<0)break;ee.push(w>>12|224,w>>6&63|128,w&63|128)}else if(w<1114112){if((m-=4)<0)break;ee.push(w>>18|240,w>>12&63|128,w>>6&63|128,w&63|128)}else throw new Error("Invalid code point")}return ee}function Z(b){let m=[];for(let w=0;w<b.length;++w)m.push(b.charCodeAt(w)&255);return m}function Me(b,m){let w,O,z,ee=[];for(let Ee=0;Ee<b.length&&!((m-=2)<0);++Ee)w=b.charCodeAt(Ee),O=w>>8,z=w%256,ee.push(z),ee.push(O);return ee}function Ae(b){return r.toByteArray(q(b))}function K(b,m,w,O){let z;for(z=0;z<O&&!(z+w>=m.length||z>=b.length);++z)m[z+w]=b[z];return z}function oe(b,m){return b instanceof m||b!=null&&b.constructor!=null&&b.constructor.name!=null&&b.constructor.name===m.name}function P(b){return b!==b}let J=(function(){let b="0123456789abcdef",m=new Array(256);for(let w=0;w<16;++w){let O=w*16;for(let z=0;z<16;++z)m[O+z]=b[w]+b[z]}return m})();function se(b){return typeof BigInt>"u"?me:b}function me(){throw new Error("BigInt not supported")}return yi}var Pl,bh,Xa,vh,yi,wh,Nr,Ms,K0,$0,pn=hn(()=>{Le(),De(),Ue(),Pl={},bh=!1,Xa={},vh=!1,yi={},wh=!1,Nr=cw(),Nr.Buffer,Nr.SlowBuffer,Nr.INSPECT_MAX_BYTES,Nr.kMaxLength,Ms=Nr.Buffer,K0=Nr.INSPECT_MAX_BYTES,$0=Nr.kMaxLength}),Le=hn(()=>{pn()}),fw=Pe(r=>{Le(),De(),Ue(),Object.defineProperty(r,"__esModule",{value:!0});var a=class{constructor(l){this.aliasToTopic={},this.max=l}put(l,f){return f===0||f>this.max?!1:(this.aliasToTopic[f]=l,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(l){return this.aliasToTopic[l]}clear(){this.aliasToTopic={}}};r.default=a}),tn=Pe((r,a)=>{Le(),De(),Ue(),a.exports={ArrayIsArray(l){return Array.isArray(l)},ArrayPrototypeIncludes(l,f){return l.includes(f)},ArrayPrototypeIndexOf(l,f){return l.indexOf(f)},ArrayPrototypeJoin(l,f){return l.join(f)},ArrayPrototypeMap(l,f){return l.map(f)},ArrayPrototypePop(l,f){return l.pop(f)},ArrayPrototypePush(l,f){return l.push(f)},ArrayPrototypeSlice(l,f,p){return l.slice(f,p)},Error,FunctionPrototypeCall(l,f,...p){return l.call(f,...p)},FunctionPrototypeSymbolHasInstance(l,f){return Function.prototype[Symbol.hasInstance].call(l,f)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(l,f){return Object.defineProperties(l,f)},ObjectDefineProperty(l,f,p){return Object.defineProperty(l,f,p)},ObjectGetOwnPropertyDescriptor(l,f){return Object.getOwnPropertyDescriptor(l,f)},ObjectKeys(l){return Object.keys(l)},ObjectSetPrototypeOf(l,f){return Object.setPrototypeOf(l,f)},Promise,PromisePrototypeCatch(l,f){return l.catch(f)},PromisePrototypeThen(l,f,p){return l.then(f,p)},PromiseReject(l){return Promise.reject(l)},ReflectApply:Reflect.apply,RegExpPrototypeTest(l,f){return l.test(f)},SafeSet:Set,String,StringPrototypeSlice(l,f,p){return l.slice(f,p)},StringPrototypeToLowerCase(l){return l.toLowerCase()},StringPrototypeToUpperCase(l){return l.toUpperCase()},StringPrototypeTrim(l){return l.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(l,f,p){return l.set(f,p)},Uint8Array}}),Ir=Pe((r,a)=>{Le(),De(),Ue();var l=(pn(),Nt(dn)),f=Object.getPrototypeOf(async function(){}).constructor,p=globalThis.Blob||l.Blob,u=typeof p<"u"?function(c){return c instanceof p}:function(c){return!1},s=class extends Error{constructor(c){if(!Array.isArray(c))throw new TypeError(`Expected input to be an Array, got ${typeof c}`);let o="";for(let h=0;h<c.length;h++)o+=`    ${c[h].stack}
`;super(o),this.name="AggregateError",this.errors=c}};a.exports={AggregateError:s,kEmptyObject:Object.freeze({}),once(c){let o=!1;return function(...h){o||(o=!0,c.apply(this,h))}},createDeferredPromise:function(){let c,o;return{promise:new Promise((h,g)=>{c=h,o=g}),resolve:c,reject:o}},promisify(c){return new Promise((o,h)=>{c((g,...v)=>g?h(g):o(...v))})},debuglog(){return function(){}},format(c,...o){return c.replace(/%([sdifj])/g,function(...[h,g]){let v=o.shift();return g==="f"?v.toFixed(6):g==="j"?JSON.stringify(v):g==="s"&&typeof v=="object"?`${v.constructor!==Object?v.constructor.name:""} {}`.trim():v.toString()})},inspect(c){switch(typeof c){case"string":if(c.includes("'"))if(c.includes('"')){if(!c.includes("`")&&!c.includes("${"))return`\`${c}\``}else return`"${c}"`;return`'${c}'`;case"number":return isNaN(c)?"NaN":Object.is(c,-0)?String(c):c;case"bigint":return`${String(c)}n`;case"boolean":case"undefined":return String(c);case"object":return"{}"}},types:{isAsyncFunction(c){return c instanceof f},isArrayBufferView(c){return ArrayBuffer.isView(c)}},isBlob:u},a.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),Ph=Pe((r,a)=>{Le(),De(),Ue();var{AbortController:l,AbortSignal:f}=typeof self<"u"?self:typeof window<"u"?window:void 0;a.exports=l,a.exports.AbortSignal=f,a.exports.default=l}),On=Pe((r,a)=>{Le(),De(),Ue();var{format:l,inspect:f,AggregateError:p}=Ir(),u=globalThis.AggregateError||p,s=Symbol("kIsNodeError"),c=["string","function","number","object","Function","Object","boolean","bigint","symbol"],o=/^([A-Z][a-z0-9]*)+$/,h="__node_internal_",g={};function v(U,j){if(!U)throw new g.ERR_INTERNAL_ASSERTION(j)}function _(U){let j="",W=U.length,V=U[0]==="-"?1:0;for(;W>=V+4;W-=3)j=`_${U.slice(W-3,W)}${j}`;return`${U.slice(0,W)}${j}`}function S(U,j,W){if(typeof j=="function")return v(j.length<=W.length,`Code: ${U}; The provided arguments length (${W.length}) does not match the required ones (${j.length}).`),j(...W);let V=(j.match(/%[dfijoOs]/g)||[]).length;return v(V===W.length,`Code: ${U}; The provided arguments length (${W.length}) does not match the required ones (${V}).`),W.length===0?j:l(j,...W)}function E(U,j,W){W||(W=Error);class V extends W{constructor(...D){super(S(U,j,D))}toString(){return`${this.name} [${U}]: ${this.message}`}}Object.defineProperties(V.prototype,{name:{value:W.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${U}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),V.prototype.code=U,V.prototype[s]=!0,g[U]=V}function M(U){let j=h+U.name;return Object.defineProperty(U,"name",{value:j}),U}function C(U,j){if(U&&j&&U!==j){if(Array.isArray(j.errors))return j.errors.push(U),j;let W=new u([j,U],j.message);return W.code=j.code,W}return U||j}var I=class extends Error{constructor(U="The operation was aborted",j=void 0){if(j!==void 0&&typeof j!="object")throw new g.ERR_INVALID_ARG_TYPE("options","Object",j);super(U,j),this.code="ABORT_ERR",this.name="AbortError"}};E("ERR_ASSERTION","%s",Error),E("ERR_INVALID_ARG_TYPE",(U,j,W)=>{v(typeof U=="string","'name' must be a string"),Array.isArray(j)||(j=[j]);let V="The ";U.endsWith(" argument")?V+=`${U} `:V+=`"${U}" ${U.includes(".")?"property":"argument"} `,V+="must be ";let L=[],D=[],G=[];for(let ve of j)v(typeof ve=="string","All expected entries have to be of type string"),c.includes(ve)?L.push(ve.toLowerCase()):o.test(ve)?D.push(ve):(v(ve!=="object",'The value "object" should be written as "Object"'),G.push(ve));if(D.length>0){let ve=L.indexOf("object");ve!==-1&&(L.splice(L,ve,1),D.push("Object"))}if(L.length>0){switch(L.length){case 1:V+=`of type ${L[0]}`;break;case 2:V+=`one of type ${L[0]} or ${L[1]}`;break;default:{let ve=L.pop();V+=`one of type ${L.join(", ")}, or ${ve}`}}(D.length>0||G.length>0)&&(V+=" or ")}if(D.length>0){switch(D.length){case 1:V+=`an instance of ${D[0]}`;break;case 2:V+=`an instance of ${D[0]} or ${D[1]}`;break;default:{let ve=D.pop();V+=`an instance of ${D.join(", ")}, or ${ve}`}}G.length>0&&(V+=" or ")}switch(G.length){case 0:break;case 1:G[0].toLowerCase()!==G[0]&&(V+="an "),V+=`${G[0]}`;break;case 2:V+=`one of ${G[0]} or ${G[1]}`;break;default:{let ve=G.pop();V+=`one of ${G.join(", ")}, or ${ve}`}}if(W==null)V+=`. Received ${W}`;else if(typeof W=="function"&&W.name)V+=`. Received function ${W.name}`;else if(typeof W=="object"){var ne;if((ne=W.constructor)!==null&&ne!==void 0&&ne.name)V+=`. Received an instance of ${W.constructor.name}`;else{let ve=f(W,{depth:-1});V+=`. Received ${ve}`}}else{let ve=f(W,{colors:!1});ve.length>25&&(ve=`${ve.slice(0,25)}...`),V+=`. Received type ${typeof W} (${ve})`}return V},TypeError),E("ERR_INVALID_ARG_VALUE",(U,j,W="is invalid")=>{let V=f(j);return V.length>128&&(V=V.slice(0,128)+"..."),`The ${U.includes(".")?"property":"argument"} '${U}' ${W}. Received ${V}`},TypeError),E("ERR_INVALID_RETURN_VALUE",(U,j,W)=>{var V;let L=W!=null&&(V=W.constructor)!==null&&V!==void 0&&V.name?`instance of ${W.constructor.name}`:`type ${typeof W}`;return`Expected ${U} to be returned from the "${j}" function but got ${L}.`},TypeError),E("ERR_MISSING_ARGS",(...U)=>{v(U.length>0,"At least one arg needs to be specified");let j,W=U.length;switch(U=(Array.isArray(U)?U:[U]).map(V=>`"${V}"`).join(" or "),W){case 1:j+=`The ${U[0]} argument`;break;case 2:j+=`The ${U[0]} and ${U[1]} arguments`;break;default:{let V=U.pop();j+=`The ${U.join(", ")}, and ${V} arguments`}break}return`${j} must be specified`},TypeError),E("ERR_OUT_OF_RANGE",(U,j,W)=>{v(j,'Missing "range" argument');let V;return Number.isInteger(W)&&Math.abs(W)>2**32?V=_(String(W)):typeof W=="bigint"?(V=String(W),(W>2n**32n||W<-(2n**32n))&&(V=_(V)),V+="n"):V=f(W),`The value of "${U}" is out of range. It must be ${j}. Received ${V}`},RangeError),E("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),E("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),E("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),E("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),E("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),E("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),E("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),E("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),E("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),E("ERR_STREAM_WRITE_AFTER_END","write after end",Error),E("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),a.exports={AbortError:I,aggregateTwoErrors:M(C),hideStackFrames:M,codes:g}}),js=Pe((r,a)=>{Le(),De(),Ue();var{ArrayIsArray:l,ArrayPrototypeIncludes:f,ArrayPrototypeJoin:p,ArrayPrototypeMap:u,NumberIsInteger:s,NumberIsNaN:c,NumberMAX_SAFE_INTEGER:o,NumberMIN_SAFE_INTEGER:h,NumberParseInt:g,ObjectPrototypeHasOwnProperty:v,RegExpPrototypeExec:_,String:S,StringPrototypeToUpperCase:E,StringPrototypeTrim:M}=tn(),{hideStackFrames:C,codes:{ERR_SOCKET_BAD_PORT:I,ERR_INVALID_ARG_TYPE:U,ERR_INVALID_ARG_VALUE:j,ERR_OUT_OF_RANGE:W,ERR_UNKNOWN_SIGNAL:V}}=On(),{normalizeEncoding:L}=Ir(),{isAsyncFunction:D,isArrayBufferView:G}=Ir().types,ne={};function ve(K){return K===(K|0)}function _e(K){return K===K>>>0}var B=/^[0-7]+$/,le="must be a 32-bit unsigned integer or an octal string";function we(K,oe,P){if(typeof K>"u"&&(K=P),typeof K=="string"){if(_(B,K)===null)throw new j(oe,K,le);K=g(K,8)}return ie(K,oe),K}var he=C((K,oe,P=h,J=o)=>{if(typeof K!="number")throw new U(oe,"number",K);if(!s(K))throw new W(oe,"an integer",K);if(K<P||K>J)throw new W(oe,`>= ${P} && <= ${J}`,K)}),X=C((K,oe,P=-2147483648,J=2147483647)=>{if(typeof K!="number")throw new U(oe,"number",K);if(!s(K))throw new W(oe,"an integer",K);if(K<P||K>J)throw new W(oe,`>= ${P} && <= ${J}`,K)}),ie=C((K,oe,P=!1)=>{if(typeof K!="number")throw new U(oe,"number",K);if(!s(K))throw new W(oe,"an integer",K);let J=P?1:0,se=4294967295;if(K<J||K>se)throw new W(oe,`>= ${J} && <= ${se}`,K)});function $(K,oe){if(typeof K!="string")throw new U(oe,"string",K)}function Oe(K,oe,P=void 0,J){if(typeof K!="number")throw new U(oe,"number",K);if(P!=null&&K<P||J!=null&&K>J||(P!=null||J!=null)&&c(K))throw new W(oe,`${P!=null?`>= ${P}`:""}${P!=null&&J!=null?" && ":""}${J!=null?`<= ${J}`:""}`,K)}var k=C((K,oe,P)=>{if(!f(P,K)){let J="must be one of: "+p(u(P,se=>typeof se=="string"?`'${se}'`:S(se)),", ");throw new j(oe,K,J)}});function ae(K,oe){if(typeof K!="boolean")throw new U(oe,"boolean",K)}function T(K,oe,P){return K==null||!v(K,oe)?P:K[oe]}var F=C((K,oe,P=null)=>{let J=T(P,"allowArray",!1),se=T(P,"allowFunction",!1);if(!T(P,"nullable",!1)&&K===null||!J&&l(K)||typeof K!="object"&&(!se||typeof K!="function"))throw new U(oe,"Object",K)}),de=C((K,oe)=>{if(K!=null&&typeof K!="object"&&typeof K!="function")throw new U(oe,"a dictionary",K)}),ke=C((K,oe,P=0)=>{if(!l(K))throw new U(oe,"Array",K);if(K.length<P){let J=`must be longer than ${P}`;throw new j(oe,K,J)}});function ce(K,oe){ke(K,oe);for(let P=0;P<K.length;P++)$(K[P],`${oe}[${P}]`)}function H(K,oe){ke(K,oe);for(let P=0;P<K.length;P++)ae(K[P],`${oe}[${P}]`)}function N(K,oe="signal"){if($(K,oe),ne[K]===void 0)throw ne[E(K)]!==void 0?new V(K+" (signals must use all capital letters)"):new V(K)}var fe=C((K,oe="buffer")=>{if(!G(K))throw new U(oe,["Buffer","TypedArray","DataView"],K)});function Re(K,oe){let P=L(oe),J=K.length;if(P==="hex"&&J%2!==0)throw new j("encoding",oe,`is invalid for data of length ${J}`)}function xe(K,oe="Port",P=!0){if(typeof K!="number"&&typeof K!="string"||typeof K=="string"&&M(K).length===0||+K!==+K>>>0||K>65535||K===0&&!P)throw new I(oe,K,P);return K|0}var Te=C((K,oe)=>{if(K!==void 0&&(K===null||typeof K!="object"||!("aborted"in K)))throw new U(oe,"AbortSignal",K)}),Ie=C((K,oe)=>{if(typeof K!="function")throw new U(oe,"Function",K)}),je=C((K,oe)=>{if(typeof K!="function"||D(K))throw new U(oe,"Function",K)}),q=C((K,oe)=>{if(K!==void 0)throw new U(oe,"undefined",K)});function te(K,oe,P){if(!f(P,K))throw new U(oe,`('${p(P,"|")}')`,K)}var Z=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function Me(K,oe){if(typeof K>"u"||!_(Z,K))throw new j(oe,K,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function Ae(K){if(typeof K=="string")return Me(K,"hints"),K;if(l(K)){let oe=K.length,P="";if(oe===0)return P;for(let J=0;J<oe;J++){let se=K[J];Me(se,"hints"),P+=se,J!==oe-1&&(P+=", ")}return P}throw new j("hints",K,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}a.exports={isInt32:ve,isUint32:_e,parseFileMode:we,validateArray:ke,validateStringArray:ce,validateBooleanArray:H,validateBoolean:ae,validateBuffer:fe,validateDictionary:de,validateEncoding:Re,validateFunction:Ie,validateInt32:X,validateInteger:he,validateNumber:Oe,validateObject:F,validateOneOf:k,validatePlainFunction:je,validatePort:xe,validateSignalName:N,validateString:$,validateUint32:ie,validateUndefined:q,validateUnion:te,validateAbortSignal:Te,validateLinkHeaderValue:Ae}}),nl=Pe((r,a)=>{Le(),De(),Ue();var l=a.exports={},f,p;function u(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?f=setTimeout:f=u}catch{f=u}try{typeof clearTimeout=="function"?p=clearTimeout:p=s}catch{p=s}})();function c(I){if(f===setTimeout)return setTimeout(I,0);if((f===u||!f)&&setTimeout)return f=setTimeout,setTimeout(I,0);try{return f(I,0)}catch{try{return f.call(null,I,0)}catch{return f.call(this,I,0)}}}function o(I){if(p===clearTimeout)return clearTimeout(I);if((p===s||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(I);try{return p(I)}catch{try{return p.call(null,I)}catch{return p.call(this,I)}}}var h=[],g=!1,v,_=-1;function S(){!g||!v||(g=!1,v.length?h=v.concat(h):_=-1,h.length&&E())}function E(){if(!g){var I=c(S);g=!0;for(var U=h.length;U;){for(v=h,h=[];++_<U;)v&&v[_].run();_=-1,U=h.length}v=null,g=!1,o(I)}}l.nextTick=function(I){var U=new Array(arguments.length-1);if(arguments.length>1)for(var j=1;j<arguments.length;j++)U[j-1]=arguments[j];h.push(new M(I,U)),h.length===1&&!g&&c(E)};function M(I,U){this.fun=I,this.array=U}M.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={};function C(){}l.on=C,l.addListener=C,l.once=C,l.off=C,l.removeListener=C,l.removeAllListeners=C,l.emit=C,l.prependListener=C,l.prependOnceListener=C,l.listeners=function(I){return[]},l.binding=function(I){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(I){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}}),Pr=Pe((r,a)=>{Le(),De(),Ue();var{Symbol:l,SymbolAsyncIterator:f,SymbolIterator:p,SymbolFor:u}=tn(),s=l("kDestroyed"),c=l("kIsErrored"),o=l("kIsReadable"),h=l("kIsDisturbed"),g=u("nodejs.webstream.isClosedPromise"),v=u("nodejs.webstream.controllerErrorFunction");function _(T,F=!1){var de;return!!(T&&typeof T.pipe=="function"&&typeof T.on=="function"&&(!F||typeof T.pause=="function"&&typeof T.resume=="function")&&(!T._writableState||((de=T._readableState)===null||de===void 0?void 0:de.readable)!==!1)&&(!T._writableState||T._readableState))}function S(T){var F;return!!(T&&typeof T.write=="function"&&typeof T.on=="function"&&(!T._readableState||((F=T._writableState)===null||F===void 0?void 0:F.writable)!==!1))}function E(T){return!!(T&&typeof T.pipe=="function"&&T._readableState&&typeof T.on=="function"&&typeof T.write=="function")}function M(T){return T&&(T._readableState||T._writableState||typeof T.write=="function"&&typeof T.on=="function"||typeof T.pipe=="function"&&typeof T.on=="function")}function C(T){return!!(T&&!M(T)&&typeof T.pipeThrough=="function"&&typeof T.getReader=="function"&&typeof T.cancel=="function")}function I(T){return!!(T&&!M(T)&&typeof T.getWriter=="function"&&typeof T.abort=="function")}function U(T){return!!(T&&!M(T)&&typeof T.readable=="object"&&typeof T.writable=="object")}function j(T){return C(T)||I(T)||U(T)}function W(T,F){return T==null?!1:F===!0?typeof T[f]=="function":F===!1?typeof T[p]=="function":typeof T[f]=="function"||typeof T[p]=="function"}function V(T){if(!M(T))return null;let F=T._writableState,de=T._readableState,ke=F||de;return!!(T.destroyed||T[s]||ke!=null&&ke.destroyed)}function L(T){if(!S(T))return null;if(T.writableEnded===!0)return!0;let F=T._writableState;return F!=null&&F.errored?!1:typeof(F==null?void 0:F.ended)!="boolean"?null:F.ended}function D(T,F){if(!S(T))return null;if(T.writableFinished===!0)return!0;let de=T._writableState;return de!=null&&de.errored?!1:typeof(de==null?void 0:de.finished)!="boolean"?null:!!(de.finished||F===!1&&de.ended===!0&&de.length===0)}function G(T){if(!_(T))return null;if(T.readableEnded===!0)return!0;let F=T._readableState;return!F||F.errored?!1:typeof(F==null?void 0:F.ended)!="boolean"?null:F.ended}function ne(T,F){if(!_(T))return null;let de=T._readableState;return de!=null&&de.errored?!1:typeof(de==null?void 0:de.endEmitted)!="boolean"?null:!!(de.endEmitted||F===!1&&de.ended===!0&&de.length===0)}function ve(T){return T&&T[o]!=null?T[o]:typeof(T==null?void 0:T.readable)!="boolean"?null:V(T)?!1:_(T)&&T.readable&&!ne(T)}function _e(T){return typeof(T==null?void 0:T.writable)!="boolean"?null:V(T)?!1:S(T)&&T.writable&&!L(T)}function B(T,F){return M(T)?V(T)?!0:!((F==null?void 0:F.readable)!==!1&&ve(T)||(F==null?void 0:F.writable)!==!1&&_e(T)):null}function le(T){var F,de;return M(T)?T.writableErrored?T.writableErrored:(F=(de=T._writableState)===null||de===void 0?void 0:de.errored)!==null&&F!==void 0?F:null:null}function we(T){var F,de;return M(T)?T.readableErrored?T.readableErrored:(F=(de=T._readableState)===null||de===void 0?void 0:de.errored)!==null&&F!==void 0?F:null:null}function he(T){if(!M(T))return null;if(typeof T.closed=="boolean")return T.closed;let F=T._writableState,de=T._readableState;return typeof(F==null?void 0:F.closed)=="boolean"||typeof(de==null?void 0:de.closed)=="boolean"?(F==null?void 0:F.closed)||(de==null?void 0:de.closed):typeof T._closed=="boolean"&&X(T)?T._closed:null}function X(T){return typeof T._closed=="boolean"&&typeof T._defaultKeepAlive=="boolean"&&typeof T._removedConnection=="boolean"&&typeof T._removedContLen=="boolean"}function ie(T){return typeof T._sent100=="boolean"&&X(T)}function $(T){var F;return typeof T._consuming=="boolean"&&typeof T._dumped=="boolean"&&((F=T.req)===null||F===void 0?void 0:F.upgradeOrConnect)===void 0}function Oe(T){if(!M(T))return null;let F=T._writableState,de=T._readableState,ke=F||de;return!ke&&ie(T)||!!(ke&&ke.autoDestroy&&ke.emitClose&&ke.closed===!1)}function k(T){var F;return!!(T&&((F=T[h])!==null&&F!==void 0?F:T.readableDidRead||T.readableAborted))}function ae(T){var F,de,ke,ce,H,N,fe,Re,xe,Te;return!!(T&&((F=(de=(ke=(ce=(H=(N=T[c])!==null&&N!==void 0?N:T.readableErrored)!==null&&H!==void 0?H:T.writableErrored)!==null&&ce!==void 0?ce:(fe=T._readableState)===null||fe===void 0?void 0:fe.errorEmitted)!==null&&ke!==void 0?ke:(Re=T._writableState)===null||Re===void 0?void 0:Re.errorEmitted)!==null&&de!==void 0?de:(xe=T._readableState)===null||xe===void 0?void 0:xe.errored)!==null&&F!==void 0?F:!((Te=T._writableState)===null||Te===void 0)&&Te.errored))}a.exports={kDestroyed:s,isDisturbed:k,kIsDisturbed:h,isErrored:ae,kIsErrored:c,isReadable:ve,kIsReadable:o,kIsClosedPromise:g,kControllerErrorFunction:v,isClosed:he,isDestroyed:V,isDuplexNodeStream:E,isFinished:B,isIterable:W,isReadableNodeStream:_,isReadableStream:C,isReadableEnded:G,isReadableFinished:ne,isReadableErrored:we,isNodeStream:M,isWebStream:j,isWritable:_e,isWritableNodeStream:S,isWritableStream:I,isWritableEnded:L,isWritableFinished:D,isWritableErrored:le,isServerRequest:$,isServerResponse:ie,willEmitClose:Oe,isTransformStream:U}}),Ei=Pe((r,a)=>{Le(),De(),Ue();var l=nl(),{AbortError:f,codes:p}=On(),{ERR_INVALID_ARG_TYPE:u,ERR_STREAM_PREMATURE_CLOSE:s}=p,{kEmptyObject:c,once:o}=Ir(),{validateAbortSignal:h,validateFunction:g,validateObject:v,validateBoolean:_}=js(),{Promise:S,PromisePrototypeThen:E}=tn(),{isClosed:M,isReadable:C,isReadableNodeStream:I,isReadableStream:U,isReadableFinished:j,isReadableErrored:W,isWritable:V,isWritableNodeStream:L,isWritableStream:D,isWritableFinished:G,isWritableErrored:ne,isNodeStream:ve,willEmitClose:_e,kIsClosedPromise:B}=Pr();function le($){return $.setHeader&&typeof $.abort=="function"}var we=()=>{};function he($,Oe,k){var ae,T;if(arguments.length===2?(k=Oe,Oe=c):Oe==null?Oe=c:v(Oe,"options"),g(k,"callback"),h(Oe.signal,"options.signal"),k=o(k),U($)||D($))return X($,Oe,k);if(!ve($))throw new u("stream",["ReadableStream","WritableStream","Stream"],$);let F=(ae=Oe.readable)!==null&&ae!==void 0?ae:I($),de=(T=Oe.writable)!==null&&T!==void 0?T:L($),ke=$._writableState,ce=$._readableState,H=()=>{$.writable||Re()},N=_e($)&&I($)===F&&L($)===de,fe=G($,!1),Re=()=>{fe=!0,$.destroyed&&(N=!1),!(N&&(!$.readable||F))&&(!F||xe)&&k.call($)},xe=j($,!1),Te=()=>{xe=!0,$.destroyed&&(N=!1),!(N&&(!$.writable||de))&&(!de||fe)&&k.call($)},Ie=Ae=>{k.call($,Ae)},je=M($),q=()=>{je=!0;let Ae=ne($)||W($);if(Ae&&typeof Ae!="boolean")return k.call($,Ae);if(F&&!xe&&I($,!0)&&!j($,!1))return k.call($,new s);if(de&&!fe&&!G($,!1))return k.call($,new s);k.call($)},te=()=>{je=!0;let Ae=ne($)||W($);if(Ae&&typeof Ae!="boolean")return k.call($,Ae);k.call($)},Z=()=>{$.req.on("finish",Re)};le($)?($.on("complete",Re),N||$.on("abort",q),$.req?Z():$.on("request",Z)):de&&!ke&&($.on("end",H),$.on("close",H)),!N&&typeof $.aborted=="boolean"&&$.on("aborted",q),$.on("end",Te),$.on("finish",Re),Oe.error!==!1&&$.on("error",Ie),$.on("close",q),je?l.nextTick(q):ke!=null&&ke.errorEmitted||ce!=null&&ce.errorEmitted?N||l.nextTick(te):(!F&&(!N||C($))&&(fe||V($)===!1)||!de&&(!N||V($))&&(xe||C($)===!1)||ce&&$.req&&$.aborted)&&l.nextTick(te);let Me=()=>{k=we,$.removeListener("aborted",q),$.removeListener("complete",Re),$.removeListener("abort",q),$.removeListener("request",Z),$.req&&$.req.removeListener("finish",Re),$.removeListener("end",H),$.removeListener("close",H),$.removeListener("finish",Re),$.removeListener("end",Te),$.removeListener("error",Ie),$.removeListener("close",q)};if(Oe.signal&&!je){let Ae=()=>{let K=k;Me(),K.call($,new f(void 0,{cause:Oe.signal.reason}))};if(Oe.signal.aborted)l.nextTick(Ae);else{let K=k;k=o((...oe)=>{Oe.signal.removeEventListener("abort",Ae),K.apply($,oe)}),Oe.signal.addEventListener("abort",Ae)}}return Me}function X($,Oe,k){let ae=!1,T=we;if(Oe.signal)if(T=()=>{ae=!0,k.call($,new f(void 0,{cause:Oe.signal.reason}))},Oe.signal.aborted)l.nextTick(T);else{let de=k;k=o((...ke)=>{Oe.signal.removeEventListener("abort",T),de.apply($,ke)}),Oe.signal.addEventListener("abort",T)}let F=(...de)=>{ae||l.nextTick(()=>k.apply($,de))};return E($[B].promise,F,F),we}function ie($,Oe){var k;let ae=!1;return Oe===null&&(Oe=c),(k=Oe)!==null&&k!==void 0&&k.cleanup&&(_(Oe.cleanup,"cleanup"),ae=Oe.cleanup),new S((T,F)=>{let de=he($,Oe,ke=>{ae&&de(),ke?F(ke):T()})})}a.exports=he,a.exports.finished=ie}),Yl=Pe((r,a)=>{Le(),De(),Ue();var l=nl(),{aggregateTwoErrors:f,codes:{ERR_MULTIPLE_CALLBACK:p},AbortError:u}=On(),{Symbol:s}=tn(),{kDestroyed:c,isDestroyed:o,isFinished:h,isServerRequest:g}=Pr(),v=s("kDestroy"),_=s("kConstruct");function S(B,le,we){B&&(B.stack,le&&!le.errored&&(le.errored=B),we&&!we.errored&&(we.errored=B))}function E(B,le){let we=this._readableState,he=this._writableState,X=he||we;return he!=null&&he.destroyed||we!=null&&we.destroyed?(typeof le=="function"&&le(),this):(S(B,he,we),he&&(he.destroyed=!0),we&&(we.destroyed=!0),X.constructed?M(this,B,le):this.once(v,function(ie){M(this,f(ie,B),le)}),this)}function M(B,le,we){let he=!1;function X(ie){if(he)return;he=!0;let $=B._readableState,Oe=B._writableState;S(ie,Oe,$),Oe&&(Oe.closed=!0),$&&($.closed=!0),typeof we=="function"&&we(ie),ie?l.nextTick(C,B,ie):l.nextTick(I,B)}try{B._destroy(le||null,X)}catch(ie){X(ie)}}function C(B,le){U(B,le),I(B)}function I(B){let le=B._readableState,we=B._writableState;we&&(we.closeEmitted=!0),le&&(le.closeEmitted=!0),(we!=null&&we.emitClose||le!=null&&le.emitClose)&&B.emit("close")}function U(B,le){let we=B._readableState,he=B._writableState;he!=null&&he.errorEmitted||we!=null&&we.errorEmitted||(he&&(he.errorEmitted=!0),we&&(we.errorEmitted=!0),B.emit("error",le))}function j(){let B=this._readableState,le=this._writableState;B&&(B.constructed=!0,B.closed=!1,B.closeEmitted=!1,B.destroyed=!1,B.errored=null,B.errorEmitted=!1,B.reading=!1,B.ended=B.readable===!1,B.endEmitted=B.readable===!1),le&&(le.constructed=!0,le.destroyed=!1,le.closed=!1,le.closeEmitted=!1,le.errored=null,le.errorEmitted=!1,le.finalCalled=!1,le.prefinished=!1,le.ended=le.writable===!1,le.ending=le.writable===!1,le.finished=le.writable===!1)}function W(B,le,we){let he=B._readableState,X=B._writableState;if(X!=null&&X.destroyed||he!=null&&he.destroyed)return this;he!=null&&he.autoDestroy||X!=null&&X.autoDestroy?B.destroy(le):le&&(le.stack,X&&!X.errored&&(X.errored=le),he&&!he.errored&&(he.errored=le),we?l.nextTick(U,B,le):U(B,le))}function V(B,le){if(typeof B._construct!="function")return;let we=B._readableState,he=B._writableState;we&&(we.constructed=!1),he&&(he.constructed=!1),B.once(_,le),!(B.listenerCount(_)>1)&&l.nextTick(L,B)}function L(B){let le=!1;function we(he){if(le){W(B,he??new p);return}le=!0;let X=B._readableState,ie=B._writableState,$=ie||X;X&&(X.constructed=!0),ie&&(ie.constructed=!0),$.destroyed?B.emit(v,he):he?W(B,he,!0):l.nextTick(D,B)}try{B._construct(he=>{l.nextTick(we,he)})}catch(he){l.nextTick(we,he)}}function D(B){B.emit(_)}function G(B){return(B==null?void 0:B.setHeader)&&typeof B.abort=="function"}function ne(B){B.emit("close")}function ve(B,le){B.emit("error",le),l.nextTick(ne,B)}function _e(B,le){!B||o(B)||(!le&&!h(B)&&(le=new u),g(B)?(B.socket=null,B.destroy(le)):G(B)?B.abort():G(B.req)?B.req.abort():typeof B.destroy=="function"?B.destroy(le):typeof B.close=="function"?B.close():le?l.nextTick(ve,B,le):l.nextTick(ne,B),B.destroyed||(B[c]=!0))}a.exports={construct:V,destroyer:_e,destroy:E,undestroy:j,errorOrDestroy:W}});function Ot(){Ot.init.call(this)}function _s(r){if(typeof r!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r)}function F0(r){return r._maxListeners===void 0?Ot.defaultMaxListeners:r._maxListeners}function Vm(r,a,l,f){var p,u,s,c;if(_s(l),(u=r._events)===void 0?(u=r._events=Object.create(null),r._eventsCount=0):(u.newListener!==void 0&&(r.emit("newListener",a,l.listener?l.listener:l),u=r._events),s=u[a]),s===void 0)s=u[a]=l,++r._eventsCount;else if(typeof s=="function"?s=u[a]=f?[l,s]:[s,l]:f?s.unshift(l):s.push(l),(p=F0(r))>0&&s.length>p&&!s.warned){s.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(a)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=r,o.type=a,o.count=s.length,c=o,console&&console.warn&&console.warn(c)}return r}function hw(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Ym(r,a,l){var f={fired:!1,wrapFn:void 0,target:r,type:a,listener:l},p=hw.bind(f);return p.listener=l,f.wrapFn=p,p}function Wm(r,a,l){var f=r._events;if(f===void 0)return[];var p=f[a];return p===void 0?[]:typeof p=="function"?l?[p.listener||p]:[p]:l?(function(u){for(var s=new Array(u.length),c=0;c<s.length;++c)s[c]=u[c].listener||u[c];return s})(p):Z0(p,p.length)}function Qm(r){var a=this._events;if(a!==void 0){var l=a[r];if(typeof l=="function")return 1;if(l!==void 0)return l.length}return 0}function Z0(r,a){for(var l=new Array(a),f=0;f<a;++f)l[f]=r[f];return l}var Xm,Km,Hi,tf,nf,rf,Ln,$m=hn(()=>{Le(),De(),Ue(),Hi=typeof Reflect=="object"?Reflect:null,tf=Hi&&typeof Hi.apply=="function"?Hi.apply:function(r,a,l){return Function.prototype.apply.call(r,a,l)},Km=Hi&&typeof Hi.ownKeys=="function"?Hi.ownKeys:Object.getOwnPropertySymbols?function(r){return Object.getOwnPropertyNames(r).concat(Object.getOwnPropertySymbols(r))}:function(r){return Object.getOwnPropertyNames(r)},nf=Number.isNaN||function(r){return r!=r},Xm=Ot,Ot.EventEmitter=Ot,Ot.prototype._events=void 0,Ot.prototype._eventsCount=0,Ot.prototype._maxListeners=void 0,rf=10,Object.defineProperty(Ot,"defaultMaxListeners",{enumerable:!0,get:function(){return rf},set:function(r){if(typeof r!="number"||r<0||nf(r))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+r+".");rf=r}}),Ot.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Ot.prototype.setMaxListeners=function(r){if(typeof r!="number"||r<0||nf(r))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+r+".");return this._maxListeners=r,this},Ot.prototype.getMaxListeners=function(){return F0(this)},Ot.prototype.emit=function(r){for(var a=[],l=1;l<arguments.length;l++)a.push(arguments[l]);var f=r==="error",p=this._events;if(p!==void 0)f=f&&p.error===void 0;else if(!f)return!1;if(f){var u;if(a.length>0&&(u=a[0]),u instanceof Error)throw u;var s=new Error("Unhandled error."+(u?" ("+u.message+")":""));throw s.context=u,s}var c=p[r];if(c===void 0)return!1;if(typeof c=="function")tf(c,this,a);else{var o=c.length,h=Z0(c,o);for(l=0;l<o;++l)tf(h[l],this,a)}return!0},Ot.prototype.addListener=function(r,a){return Vm(this,r,a,!1)},Ot.prototype.on=Ot.prototype.addListener,Ot.prototype.prependListener=function(r,a){return Vm(this,r,a,!0)},Ot.prototype.once=function(r,a){return _s(a),this.on(r,Ym(this,r,a)),this},Ot.prototype.prependOnceListener=function(r,a){return _s(a),this.prependListener(r,Ym(this,r,a)),this},Ot.prototype.removeListener=function(r,a){var l,f,p,u,s;if(_s(a),(f=this._events)===void 0)return this;if((l=f[r])===void 0)return this;if(l===a||l.listener===a)--this._eventsCount==0?this._events=Object.create(null):(delete f[r],f.removeListener&&this.emit("removeListener",r,l.listener||a));else if(typeof l!="function"){for(p=-1,u=l.length-1;u>=0;u--)if(l[u]===a||l[u].listener===a){s=l[u].listener,p=u;break}if(p<0)return this;p===0?l.shift():(function(c,o){for(;o+1<c.length;o++)c[o]=c[o+1];c.pop()})(l,p),l.length===1&&(f[r]=l[0]),f.removeListener!==void 0&&this.emit("removeListener",r,s||a)}return this},Ot.prototype.off=Ot.prototype.removeListener,Ot.prototype.removeAllListeners=function(r){var a,l,f;if((l=this._events)===void 0)return this;if(l.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):l[r]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete l[r]),this;if(arguments.length===0){var p,u=Object.keys(l);for(f=0;f<u.length;++f)(p=u[f])!=="removeListener"&&this.removeAllListeners(p);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(a=l[r])=="function")this.removeListener(r,a);else if(a!==void 0)for(f=a.length-1;f>=0;f--)this.removeListener(r,a[f]);return this},Ot.prototype.listeners=function(r){return Wm(this,r,!0)},Ot.prototype.rawListeners=function(r){return Wm(this,r,!1)},Ot.listenerCount=function(r,a){return typeof r.listenerCount=="function"?r.listenerCount(a):Qm.call(r,a)},Ot.prototype.listenerCount=Qm,Ot.prototype.eventNames=function(){return this._eventsCount>0?Km(this._events):[]},Ln=Xm,Ln.EventEmitter,Ln.defaultMaxListeners,Ln.init,Ln.listenerCount,Ln.EventEmitter,Ln.defaultMaxListeners,Ln.init,Ln.listenerCount}),rl={};tl(rl,{EventEmitter:()=>J0,default:()=>Ln,defaultMaxListeners:()=>ey,init:()=>ty,listenerCount:()=>ny,on:()=>ry,once:()=>iy});var J0,ey,ty,ny,ry,iy,Wl=hn(()=>{Le(),De(),Ue(),$m(),$m(),Ln.once=function(r,a){return new Promise((l,f)=>{function p(...s){u!==void 0&&r.removeListener("error",u),l(s)}let u;a!=="error"&&(u=s=>{r.removeListener(name,p),f(s)},r.once("error",u)),r.once(a,p)})},Ln.on=function(r,a){let l=[],f=[],p=null,u=!1,s={async next(){let h=l.shift();if(h)return createIterResult(h,!1);if(p){let g=Promise.reject(p);return p=null,g}return u?createIterResult(void 0,!0):new Promise((g,v)=>f.push({resolve:g,reject:v}))},async return(){r.removeListener(a,c),r.removeListener("error",o),u=!0;for(let h of f)h.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(h){p=h,r.removeListener(a,c),r.removeListener("error",o)},[Symbol.asyncIterator](){return this}};return r.on(a,c),r.on("error",o),s;function c(...h){let g=f.shift();g?g.resolve(createIterResult(h,!1)):l.push(h)}function o(h){u=!0;let g=f.shift();g?g.reject(h):p=h,s.return()}},{EventEmitter:J0,defaultMaxListeners:ey,init:ty,listenerCount:ny,on:ry,once:iy}=Ln}),qh=Pe((r,a)=>{Le(),De(),Ue();var{ArrayIsArray:l,ObjectSetPrototypeOf:f}=tn(),{EventEmitter:p}=(Wl(),Nt(rl));function u(c){p.call(this,c)}f(u.prototype,p.prototype),f(u,p),u.prototype.pipe=function(c,o){let h=this;function g(I){c.writable&&c.write(I)===!1&&h.pause&&h.pause()}h.on("data",g);function v(){h.readable&&h.resume&&h.resume()}c.on("drain",v),!c._isStdio&&(!o||o.end!==!1)&&(h.on("end",S),h.on("close",E));let _=!1;function S(){_||(_=!0,c.end())}function E(){_||(_=!0,typeof c.destroy=="function"&&c.destroy())}function M(I){C(),p.listenerCount(this,"error")===0&&this.emit("error",I)}s(h,"error",M),s(c,"error",M);function C(){h.removeListener("data",g),c.removeListener("drain",v),h.removeListener("end",S),h.removeListener("close",E),h.removeListener("error",M),c.removeListener("error",M),h.removeListener("end",C),h.removeListener("close",C),c.removeListener("close",C)}return h.on("end",C),h.on("close",C),c.on("close",C),c.emit("pipe",h),c};function s(c,o,h){if(typeof c.prependListener=="function")return c.prependListener(o,h);!c._events||!c._events[o]?c.on(o,h):l(c._events[o])?c._events[o].unshift(h):c._events[o]=[h,c._events[o]]}a.exports={Stream:u,prependListener:s}}),ks=Pe((r,a)=>{Le(),De(),Ue();var{AbortError:l,codes:f}=On(),{isNodeStream:p,isWebStream:u,kControllerErrorFunction:s}=Pr(),c=Ei(),{ERR_INVALID_ARG_TYPE:o}=f,h=(g,v)=>{if(typeof g!="object"||!("aborted"in g))throw new o(v,"AbortSignal",g)};a.exports.addAbortSignal=function(g,v){if(h(g,"signal"),!p(v)&&!u(v))throw new o("stream",["ReadableStream","WritableStream","Stream"],v);return a.exports.addAbortSignalNoValidate(g,v)},a.exports.addAbortSignalNoValidate=function(g,v){if(typeof g!="object"||!("aborted"in g))return v;let _=p(v)?()=>{v.destroy(new l(void 0,{cause:g.reason}))}:()=>{v[s](new l(void 0,{cause:g.reason}))};return g.aborted?_():(g.addEventListener("abort",_),c(v,()=>g.removeEventListener("abort",_))),v}}),dw=Pe((r,a)=>{Le(),De(),Ue();var{StringPrototypeSlice:l,SymbolIterator:f,TypedArrayPrototypeSet:p,Uint8Array:u}=tn(),{Buffer:s}=(pn(),Nt(dn)),{inspect:c}=Ir();a.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(o){let h={data:o,next:null};this.length>0?this.tail.next=h:this.head=h,this.tail=h,++this.length}unshift(o){let h={data:o,next:this.head};this.length===0&&(this.tail=h),this.head=h,++this.length}shift(){if(this.length===0)return;let o=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,o}clear(){this.head=this.tail=null,this.length=0}join(o){if(this.length===0)return"";let h=this.head,g=""+h.data;for(;(h=h.next)!==null;)g+=o+h.data;return g}concat(o){if(this.length===0)return s.alloc(0);let h=s.allocUnsafe(o>>>0),g=this.head,v=0;for(;g;)p(h,g.data,v),v+=g.data.length,g=g.next;return h}consume(o,h){let g=this.head.data;if(o<g.length){let v=g.slice(0,o);return this.head.data=g.slice(o),v}return o===g.length?this.shift():h?this._getString(o):this._getBuffer(o)}first(){return this.head.data}*[f](){for(let o=this.head;o;o=o.next)yield o.data}_getString(o){let h="",g=this.head,v=0;do{let _=g.data;if(o>_.length)h+=_,o-=_.length;else{o===_.length?(h+=_,++v,g.next?this.head=g.next:this.head=this.tail=null):(h+=l(_,0,o),this.head=g,g.data=l(_,o));break}++v}while((g=g.next)!==null);return this.length-=v,h}_getBuffer(o){let h=s.allocUnsafe(o),g=o,v=this.head,_=0;do{let S=v.data;if(o>S.length)p(h,S,g-o),o-=S.length;else{o===S.length?(p(h,S,g-o),++_,v.next?this.head=v.next:this.head=this.tail=null):(p(h,new u(S.buffer,S.byteOffset,o),g-o),this.head=v,v.data=S.slice(o));break}++_}while((v=v.next)!==null);return this.length-=_,h}[Symbol.for("nodejs.util.inspect.custom")](o,h){return c(this,{...h,depth:0,customInspect:!1})}}}),Gh=Pe((r,a)=>{Le(),De(),Ue();var{MathFloor:l,NumberIsInteger:f}=tn(),{ERR_INVALID_ARG_VALUE:p}=On().codes;function u(o,h,g){return o.highWaterMark!=null?o.highWaterMark:h?o[g]:null}function s(o){return o?16:16*1024}function c(o,h,g,v){let _=u(h,v,g);if(_!=null){if(!f(_)||_<0){let S=v?`options.${g}`:"options.highWaterMark";throw new p(S,_)}return l(_)}return s(o.objectMode)}a.exports={getHighWaterMark:c,getDefaultHighWaterMark:s}});function Fm(r){var a=r.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var l=r.indexOf("=");return l===-1&&(l=a),[l,l===a?0:4-l%4]}function pw(r,a,l){for(var f,p,u=[],s=a;s<l;s+=3)f=(r[s]<<16&16711680)+(r[s+1]<<8&65280)+(255&r[s+2]),u.push(nr[(p=f)>>18&63]+nr[p>>12&63]+nr[p>>6&63]+nr[63&p]);return u.join("")}function Dr(r){if(r>2147483647)throw new RangeError('The value "'+r+'" is invalid for option "size"');var a=new Uint8Array(r);return Object.setPrototypeOf(a,He.prototype),a}function He(r,a,l){if(typeof r=="number"){if(typeof a=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return _h(r)}return ly(r,a,l)}function ly(r,a,l){if(typeof r=="string")return(function(u,s){if(typeof s=="string"&&s!==""||(s="utf8"),!He.isEncoding(s))throw new TypeError("Unknown encoding: "+s);var c=0|oy(u,s),o=Dr(c),h=o.write(u,s);return h!==c&&(o=o.slice(0,h)),o})(r,a);if(ArrayBuffer.isView(r))return lf(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(Lr(r,ArrayBuffer)||r&&Lr(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Lr(r,SharedArrayBuffer)||r&&Lr(r.buffer,SharedArrayBuffer)))return gw(r,a,l);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var f=r.valueOf&&r.valueOf();if(f!=null&&f!==r)return He.from(f,a,l);var p=(function(u){if(He.isBuffer(u)){var s=0|Vh(u.length),c=Dr(s);return c.length===0||u.copy(c,0,0,s),c}if(u.length!==void 0)return typeof u.length!="number"||Yh(u.length)?Dr(0):lf(u);if(u.type==="Buffer"&&Array.isArray(u.data))return lf(u.data)})(r);if(p)return p;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return He.from(r[Symbol.toPrimitive]("string"),a,l);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}function ay(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function _h(r){return ay(r),Dr(r<0?0:0|Vh(r))}function lf(r){for(var a=r.length<0?0:0|Vh(r.length),l=Dr(a),f=0;f<a;f+=1)l[f]=255&r[f];return l}function gw(r,a,l){if(a<0||r.byteLength<a)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<a+(l||0))throw new RangeError('"length" is outside of buffer bounds');var f;return f=a===void 0&&l===void 0?new Uint8Array(r):l===void 0?new Uint8Array(r,a):new Uint8Array(r,a,l),Object.setPrototypeOf(f,He.prototype),f}function Vh(r){if(r>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|r}function oy(r,a){if(He.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||Lr(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);var l=r.length,f=arguments.length>2&&arguments[2]===!0;if(!f&&l===0)return 0;for(var p=!1;;)switch(a){case"ascii":case"latin1":case"binary":return l;case"utf8":case"utf-8":return Sh(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*l;case"hex":return l>>>1;case"base64":return fy(r).length;default:if(p)return f?-1:Sh(r).length;a=(""+a).toLowerCase(),p=!0}}function mw(r,a,l){var f=!1;if((a===void 0||a<0)&&(a=0),a>this.length||((l===void 0||l>this.length)&&(l=this.length),l<=0)||(l>>>=0)<=(a>>>=0))return"";for(r||(r="utf8");;)switch(r){case"hex":return Aw(this,a,l);case"utf8":case"utf-8":return uy(this,a,l);case"ascii":return Ew(this,a,l);case"latin1":case"binary":return xw(this,a,l);case"base64":return Sw(this,a,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Tw(this,a,l);default:if(f)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),f=!0}}function Pi(r,a,l){var f=r[a];r[a]=r[l],r[l]=f}function Zm(r,a,l,f,p){if(r.length===0)return-1;if(typeof l=="string"?(f=l,l=0):l>2147483647?l=2147483647:l<-2147483648&&(l=-2147483648),Yh(l=+l)&&(l=p?0:r.length-1),l<0&&(l=r.length+l),l>=r.length){if(p)return-1;l=r.length-1}else if(l<0){if(!p)return-1;l=0}if(typeof a=="string"&&(a=He.from(a,f)),He.isBuffer(a))return a.length===0?-1:Jm(r,a,l,f,p);if(typeof a=="number")return a&=255,typeof Uint8Array.prototype.indexOf=="function"?p?Uint8Array.prototype.indexOf.call(r,a,l):Uint8Array.prototype.lastIndexOf.call(r,a,l):Jm(r,[a],l,f,p);throw new TypeError("val must be string, number or Buffer")}function Jm(r,a,l,f,p){var u,s=1,c=r.length,o=a.length;if(f!==void 0&&((f=String(f).toLowerCase())==="ucs2"||f==="ucs-2"||f==="utf16le"||f==="utf-16le")){if(r.length<2||a.length<2)return-1;s=2,c/=2,o/=2,l/=2}function h(S,E){return s===1?S[E]:S.readUInt16BE(E*s)}if(p){var g=-1;for(u=l;u<c;u++)if(h(r,u)===h(a,g===-1?0:u-g)){if(g===-1&&(g=u),u-g+1===o)return g*s}else g!==-1&&(u-=u-g),g=-1}else for(l+o>c&&(l=c-o),u=l;u>=0;u--){for(var v=!0,_=0;_<o;_++)if(h(r,u+_)!==h(a,_)){v=!1;break}if(v)return u}return-1}function yw(r,a,l,f){l=Number(l)||0;var p=r.length-l;f?(f=Number(f))>p&&(f=p):f=p;var u=a.length;f>u/2&&(f=u/2);for(var s=0;s<f;++s){var c=parseInt(a.substr(2*s,2),16);if(Yh(c))return s;r[l+s]=c}return s}function bw(r,a,l,f){return Bs(Sh(a,r.length-l),r,l,f)}function sy(r,a,l,f){return Bs((function(p){for(var u=[],s=0;s<p.length;++s)u.push(255&p.charCodeAt(s));return u})(a),r,l,f)}function vw(r,a,l,f){return sy(r,a,l,f)}function ww(r,a,l,f){return Bs(fy(a),r,l,f)}function _w(r,a,l,f){return Bs((function(p,u){for(var s,c,o,h=[],g=0;g<p.length&&!((u-=2)<0);++g)s=p.charCodeAt(g),c=s>>8,o=s%256,h.push(o),h.push(c);return h})(a,r.length-l),r,l,f)}function Sw(r,a,l){return a===0&&l===r.length?Os.fromByteArray(r):Os.fromByteArray(r.slice(a,l))}function uy(r,a,l){l=Math.min(r.length,l);for(var f=[],p=a;p<l;){var u,s,c,o,h=r[p],g=null,v=h>239?4:h>223?3:h>191?2:1;if(p+v<=l)switch(v){case 1:h<128&&(g=h);break;case 2:(192&(u=r[p+1]))==128&&(o=(31&h)<<6|63&u)>127&&(g=o);break;case 3:u=r[p+1],s=r[p+2],(192&u)==128&&(192&s)==128&&(o=(15&h)<<12|(63&u)<<6|63&s)>2047&&(o<55296||o>57343)&&(g=o);break;case 4:u=r[p+1],s=r[p+2],c=r[p+3],(192&u)==128&&(192&s)==128&&(192&c)==128&&(o=(15&h)<<18|(63&u)<<12|(63&s)<<6|63&c)>65535&&o<1114112&&(g=o)}g===null?(g=65533,v=1):g>65535&&(g-=65536,f.push(g>>>10&1023|55296),g=56320|1023&g),f.push(g),p+=v}return(function(_){var S=_.length;if(S<=4096)return String.fromCharCode.apply(String,_);for(var E="",M=0;M<S;)E+=String.fromCharCode.apply(String,_.slice(M,M+=4096));return E})(f)}function Ew(r,a,l){var f="";l=Math.min(r.length,l);for(var p=a;p<l;++p)f+=String.fromCharCode(127&r[p]);return f}function xw(r,a,l){var f="";l=Math.min(r.length,l);for(var p=a;p<l;++p)f+=String.fromCharCode(r[p]);return f}function Aw(r,a,l){var f=r.length;(!a||a<0)&&(a=0),(!l||l<0||l>f)&&(l=f);for(var p="",u=a;u<l;++u)p+=dy[r[u]];return p}function Tw(r,a,l){for(var f=r.slice(a,l),p="",u=0;u<f.length;u+=2)p+=String.fromCharCode(f[u]+256*f[u+1]);return p}function on(r,a,l){if(r%1!=0||r<0)throw new RangeError("offset is not uint");if(r+a>l)throw new RangeError("Trying to access beyond buffer length")}function Tn(r,a,l,f,p,u){if(!He.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(a>p||a<u)throw new RangeError('"value" argument is out of bounds');if(l+f>r.length)throw new RangeError("Index out of range")}function cy(r,a,l,f,p,u){if(l+f>r.length)throw new RangeError("Index out of range");if(l<0)throw new RangeError("Index out of range")}function e0(r,a,l,f,p){return a=+a,l>>>=0,p||cy(r,0,l,4),Ki.write(r,a,l,f,23,4),l+4}function t0(r,a,l,f,p){return a=+a,l>>>=0,p||cy(r,0,l,8),Ki.write(r,a,l,f,52,8),l+8}function Sh(r,a){var l;a=a||1/0;for(var f=r.length,p=null,u=[],s=0;s<f;++s){if((l=r.charCodeAt(s))>55295&&l<57344){if(!p){if(l>56319){(a-=3)>-1&&u.push(239,191,189);continue}if(s+1===f){(a-=3)>-1&&u.push(239,191,189);continue}p=l;continue}if(l<56320){(a-=3)>-1&&u.push(239,191,189),p=l;continue}l=65536+(p-55296<<10|l-56320)}else p&&(a-=3)>-1&&u.push(239,191,189);if(p=null,l<128){if((a-=1)<0)break;u.push(l)}else if(l<2048){if((a-=2)<0)break;u.push(l>>6|192,63&l|128)}else if(l<65536){if((a-=3)<0)break;u.push(l>>12|224,l>>6&63|128,63&l|128)}else{if(!(l<1114112))throw new Error("Invalid code point");if((a-=4)<0)break;u.push(l>>18|240,l>>12&63|128,l>>6&63|128,63&l|128)}}return u}function fy(r){return Os.toByteArray((function(a){if((a=(a=a.split("=")[0]).trim().replace(hy,"")).length<2)return"";for(;a.length%4!=0;)a+="=";return a})(r))}function Bs(r,a,l,f){for(var p=0;p<f&&!(p+l>=a.length||p>=r.length);++p)a[p+l]=r[p];return p}function Lr(r,a){return r instanceof a||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===a.name}function Yh(r){return r!=r}function n0(r,a){for(var l in r)a[l]=r[l]}function qi(r,a,l){return er(r,a,l)}function Ga(r){var a;switch(this.encoding=(function(l){var f=(function(p){if(!p)return"utf8";for(var u;;)switch(p){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return p;default:if(u)return;p=(""+p).toLowerCase(),u=!0}})(l);if(typeof f!="string"&&(Rs.isEncoding===Eh||!Eh(l)))throw new Error("Unknown encoding: "+l);return f||l})(r),this.encoding){case"utf16le":this.text=Ow,this.end=Rw,a=4;break;case"utf8":this.fillLast=Mw,a=4;break;case"base64":this.text=Cw,this.end=Nw,a=3;break;default:return this.write=jw,this.end=kw,void 0}this.lastNeed=0,this.lastTotal=0,this.lastChar=Rs.allocUnsafe(a)}function af(r){return r<=127?0:r>>5==6?2:r>>4==14?3:r>>3==30?4:r>>6==2?-1:-2}function Mw(r){var a=this.lastTotal-this.lastNeed,l=(function(f,p,u){if((192&p[0])!=128)return f.lastNeed=0,"";if(f.lastNeed>1&&p.length>1){if((192&p[1])!=128)return f.lastNeed=1,"";if(f.lastNeed>2&&p.length>2&&(192&p[2])!=128)return f.lastNeed=2,""}})(this,r);return l!==void 0?l:this.lastNeed<=r.length?(r.copy(this.lastChar,a,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(r.copy(this.lastChar,a,0,r.length),this.lastNeed-=r.length,void 0)}function Ow(r,a){if((r.length-a)%2==0){var l=r.toString("utf16le",a);if(l){var f=l.charCodeAt(l.length-1);if(f>=55296&&f<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=r[r.length-2],this.lastChar[1]=r[r.length-1],l.slice(0,-1)}return l}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=r[r.length-1],r.toString("utf16le",a,r.length-1)}function Rw(r){var a=r&&r.length?this.write(r):"";if(this.lastNeed){var l=this.lastTotal-this.lastNeed;return a+this.lastChar.toString("utf16le",0,l)}return a}function Cw(r,a){var l=(r.length-a)%3;return l===0?r.toString("base64",a):(this.lastNeed=3-l,this.lastTotal=3,l===1?this.lastChar[0]=r[r.length-1]:(this.lastChar[0]=r[r.length-2],this.lastChar[1]=r[r.length-1]),r.toString("base64",a,r.length-l))}function Nw(r){var a=r&&r.length?this.write(r):"";return this.lastNeed?a+this.lastChar.toString("base64",0,3-this.lastNeed):a}function jw(r){return r.toString(this.encoding)}function kw(r){return r&&r.length?this.write(r):""}var r0,nr,Dn,i0,ds,Gi,l0,a0,ur,Os,Ki,of,hy,dy,Va,Ya,er,o0,Gl,Rs,Eh,s0=hn(()=>{for(Le(),De(),Ue(),r0={byteLength:function(r){var a=Fm(r),l=a[0],f=a[1];return 3*(l+f)/4-f},toByteArray:function(r){var a,l,f=Fm(r),p=f[0],u=f[1],s=new i0((function(h,g,v){return 3*(g+v)/4-v})(0,p,u)),c=0,o=u>0?p-4:p;for(l=0;l<o;l+=4)a=Dn[r.charCodeAt(l)]<<18|Dn[r.charCodeAt(l+1)]<<12|Dn[r.charCodeAt(l+2)]<<6|Dn[r.charCodeAt(l+3)],s[c++]=a>>16&255,s[c++]=a>>8&255,s[c++]=255&a;return u===2&&(a=Dn[r.charCodeAt(l)]<<2|Dn[r.charCodeAt(l+1)]>>4,s[c++]=255&a),u===1&&(a=Dn[r.charCodeAt(l)]<<10|Dn[r.charCodeAt(l+1)]<<4|Dn[r.charCodeAt(l+2)]>>2,s[c++]=a>>8&255,s[c++]=255&a),s},fromByteArray:function(r){for(var a,l=r.length,f=l%3,p=[],u=0,s=l-f;u<s;u+=16383)p.push(pw(r,u,u+16383>s?s:u+16383));return f===1?(a=r[l-1],p.push(nr[a>>2]+nr[a<<4&63]+"==")):f===2&&(a=(r[l-2]<<8)+r[l-1],p.push(nr[a>>10]+nr[a>>4&63]+nr[a<<2&63]+"=")),p.join("")}},nr=[],Dn=[],i0=typeof Uint8Array<"u"?Uint8Array:Array,ds="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Gi=0,l0=ds.length;Gi<l0;++Gi)nr[Gi]=ds[Gi],Dn[ds.charCodeAt(Gi)]=Gi;Dn[45]=62,Dn[95]=63,a0={read:function(r,a,l,f,p){var u,s,c=8*p-f-1,o=(1<<c)-1,h=o>>1,g=-7,v=l?p-1:0,_=l?-1:1,S=r[a+v];for(v+=_,u=S&(1<<-g)-1,S>>=-g,g+=c;g>0;u=256*u+r[a+v],v+=_,g-=8);for(s=u&(1<<-g)-1,u>>=-g,g+=f;g>0;s=256*s+r[a+v],v+=_,g-=8);if(u===0)u=1-h;else{if(u===o)return s?NaN:1/0*(S?-1:1);s+=Math.pow(2,f),u-=h}return(S?-1:1)*s*Math.pow(2,u-f)},write:function(r,a,l,f,p,u){var s,c,o,h=8*u-p-1,g=(1<<h)-1,v=g>>1,_=p===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=f?0:u-1,E=f?1:-1,M=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(c=isNaN(a)?1:0,s=g):(s=Math.floor(Math.log(a)/Math.LN2),a*(o=Math.pow(2,-s))<1&&(s--,o*=2),(a+=s+v>=1?_/o:_*Math.pow(2,1-v))*o>=2&&(s++,o/=2),s+v>=g?(c=0,s=g):s+v>=1?(c=(a*o-1)*Math.pow(2,p),s+=v):(c=a*Math.pow(2,v-1)*Math.pow(2,p),s=0));p>=8;r[l+S]=255&c,S+=E,c/=256,p-=8);for(s=s<<p|c,h+=p;h>0;r[l+S]=255&s,S+=E,s/=256,h-=8);r[l+S-E]|=128*M}},ur={},Os=r0,Ki=a0,of=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,ur.Buffer=He,ur.SlowBuffer=function(r){return+r!=r&&(r=0),He.alloc(+r)},ur.INSPECT_MAX_BYTES=50,ur.kMaxLength=2147483647,He.TYPED_ARRAY_SUPPORT=(function(){try{var r=new Uint8Array(1),a={foo:function(){return 42}};return Object.setPrototypeOf(a,Uint8Array.prototype),Object.setPrototypeOf(r,a),r.foo()===42}catch{return!1}})(),He.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(He.prototype,"parent",{enumerable:!0,get:function(){if(He.isBuffer(this))return this.buffer}}),Object.defineProperty(He.prototype,"offset",{enumerable:!0,get:function(){if(He.isBuffer(this))return this.byteOffset}}),He.poolSize=8192,He.from=function(r,a,l){return ly(r,a,l)},Object.setPrototypeOf(He.prototype,Uint8Array.prototype),Object.setPrototypeOf(He,Uint8Array),He.alloc=function(r,a,l){return(function(f,p,u){return ay(f),f<=0?Dr(f):p!==void 0?typeof u=="string"?Dr(f).fill(p,u):Dr(f).fill(p):Dr(f)})(r,a,l)},He.allocUnsafe=function(r){return _h(r)},He.allocUnsafeSlow=function(r){return _h(r)},He.isBuffer=function(r){return r!=null&&r._isBuffer===!0&&r!==He.prototype},He.compare=function(r,a){if(Lr(r,Uint8Array)&&(r=He.from(r,r.offset,r.byteLength)),Lr(a,Uint8Array)&&(a=He.from(a,a.offset,a.byteLength)),!He.isBuffer(r)||!He.isBuffer(a))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(r===a)return 0;for(var l=r.length,f=a.length,p=0,u=Math.min(l,f);p<u;++p)if(r[p]!==a[p]){l=r[p],f=a[p];break}return l<f?-1:f<l?1:0},He.isEncoding=function(r){switch(String(r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},He.concat=function(r,a){if(!Array.isArray(r))throw new TypeError('"list" argument must be an Array of Buffers');if(r.length===0)return He.alloc(0);var l;if(a===void 0)for(a=0,l=0;l<r.length;++l)a+=r[l].length;var f=He.allocUnsafe(a),p=0;for(l=0;l<r.length;++l){var u=r[l];if(Lr(u,Uint8Array)&&(u=He.from(u)),!He.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(f,p),p+=u.length}return f},He.byteLength=oy,He.prototype._isBuffer=!0,He.prototype.swap16=function(){var r=this.length;if(r%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var a=0;a<r;a+=2)Pi(this,a,a+1);return this},He.prototype.swap32=function(){var r=this.length;if(r%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var a=0;a<r;a+=4)Pi(this,a,a+3),Pi(this,a+1,a+2);return this},He.prototype.swap64=function(){var r=this.length;if(r%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var a=0;a<r;a+=8)Pi(this,a,a+7),Pi(this,a+1,a+6),Pi(this,a+2,a+5),Pi(this,a+3,a+4);return this},He.prototype.toString=function(){var r=this.length;return r===0?"":arguments.length===0?uy(this,0,r):mw.apply(this,arguments)},He.prototype.toLocaleString=He.prototype.toString,He.prototype.equals=function(r){if(!He.isBuffer(r))throw new TypeError("Argument must be a Buffer");return this===r||He.compare(this,r)===0},He.prototype.inspect=function(){var r="",a=ur.INSPECT_MAX_BYTES;return r=this.toString("hex",0,a).replace(/(.{2})/g,"$1 ").trim(),this.length>a&&(r+=" ... "),"<Buffer "+r+">"},of&&(He.prototype[of]=He.prototype.inspect),He.prototype.compare=function(r,a,l,f,p){if(Lr(r,Uint8Array)&&(r=He.from(r,r.offset,r.byteLength)),!He.isBuffer(r))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof r);if(a===void 0&&(a=0),l===void 0&&(l=r?r.length:0),f===void 0&&(f=0),p===void 0&&(p=this.length),a<0||l>r.length||f<0||p>this.length)throw new RangeError("out of range index");if(f>=p&&a>=l)return 0;if(f>=p)return-1;if(a>=l)return 1;if(this===r)return 0;for(var u=(p>>>=0)-(f>>>=0),s=(l>>>=0)-(a>>>=0),c=Math.min(u,s),o=this.slice(f,p),h=r.slice(a,l),g=0;g<c;++g)if(o[g]!==h[g]){u=o[g],s=h[g];break}return u<s?-1:s<u?1:0},He.prototype.includes=function(r,a,l){return this.indexOf(r,a,l)!==-1},He.prototype.indexOf=function(r,a,l){return Zm(this,r,a,l,!0)},He.prototype.lastIndexOf=function(r,a,l){return Zm(this,r,a,l,!1)},He.prototype.write=function(r,a,l,f){if(a===void 0)f="utf8",l=this.length,a=0;else if(l===void 0&&typeof a=="string")f=a,l=this.length,a=0;else{if(!isFinite(a))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");a>>>=0,isFinite(l)?(l>>>=0,f===void 0&&(f="utf8")):(f=l,l=void 0)}var p=this.length-a;if((l===void 0||l>p)&&(l=p),r.length>0&&(l<0||a<0)||a>this.length)throw new RangeError("Attempt to write outside buffer bounds");f||(f="utf8");for(var u=!1;;)switch(f){case"hex":return yw(this,r,a,l);case"utf8":case"utf-8":return bw(this,r,a,l);case"ascii":return sy(this,r,a,l);case"latin1":case"binary":return vw(this,r,a,l);case"base64":return ww(this,r,a,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _w(this,r,a,l);default:if(u)throw new TypeError("Unknown encoding: "+f);f=(""+f).toLowerCase(),u=!0}},He.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},He.prototype.slice=function(r,a){var l=this.length;(r=~~r)<0?(r+=l)<0&&(r=0):r>l&&(r=l),(a=a===void 0?l:~~a)<0?(a+=l)<0&&(a=0):a>l&&(a=l),a<r&&(a=r);var f=this.subarray(r,a);return Object.setPrototypeOf(f,He.prototype),f},He.prototype.readUIntLE=function(r,a,l){r>>>=0,a>>>=0,l||on(r,a,this.length);for(var f=this[r],p=1,u=0;++u<a&&(p*=256);)f+=this[r+u]*p;return f},He.prototype.readUIntBE=function(r,a,l){r>>>=0,a>>>=0,l||on(r,a,this.length);for(var f=this[r+--a],p=1;a>0&&(p*=256);)f+=this[r+--a]*p;return f},He.prototype.readUInt8=function(r,a){return r>>>=0,a||on(r,1,this.length),this[r]},He.prototype.readUInt16LE=function(r,a){return r>>>=0,a||on(r,2,this.length),this[r]|this[r+1]<<8},He.prototype.readUInt16BE=function(r,a){return r>>>=0,a||on(r,2,this.length),this[r]<<8|this[r+1]},He.prototype.readUInt32LE=function(r,a){return r>>>=0,a||on(r,4,this.length),(this[r]|this[r+1]<<8|this[r+2]<<16)+16777216*this[r+3]},He.prototype.readUInt32BE=function(r,a){return r>>>=0,a||on(r,4,this.length),16777216*this[r]+(this[r+1]<<16|this[r+2]<<8|this[r+3])},He.prototype.readIntLE=function(r,a,l){r>>>=0,a>>>=0,l||on(r,a,this.length);for(var f=this[r],p=1,u=0;++u<a&&(p*=256);)f+=this[r+u]*p;return f>=(p*=128)&&(f-=Math.pow(2,8*a)),f},He.prototype.readIntBE=function(r,a,l){r>>>=0,a>>>=0,l||on(r,a,this.length);for(var f=a,p=1,u=this[r+--f];f>0&&(p*=256);)u+=this[r+--f]*p;return u>=(p*=128)&&(u-=Math.pow(2,8*a)),u},He.prototype.readInt8=function(r,a){return r>>>=0,a||on(r,1,this.length),128&this[r]?-1*(255-this[r]+1):this[r]},He.prototype.readInt16LE=function(r,a){r>>>=0,a||on(r,2,this.length);var l=this[r]|this[r+1]<<8;return 32768&l?4294901760|l:l},He.prototype.readInt16BE=function(r,a){r>>>=0,a||on(r,2,this.length);var l=this[r+1]|this[r]<<8;return 32768&l?4294901760|l:l},He.prototype.readInt32LE=function(r,a){return r>>>=0,a||on(r,4,this.length),this[r]|this[r+1]<<8|this[r+2]<<16|this[r+3]<<24},He.prototype.readInt32BE=function(r,a){return r>>>=0,a||on(r,4,this.length),this[r]<<24|this[r+1]<<16|this[r+2]<<8|this[r+3]},He.prototype.readFloatLE=function(r,a){return r>>>=0,a||on(r,4,this.length),Ki.read(this,r,!0,23,4)},He.prototype.readFloatBE=function(r,a){return r>>>=0,a||on(r,4,this.length),Ki.read(this,r,!1,23,4)},He.prototype.readDoubleLE=function(r,a){return r>>>=0,a||on(r,8,this.length),Ki.read(this,r,!0,52,8)},He.prototype.readDoubleBE=function(r,a){return r>>>=0,a||on(r,8,this.length),Ki.read(this,r,!1,52,8)},He.prototype.writeUIntLE=function(r,a,l,f){r=+r,a>>>=0,l>>>=0,f||Tn(this,r,a,l,Math.pow(2,8*l)-1,0);var p=1,u=0;for(this[a]=255&r;++u<l&&(p*=256);)this[a+u]=r/p&255;return a+l},He.prototype.writeUIntBE=function(r,a,l,f){r=+r,a>>>=0,l>>>=0,f||Tn(this,r,a,l,Math.pow(2,8*l)-1,0);var p=l-1,u=1;for(this[a+p]=255&r;--p>=0&&(u*=256);)this[a+p]=r/u&255;return a+l},He.prototype.writeUInt8=function(r,a,l){return r=+r,a>>>=0,l||Tn(this,r,a,1,255,0),this[a]=255&r,a+1},He.prototype.writeUInt16LE=function(r,a,l){return r=+r,a>>>=0,l||Tn(this,r,a,2,65535,0),this[a]=255&r,this[a+1]=r>>>8,a+2},He.prototype.writeUInt16BE=function(r,a,l){return r=+r,a>>>=0,l||Tn(this,r,a,2,65535,0),this[a]=r>>>8,this[a+1]=255&r,a+2},He.prototype.writeUInt32LE=function(r,a,l){return r=+r,a>>>=0,l||Tn(this,r,a,4,4294967295,0),this[a+3]=r>>>24,this[a+2]=r>>>16,this[a+1]=r>>>8,this[a]=255&r,a+4},He.prototype.writeUInt32BE=function(r,a,l){return r=+r,a>>>=0,l||Tn(this,r,a,4,4294967295,0),this[a]=r>>>24,this[a+1]=r>>>16,this[a+2]=r>>>8,this[a+3]=255&r,a+4},He.prototype.writeIntLE=function(r,a,l,f){if(r=+r,a>>>=0,!f){var p=Math.pow(2,8*l-1);Tn(this,r,a,l,p-1,-p)}var u=0,s=1,c=0;for(this[a]=255&r;++u<l&&(s*=256);)r<0&&c===0&&this[a+u-1]!==0&&(c=1),this[a+u]=(r/s>>0)-c&255;return a+l},He.prototype.writeIntBE=function(r,a,l,f){if(r=+r,a>>>=0,!f){var p=Math.pow(2,8*l-1);Tn(this,r,a,l,p-1,-p)}var u=l-1,s=1,c=0;for(this[a+u]=255&r;--u>=0&&(s*=256);)r<0&&c===0&&this[a+u+1]!==0&&(c=1),this[a+u]=(r/s>>0)-c&255;return a+l},He.prototype.writeInt8=function(r,a,l){return r=+r,a>>>=0,l||Tn(this,r,a,1,127,-128),r<0&&(r=255+r+1),this[a]=255&r,a+1},He.prototype.writeInt16LE=function(r,a,l){return r=+r,a>>>=0,l||Tn(this,r,a,2,32767,-32768),this[a]=255&r,this[a+1]=r>>>8,a+2},He.prototype.writeInt16BE=function(r,a,l){return r=+r,a>>>=0,l||Tn(this,r,a,2,32767,-32768),this[a]=r>>>8,this[a+1]=255&r,a+2},He.prototype.writeInt32LE=function(r,a,l){return r=+r,a>>>=0,l||Tn(this,r,a,4,2147483647,-2147483648),this[a]=255&r,this[a+1]=r>>>8,this[a+2]=r>>>16,this[a+3]=r>>>24,a+4},He.prototype.writeInt32BE=function(r,a,l){return r=+r,a>>>=0,l||Tn(this,r,a,4,2147483647,-2147483648),r<0&&(r=4294967295+r+1),this[a]=r>>>24,this[a+1]=r>>>16,this[a+2]=r>>>8,this[a+3]=255&r,a+4},He.prototype.writeFloatLE=function(r,a,l){return e0(this,r,a,!0,l)},He.prototype.writeFloatBE=function(r,a,l){return e0(this,r,a,!1,l)},He.prototype.writeDoubleLE=function(r,a,l){return t0(this,r,a,!0,l)},He.prototype.writeDoubleBE=function(r,a,l){return t0(this,r,a,!1,l)},He.prototype.copy=function(r,a,l,f){if(!He.isBuffer(r))throw new TypeError("argument should be a Buffer");if(l||(l=0),f||f===0||(f=this.length),a>=r.length&&(a=r.length),a||(a=0),f>0&&f<l&&(f=l),f===l||r.length===0||this.length===0)return 0;if(a<0)throw new RangeError("targetStart out of bounds");if(l<0||l>=this.length)throw new RangeError("Index out of range");if(f<0)throw new RangeError("sourceEnd out of bounds");f>this.length&&(f=this.length),r.length-a<f-l&&(f=r.length-a+l);var p=f-l;if(this===r&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(a,l,f);else if(this===r&&l<a&&a<f)for(var u=p-1;u>=0;--u)r[u+a]=this[u+l];else Uint8Array.prototype.set.call(r,this.subarray(l,f),a);return p},He.prototype.fill=function(r,a,l,f){if(typeof r=="string"){if(typeof a=="string"?(f=a,a=0,l=this.length):typeof l=="string"&&(f=l,l=this.length),f!==void 0&&typeof f!="string")throw new TypeError("encoding must be a string");if(typeof f=="string"&&!He.isEncoding(f))throw new TypeError("Unknown encoding: "+f);if(r.length===1){var p=r.charCodeAt(0);(f==="utf8"&&p<128||f==="latin1")&&(r=p)}}else typeof r=="number"?r&=255:typeof r=="boolean"&&(r=Number(r));if(a<0||this.length<a||this.length<l)throw new RangeError("Out of range index");if(l<=a)return this;var u;if(a>>>=0,l=l===void 0?this.length:l>>>0,r||(r=0),typeof r=="number")for(u=a;u<l;++u)this[u]=r;else{var s=He.isBuffer(r)?r:He.from(r,f),c=s.length;if(c===0)throw new TypeError('The value "'+r+'" is invalid for argument "value"');for(u=0;u<l-a;++u)this[u+a]=s[u%c]}return this},hy=/[^+/0-9A-Za-z-_]/g,dy=(function(){for(var r=new Array(256),a=0;a<16;++a)for(var l=16*a,f=0;f<16;++f)r[l+f]="0123456789abcdef"[a]+"0123456789abcdef"[f];return r})(),ur.Buffer,ur.INSPECT_MAX_BYTES,ur.kMaxLength,Va={},Ya=ur,er=Ya.Buffer,er.from&&er.alloc&&er.allocUnsafe&&er.allocUnsafeSlow?Va=Ya:(n0(Ya,Va),Va.Buffer=qi),qi.prototype=Object.create(er.prototype),n0(er,qi),qi.from=function(r,a,l){if(typeof r=="number")throw new TypeError("Argument must not be a number");return er(r,a,l)},qi.alloc=function(r,a,l){if(typeof r!="number")throw new TypeError("Argument must be a number");var f=er(r);return a!==void 0?typeof l=="string"?f.fill(a,l):f.fill(a):f.fill(0),f},qi.allocUnsafe=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return er(r)},qi.allocUnsafeSlow=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return Ya.SlowBuffer(r)},o0=Va,Gl={},Rs=o0.Buffer,Eh=Rs.isEncoding||function(r){switch((r=""+r)&&r.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},Gl.StringDecoder=Ga,Ga.prototype.write=function(r){if(r.length===0)return"";var a,l;if(this.lastNeed){if((a=this.fillLast(r))===void 0)return"";l=this.lastNeed,this.lastNeed=0}else l=0;return l<r.length?a?a+this.text(r,l):this.text(r,l):a||""},Ga.prototype.end=function(r){var a=r&&r.length?this.write(r):"";return this.lastNeed?a+"":a},Ga.prototype.text=function(r,a){var l=(function(p,u,s){var c=u.length-1;if(c<s)return 0;var o=af(u[c]);return o>=0?(o>0&&(p.lastNeed=o-1),o):--c<s||o===-2?0:(o=af(u[c]))>=0?(o>0&&(p.lastNeed=o-2),o):--c<s||o===-2?0:(o=af(u[c]))>=0?(o>0&&(o===2?o=0:p.lastNeed=o-3),o):0})(this,r,a);if(!this.lastNeed)return r.toString("utf8",a);this.lastTotal=l;var f=r.length-(l-this.lastNeed);return r.copy(this.lastChar,0,f),r.toString("utf8",a,f)},Ga.prototype.fillLast=function(r){if(this.lastNeed<=r.length)return r.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);r.copy(this.lastChar,this.lastTotal-this.lastNeed,0,r.length),this.lastNeed-=r.length},Gl.StringDecoder,Gl.StringDecoder}),py={};tl(py,{StringDecoder:()=>gy,default:()=>Gl});var gy,Bw=hn(()=>{Le(),De(),Ue(),s0(),s0(),gy=Gl.StringDecoder}),my=Pe((r,a)=>{Le(),De(),Ue();var l=nl(),{PromisePrototypeThen:f,SymbolAsyncIterator:p,SymbolIterator:u}=tn(),{Buffer:s}=(pn(),Nt(dn)),{ERR_INVALID_ARG_TYPE:c,ERR_STREAM_NULL_VALUES:o}=On().codes;function h(g,v,_){let S;if(typeof v=="string"||v instanceof s)return new g({objectMode:!0,..._,read(){this.push(v),this.push(null)}});let E;if(v&&v[p])E=!0,S=v[p]();else if(v&&v[u])E=!1,S=v[u]();else throw new c("iterable",["Iterable"],v);let M=new g({objectMode:!0,highWaterMark:1,..._}),C=!1;M._read=function(){C||(C=!0,U())},M._destroy=function(j,W){f(I(j),()=>l.nextTick(W,j),V=>l.nextTick(W,V||j))};async function I(j){let W=j!=null,V=typeof S.throw=="function";if(W&&V){let{value:L,done:D}=await S.throw(j);if(await L,D)return}if(typeof S.return=="function"){let{value:L}=await S.return();await L}}async function U(){for(;;){try{let{value:j,done:W}=E?await S.next():S.next();if(W)M.push(null);else{let V=j&&typeof j.then=="function"?await j:j;if(V===null)throw C=!1,new o;if(M.push(V))continue;C=!1}}catch(j){M.destroy(j)}break}}return M}a.exports=h}),Us=Pe((r,a)=>{Le(),De(),Ue();var l=nl(),{ArrayPrototypeIndexOf:f,NumberIsInteger:p,NumberIsNaN:u,NumberParseInt:s,ObjectDefineProperties:c,ObjectKeys:o,ObjectSetPrototypeOf:h,Promise:g,SafeSet:v,SymbolAsyncIterator:_,Symbol:S}=tn();a.exports=T,T.ReadableState=ae;var{EventEmitter:E}=(Wl(),Nt(rl)),{Stream:M,prependListener:C}=qh(),{Buffer:I}=(pn(),Nt(dn)),{addAbortSignal:U}=ks(),j=Ei(),W=Ir().debuglog("stream",m=>{W=m}),V=dw(),L=Yl(),{getHighWaterMark:D,getDefaultHighWaterMark:G}=Gh(),{aggregateTwoErrors:ne,codes:{ERR_INVALID_ARG_TYPE:ve,ERR_METHOD_NOT_IMPLEMENTED:_e,ERR_OUT_OF_RANGE:B,ERR_STREAM_PUSH_AFTER_EOF:le,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:we}}=On(),{validateObject:he}=js(),X=S("kPaused"),{StringDecoder:ie}=(Bw(),Nt(py)),$=my();h(T.prototype,M.prototype),h(T,M);var Oe=()=>{},{errorOrDestroy:k}=L;function ae(m,w,O){typeof O!="boolean"&&(O=w instanceof zr()),this.objectMode=!!(m&&m.objectMode),O&&(this.objectMode=this.objectMode||!!(m&&m.readableObjectMode)),this.highWaterMark=m?D(this,m,"readableHighWaterMark",O):G(!1),this.buffer=new V,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[X]=null,this.errorEmitted=!1,this.emitClose=!m||m.emitClose!==!1,this.autoDestroy=!m||m.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=m&&m.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,m&&m.encoding&&(this.decoder=new ie(m.encoding),this.encoding=m.encoding)}function T(m){if(!(this instanceof T))return new T(m);let w=this instanceof zr();this._readableState=new ae(m,this,w),m&&(typeof m.read=="function"&&(this._read=m.read),typeof m.destroy=="function"&&(this._destroy=m.destroy),typeof m.construct=="function"&&(this._construct=m.construct),m.signal&&!w&&U(m.signal,this)),M.call(this,m),L.construct(this,()=>{this._readableState.needReadable&&xe(this,this._readableState)})}T.prototype.destroy=L.destroy,T.prototype._undestroy=L.undestroy,T.prototype._destroy=function(m,w){w(m)},T.prototype[E.captureRejectionSymbol]=function(m){this.destroy(m)},T.prototype.push=function(m,w){return F(this,m,w,!1)},T.prototype.unshift=function(m,w){return F(this,m,w,!0)};function F(m,w,O,z){W("readableAddChunk",w);let ee=m._readableState,Ee;if(ee.objectMode||(typeof w=="string"?(O=O||ee.defaultEncoding,ee.encoding!==O&&(z&&ee.encoding?w=I.from(w,O).toString(ee.encoding):(w=I.from(w,O),O=""))):w instanceof I?O="":M._isUint8Array(w)?(w=M._uint8ArrayToBuffer(w),O=""):w!=null&&(Ee=new ve("chunk",["string","Buffer","Uint8Array"],w))),Ee)k(m,Ee);else if(w===null)ee.reading=!1,N(m,ee);else if(ee.objectMode||w&&w.length>0)if(z)if(ee.endEmitted)k(m,new we);else{if(ee.destroyed||ee.errored)return!1;de(m,ee,w,!0)}else if(ee.ended)k(m,new le);else{if(ee.destroyed||ee.errored)return!1;ee.reading=!1,ee.decoder&&!O?(w=ee.decoder.write(w),ee.objectMode||w.length!==0?de(m,ee,w,!1):xe(m,ee)):de(m,ee,w,!1)}else z||(ee.reading=!1,xe(m,ee));return!ee.ended&&(ee.length<ee.highWaterMark||ee.length===0)}function de(m,w,O,z){w.flowing&&w.length===0&&!w.sync&&m.listenerCount("data")>0?(w.multiAwaitDrain?w.awaitDrainWriters.clear():w.awaitDrainWriters=null,w.dataEmitted=!0,m.emit("data",O)):(w.length+=w.objectMode?1:O.length,z?w.buffer.unshift(O):w.buffer.push(O),w.needReadable&&fe(m)),xe(m,w)}T.prototype.isPaused=function(){let m=this._readableState;return m[X]===!0||m.flowing===!1},T.prototype.setEncoding=function(m){let w=new ie(m);this._readableState.decoder=w,this._readableState.encoding=this._readableState.decoder.encoding;let O=this._readableState.buffer,z="";for(let ee of O)z+=w.write(ee);return O.clear(),z!==""&&O.push(z),this._readableState.length=z.length,this};var ke=1073741824;function ce(m){if(m>ke)throw new B("size","<= 1GiB",m);return m--,m|=m>>>1,m|=m>>>2,m|=m>>>4,m|=m>>>8,m|=m>>>16,m++,m}function H(m,w){return m<=0||w.length===0&&w.ended?0:w.objectMode?1:u(m)?w.flowing&&w.length?w.buffer.first().length:w.length:m<=w.length?m:w.ended?w.length:0}T.prototype.read=function(m){W("read",m),m===void 0?m=NaN:p(m)||(m=s(m,10));let w=this._readableState,O=m;if(m>w.highWaterMark&&(w.highWaterMark=ce(m)),m!==0&&(w.emittedReadable=!1),m===0&&w.needReadable&&((w.highWaterMark!==0?w.length>=w.highWaterMark:w.length>0)||w.ended))return W("read: emitReadable",w.length,w.ended),w.length===0&&w.ended?P(this):fe(this),null;if(m=H(m,w),m===0&&w.ended)return w.length===0&&P(this),null;let z=w.needReadable;if(W("need readable",z),(w.length===0||w.length-m<w.highWaterMark)&&(z=!0,W("length less than watermark",z)),w.ended||w.reading||w.destroyed||w.errored||!w.constructed)z=!1,W("reading, ended or constructing",z);else if(z){W("do read"),w.reading=!0,w.sync=!0,w.length===0&&(w.needReadable=!0);try{this._read(w.highWaterMark)}catch(Ee){k(this,Ee)}w.sync=!1,w.reading||(m=H(O,w))}let ee;return m>0?ee=oe(m,w):ee=null,ee===null?(w.needReadable=w.length<=w.highWaterMark,m=0):(w.length-=m,w.multiAwaitDrain?w.awaitDrainWriters.clear():w.awaitDrainWriters=null),w.length===0&&(w.ended||(w.needReadable=!0),O!==m&&w.ended&&P(this)),ee!==null&&!w.errorEmitted&&!w.closeEmitted&&(w.dataEmitted=!0,this.emit("data",ee)),ee};function N(m,w){if(W("onEofChunk"),!w.ended){if(w.decoder){let O=w.decoder.end();O&&O.length&&(w.buffer.push(O),w.length+=w.objectMode?1:O.length)}w.ended=!0,w.sync?fe(m):(w.needReadable=!1,w.emittedReadable=!0,Re(m))}}function fe(m){let w=m._readableState;W("emitReadable",w.needReadable,w.emittedReadable),w.needReadable=!1,w.emittedReadable||(W("emitReadable",w.flowing),w.emittedReadable=!0,l.nextTick(Re,m))}function Re(m){let w=m._readableState;W("emitReadable_",w.destroyed,w.length,w.ended),!w.destroyed&&!w.errored&&(w.length||w.ended)&&(m.emit("readable"),w.emittedReadable=!1),w.needReadable=!w.flowing&&!w.ended&&w.length<=w.highWaterMark,Me(m)}function xe(m,w){!w.readingMore&&w.constructed&&(w.readingMore=!0,l.nextTick(Te,m,w))}function Te(m,w){for(;!w.reading&&!w.ended&&(w.length<w.highWaterMark||w.flowing&&w.length===0);){let O=w.length;if(W("maybeReadMore read 0"),m.read(0),O===w.length)break}w.readingMore=!1}T.prototype._read=function(m){throw new _e("_read()")},T.prototype.pipe=function(m,w){let O=this,z=this._readableState;z.pipes.length===1&&(z.multiAwaitDrain||(z.multiAwaitDrain=!0,z.awaitDrainWriters=new v(z.awaitDrainWriters?[z.awaitDrainWriters]:[]))),z.pipes.push(m),W("pipe count=%d opts=%j",z.pipes.length,w);let ee=(!w||w.end!==!1)&&m!==l.stdout&&m!==l.stderr?Ge:Bt;z.endEmitted?l.nextTick(ee):O.once("end",ee),m.on("unpipe",Ee);function Ee(Ft,Ut){W("onunpipe"),Ft===O&&Ut&&Ut.hasUnpiped===!1&&(Ut.hasUnpiped=!0,Ve())}function Ge(){W("onend"),m.end()}let Ye,$e=!1;function Ve(){W("cleanup"),m.removeListener("close",Ht),m.removeListener("finish",Rt),Ye&&m.removeListener("drain",Ye),m.removeListener("error",bt),m.removeListener("unpipe",Ee),O.removeListener("end",Ge),O.removeListener("end",Bt),O.removeListener("data",Fe),$e=!0,Ye&&z.awaitDrainWriters&&(!m._writableState||m._writableState.needDrain)&&Ye()}function et(){$e||(z.pipes.length===1&&z.pipes[0]===m?(W("false write response, pause",0),z.awaitDrainWriters=m,z.multiAwaitDrain=!1):z.pipes.length>1&&z.pipes.includes(m)&&(W("false write response, pause",z.awaitDrainWriters.size),z.awaitDrainWriters.add(m)),O.pause()),Ye||(Ye=Ie(O,m),m.on("drain",Ye))}O.on("data",Fe);function Fe(Ft){W("ondata");let Ut=m.write(Ft);W("dest.write",Ut),Ut===!1&&et()}function bt(Ft){if(W("onerror",Ft),Bt(),m.removeListener("error",bt),m.listenerCount("error")===0){let Ut=m._writableState||m._readableState;Ut&&!Ut.errorEmitted?k(m,Ft):m.emit("error",Ft)}}C(m,"error",bt);function Ht(){m.removeListener("finish",Rt),Bt()}m.once("close",Ht);function Rt(){W("onfinish"),m.removeListener("close",Ht),Bt()}m.once("finish",Rt);function Bt(){W("unpipe"),O.unpipe(m)}return m.emit("pipe",O),m.writableNeedDrain===!0?z.flowing&&et():z.flowing||(W("pipe resume"),O.resume()),m};function Ie(m,w){return function(){let O=m._readableState;O.awaitDrainWriters===w?(W("pipeOnDrain",1),O.awaitDrainWriters=null):O.multiAwaitDrain&&(W("pipeOnDrain",O.awaitDrainWriters.size),O.awaitDrainWriters.delete(w)),(!O.awaitDrainWriters||O.awaitDrainWriters.size===0)&&m.listenerCount("data")&&m.resume()}}T.prototype.unpipe=function(m){let w=this._readableState,O={hasUnpiped:!1};if(w.pipes.length===0)return this;if(!m){let ee=w.pipes;w.pipes=[],this.pause();for(let Ee=0;Ee<ee.length;Ee++)ee[Ee].emit("unpipe",this,{hasUnpiped:!1});return this}let z=f(w.pipes,m);return z===-1?this:(w.pipes.splice(z,1),w.pipes.length===0&&this.pause(),m.emit("unpipe",this,O),this)},T.prototype.on=function(m,w){let O=M.prototype.on.call(this,m,w),z=this._readableState;return m==="data"?(z.readableListening=this.listenerCount("readable")>0,z.flowing!==!1&&this.resume()):m==="readable"&&!z.endEmitted&&!z.readableListening&&(z.readableListening=z.needReadable=!0,z.flowing=!1,z.emittedReadable=!1,W("on readable",z.length,z.reading),z.length?fe(this):z.reading||l.nextTick(q,this)),O},T.prototype.addListener=T.prototype.on,T.prototype.removeListener=function(m,w){let O=M.prototype.removeListener.call(this,m,w);return m==="readable"&&l.nextTick(je,this),O},T.prototype.off=T.prototype.removeListener,T.prototype.removeAllListeners=function(m){let w=M.prototype.removeAllListeners.apply(this,arguments);return(m==="readable"||m===void 0)&&l.nextTick(je,this),w};function je(m){let w=m._readableState;w.readableListening=m.listenerCount("readable")>0,w.resumeScheduled&&w[X]===!1?w.flowing=!0:m.listenerCount("data")>0?m.resume():w.readableListening||(w.flowing=null)}function q(m){W("readable nexttick read 0"),m.read(0)}T.prototype.resume=function(){let m=this._readableState;return m.flowing||(W("resume"),m.flowing=!m.readableListening,te(this,m)),m[X]=!1,this};function te(m,w){w.resumeScheduled||(w.resumeScheduled=!0,l.nextTick(Z,m,w))}function Z(m,w){W("resume",w.reading),w.reading||m.read(0),w.resumeScheduled=!1,m.emit("resume"),Me(m),w.flowing&&!w.reading&&m.read(0)}T.prototype.pause=function(){return W("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(W("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[X]=!0,this};function Me(m){let w=m._readableState;for(W("flow",w.flowing);w.flowing&&m.read()!==null;);}T.prototype.wrap=function(m){let w=!1;m.on("data",z=>{!this.push(z)&&m.pause&&(w=!0,m.pause())}),m.on("end",()=>{this.push(null)}),m.on("error",z=>{k(this,z)}),m.on("close",()=>{this.destroy()}),m.on("destroy",()=>{this.destroy()}),this._read=()=>{w&&m.resume&&(w=!1,m.resume())};let O=o(m);for(let z=1;z<O.length;z++){let ee=O[z];this[ee]===void 0&&typeof m[ee]=="function"&&(this[ee]=m[ee].bind(m))}return this},T.prototype[_]=function(){return Ae(this)},T.prototype.iterator=function(m){return m!==void 0&&he(m,"options"),Ae(this,m)};function Ae(m,w){typeof m.read!="function"&&(m=T.wrap(m,{objectMode:!0}));let O=K(m,w);return O.stream=m,O}async function*K(m,w){let O=Oe;function z(Ge){this===m?(O(),O=Oe):O=Ge}m.on("readable",z);let ee,Ee=j(m,{writable:!1},Ge=>{ee=Ge?ne(ee,Ge):null,O(),O=Oe});try{for(;;){let Ge=m.destroyed?null:m.read();if(Ge!==null)yield Ge;else{if(ee)throw ee;if(ee===null)return;await new g(z)}}}catch(Ge){throw ee=ne(ee,Ge),ee}finally{(ee||(w==null?void 0:w.destroyOnReturn)!==!1)&&(ee===void 0||m._readableState.autoDestroy)?L.destroyer(m,null):(m.off("readable",z),Ee())}}c(T.prototype,{readable:{__proto__:null,get(){let m=this._readableState;return!!m&&m.readable!==!1&&!m.destroyed&&!m.errorEmitted&&!m.endEmitted},set(m){this._readableState&&(this._readableState.readable=!!m)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(m){this._readableState&&(this._readableState.flowing=m)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(m){this._readableState&&(this._readableState.destroyed=m)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),c(ae.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[X]!==!1},set(m){this[X]=!!m}}}),T._fromList=oe;function oe(m,w){if(w.length===0)return null;let O;return w.objectMode?O=w.buffer.shift():!m||m>=w.length?(w.decoder?O=w.buffer.join(""):w.buffer.length===1?O=w.buffer.first():O=w.buffer.concat(w.length),w.buffer.clear()):O=w.buffer.consume(m,w.decoder),O}function P(m){let w=m._readableState;W("endReadable",w.endEmitted),w.endEmitted||(w.ended=!0,l.nextTick(J,w,m))}function J(m,w){if(W("endReadableNT",m.endEmitted,m.length),!m.errored&&!m.closeEmitted&&!m.endEmitted&&m.length===0){if(m.endEmitted=!0,w.emit("end"),w.writable&&w.allowHalfOpen===!1)l.nextTick(se,w);else if(m.autoDestroy){let O=w._writableState;(!O||O.autoDestroy&&(O.finished||O.writable===!1))&&w.destroy()}}}function se(m){m.writable&&!m.writableEnded&&!m.destroyed&&m.end()}T.from=function(m,w){return $(T,m,w)};var me;function b(){return me===void 0&&(me={}),me}T.fromWeb=function(m,w){return b().newStreamReadableFromReadableStream(m,w)},T.toWeb=function(m,w){return b().newReadableStreamFromStreamReadable(m,w)},T.wrap=function(m,w){var O,z;return new T({objectMode:(O=(z=m.readableObjectMode)!==null&&z!==void 0?z:m.objectMode)!==null&&O!==void 0?O:!0,...w,destroy(ee,Ee){L.destroyer(m,ee),Ee(ee)}}).wrap(m)}}),yy=Pe((r,a)=>{Le(),De(),Ue();var l=nl(),{ArrayPrototypeSlice:f,Error:p,FunctionPrototypeSymbolHasInstance:u,ObjectDefineProperty:s,ObjectDefineProperties:c,ObjectSetPrototypeOf:o,StringPrototypeToLowerCase:h,Symbol:g,SymbolHasInstance:v}=tn();a.exports=ie,ie.WritableState=he;var{EventEmitter:_}=(Wl(),Nt(rl)),S=qh().Stream,{Buffer:E}=(pn(),Nt(dn)),M=Yl(),{addAbortSignal:C}=ks(),{getHighWaterMark:I,getDefaultHighWaterMark:U}=Gh(),{ERR_INVALID_ARG_TYPE:j,ERR_METHOD_NOT_IMPLEMENTED:W,ERR_MULTIPLE_CALLBACK:V,ERR_STREAM_CANNOT_PIPE:L,ERR_STREAM_DESTROYED:D,ERR_STREAM_ALREADY_FINISHED:G,ERR_STREAM_NULL_VALUES:ne,ERR_STREAM_WRITE_AFTER_END:ve,ERR_UNKNOWN_ENCODING:_e}=On().codes,{errorOrDestroy:B}=M;o(ie.prototype,S.prototype),o(ie,S);function le(){}var we=g("kOnFinished");function he(q,te,Z){typeof Z!="boolean"&&(Z=te instanceof zr()),this.objectMode=!!(q&&q.objectMode),Z&&(this.objectMode=this.objectMode||!!(q&&q.writableObjectMode)),this.highWaterMark=q?I(this,q,"writableHighWaterMark",Z):U(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let Me=!!(q&&q.decodeStrings===!1);this.decodeStrings=!Me,this.defaultEncoding=q&&q.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=T.bind(void 0,te),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,X(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!q||q.emitClose!==!1,this.autoDestroy=!q||q.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[we]=[]}function X(q){q.buffered=[],q.bufferedIndex=0,q.allBuffers=!0,q.allNoop=!0}he.prototype.getBuffer=function(){return f(this.buffered,this.bufferedIndex)},s(he.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function ie(q){let te=this instanceof zr();if(!te&&!u(ie,this))return new ie(q);this._writableState=new he(q,this,te),q&&(typeof q.write=="function"&&(this._write=q.write),typeof q.writev=="function"&&(this._writev=q.writev),typeof q.destroy=="function"&&(this._destroy=q.destroy),typeof q.final=="function"&&(this._final=q.final),typeof q.construct=="function"&&(this._construct=q.construct),q.signal&&C(q.signal,this)),S.call(this,q),M.construct(this,()=>{let Z=this._writableState;Z.writing||ce(this,Z),Re(this,Z)})}s(ie,v,{__proto__:null,value:function(q){return u(this,q)?!0:this!==ie?!1:q&&q._writableState instanceof he}}),ie.prototype.pipe=function(){B(this,new L)};function $(q,te,Z,Me){let Ae=q._writableState;if(typeof Z=="function")Me=Z,Z=Ae.defaultEncoding;else{if(!Z)Z=Ae.defaultEncoding;else if(Z!=="buffer"&&!E.isEncoding(Z))throw new _e(Z);typeof Me!="function"&&(Me=le)}if(te===null)throw new ne;if(!Ae.objectMode)if(typeof te=="string")Ae.decodeStrings!==!1&&(te=E.from(te,Z),Z="buffer");else if(te instanceof E)Z="buffer";else if(S._isUint8Array(te))te=S._uint8ArrayToBuffer(te),Z="buffer";else throw new j("chunk",["string","Buffer","Uint8Array"],te);let K;return Ae.ending?K=new ve:Ae.destroyed&&(K=new D("write")),K?(l.nextTick(Me,K),B(q,K,!0),K):(Ae.pendingcb++,Oe(q,Ae,te,Z,Me))}ie.prototype.write=function(q,te,Z){return $(this,q,te,Z)===!0},ie.prototype.cork=function(){this._writableState.corked++},ie.prototype.uncork=function(){let q=this._writableState;q.corked&&(q.corked--,q.writing||ce(this,q))},ie.prototype.setDefaultEncoding=function(q){if(typeof q=="string"&&(q=h(q)),!E.isEncoding(q))throw new _e(q);return this._writableState.defaultEncoding=q,this};function Oe(q,te,Z,Me,Ae){let K=te.objectMode?1:Z.length;te.length+=K;let oe=te.length<te.highWaterMark;return oe||(te.needDrain=!0),te.writing||te.corked||te.errored||!te.constructed?(te.buffered.push({chunk:Z,encoding:Me,callback:Ae}),te.allBuffers&&Me!=="buffer"&&(te.allBuffers=!1),te.allNoop&&Ae!==le&&(te.allNoop=!1)):(te.writelen=K,te.writecb=Ae,te.writing=!0,te.sync=!0,q._write(Z,Me,te.onwrite),te.sync=!1),oe&&!te.errored&&!te.destroyed}function k(q,te,Z,Me,Ae,K,oe){te.writelen=Me,te.writecb=oe,te.writing=!0,te.sync=!0,te.destroyed?te.onwrite(new D("write")):Z?q._writev(Ae,te.onwrite):q._write(Ae,K,te.onwrite),te.sync=!1}function ae(q,te,Z,Me){--te.pendingcb,Me(Z),ke(te),B(q,Z)}function T(q,te){let Z=q._writableState,Me=Z.sync,Ae=Z.writecb;if(typeof Ae!="function"){B(q,new V);return}Z.writing=!1,Z.writecb=null,Z.length-=Z.writelen,Z.writelen=0,te?(te.stack,Z.errored||(Z.errored=te),q._readableState&&!q._readableState.errored&&(q._readableState.errored=te),Me?l.nextTick(ae,q,Z,te,Ae):ae(q,Z,te,Ae)):(Z.buffered.length>Z.bufferedIndex&&ce(q,Z),Me?Z.afterWriteTickInfo!==null&&Z.afterWriteTickInfo.cb===Ae?Z.afterWriteTickInfo.count++:(Z.afterWriteTickInfo={count:1,cb:Ae,stream:q,state:Z},l.nextTick(F,Z.afterWriteTickInfo)):de(q,Z,1,Ae))}function F({stream:q,state:te,count:Z,cb:Me}){return te.afterWriteTickInfo=null,de(q,te,Z,Me)}function de(q,te,Z,Me){for(!te.ending&&!q.destroyed&&te.length===0&&te.needDrain&&(te.needDrain=!1,q.emit("drain"));Z-- >0;)te.pendingcb--,Me();te.destroyed&&ke(te),Re(q,te)}function ke(q){if(q.writing)return;for(let Ae=q.bufferedIndex;Ae<q.buffered.length;++Ae){var te;let{chunk:K,callback:oe}=q.buffered[Ae],P=q.objectMode?1:K.length;q.length-=P,oe((te=q.errored)!==null&&te!==void 0?te:new D("write"))}let Z=q[we].splice(0);for(let Ae=0;Ae<Z.length;Ae++){var Me;Z[Ae]((Me=q.errored)!==null&&Me!==void 0?Me:new D("end"))}X(q)}function ce(q,te){if(te.corked||te.bufferProcessing||te.destroyed||!te.constructed)return;let{buffered:Z,bufferedIndex:Me,objectMode:Ae}=te,K=Z.length-Me;if(!K)return;let oe=Me;if(te.bufferProcessing=!0,K>1&&q._writev){te.pendingcb-=K-1;let P=te.allNoop?le:se=>{for(let me=oe;me<Z.length;++me)Z[me].callback(se)},J=te.allNoop&&oe===0?Z:f(Z,oe);J.allBuffers=te.allBuffers,k(q,te,!0,te.length,J,"",P),X(te)}else{do{let{chunk:P,encoding:J,callback:se}=Z[oe];Z[oe++]=null;let me=Ae?1:P.length;k(q,te,!1,me,P,J,se)}while(oe<Z.length&&!te.writing);oe===Z.length?X(te):oe>256?(Z.splice(0,oe),te.bufferedIndex=0):te.bufferedIndex=oe}te.bufferProcessing=!1}ie.prototype._write=function(q,te,Z){if(this._writev)this._writev([{chunk:q,encoding:te}],Z);else throw new W("_write()")},ie.prototype._writev=null,ie.prototype.end=function(q,te,Z){let Me=this._writableState;typeof q=="function"?(Z=q,q=null,te=null):typeof te=="function"&&(Z=te,te=null);let Ae;if(q!=null){let K=$(this,q,te);K instanceof p&&(Ae=K)}return Me.corked&&(Me.corked=1,this.uncork()),Ae||(!Me.errored&&!Me.ending?(Me.ending=!0,Re(this,Me,!0),Me.ended=!0):Me.finished?Ae=new G("end"):Me.destroyed&&(Ae=new D("end"))),typeof Z=="function"&&(Ae||Me.finished?l.nextTick(Z,Ae):Me[we].push(Z)),this};function H(q){return q.ending&&!q.destroyed&&q.constructed&&q.length===0&&!q.errored&&q.buffered.length===0&&!q.finished&&!q.writing&&!q.errorEmitted&&!q.closeEmitted}function N(q,te){let Z=!1;function Me(Ae){if(Z){B(q,Ae??V());return}if(Z=!0,te.pendingcb--,Ae){let K=te[we].splice(0);for(let oe=0;oe<K.length;oe++)K[oe](Ae);B(q,Ae,te.sync)}else H(te)&&(te.prefinished=!0,q.emit("prefinish"),te.pendingcb++,l.nextTick(xe,q,te))}te.sync=!0,te.pendingcb++;try{q._final(Me)}catch(Ae){Me(Ae)}te.sync=!1}function fe(q,te){!te.prefinished&&!te.finalCalled&&(typeof q._final=="function"&&!te.destroyed?(te.finalCalled=!0,N(q,te)):(te.prefinished=!0,q.emit("prefinish")))}function Re(q,te,Z){H(te)&&(fe(q,te),te.pendingcb===0&&(Z?(te.pendingcb++,l.nextTick((Me,Ae)=>{H(Ae)?xe(Me,Ae):Ae.pendingcb--},q,te)):H(te)&&(te.pendingcb++,xe(q,te))))}function xe(q,te){te.pendingcb--,te.finished=!0;let Z=te[we].splice(0);for(let Me=0;Me<Z.length;Me++)Z[Me]();if(q.emit("finish"),te.autoDestroy){let Me=q._readableState;(!Me||Me.autoDestroy&&(Me.endEmitted||Me.readable===!1))&&q.destroy()}}c(ie.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(q){this._writableState&&(this._writableState.destroyed=q)}},writable:{__proto__:null,get(){let q=this._writableState;return!!q&&q.writable!==!1&&!q.destroyed&&!q.errored&&!q.ending&&!q.ended},set(q){this._writableState&&(this._writableState.writable=!!q)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let q=this._writableState;return q?!q.destroyed&&!q.ending&&q.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var Te=M.destroy;ie.prototype.destroy=function(q,te){let Z=this._writableState;return!Z.destroyed&&(Z.bufferedIndex<Z.buffered.length||Z[we].length)&&l.nextTick(ke,Z),Te.call(this,q,te),this},ie.prototype._undestroy=M.undestroy,ie.prototype._destroy=function(q,te){te(q)},ie.prototype[_.captureRejectionSymbol]=function(q){this.destroy(q)};var Ie;function je(){return Ie===void 0&&(Ie={}),Ie}ie.fromWeb=function(q,te){return je().newStreamWritableFromWritableStream(q,te)},ie.toWeb=function(q){return je().newWritableStreamFromStreamWritable(q)}}),Uw=Pe((r,a)=>{Le(),De(),Ue();var l=nl(),f=(pn(),Nt(dn)),{isReadable:p,isWritable:u,isIterable:s,isNodeStream:c,isReadableNodeStream:o,isWritableNodeStream:h,isDuplexNodeStream:g}=Pr(),v=Ei(),{AbortError:_,codes:{ERR_INVALID_ARG_TYPE:S,ERR_INVALID_RETURN_VALUE:E}}=On(),{destroyer:M}=Yl(),C=zr(),I=Us(),{createDeferredPromise:U}=Ir(),j=my(),W=globalThis.Blob||f.Blob,V=typeof W<"u"?function(_e){return _e instanceof W}:function(_e){return!1},L=globalThis.AbortController||Ph().AbortController,{FunctionPrototypeCall:D}=tn(),G=class extends C{constructor(_e){super(_e),(_e==null?void 0:_e.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(_e==null?void 0:_e.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};a.exports=function _e(B,le){if(g(B))return B;if(o(B))return ve({readable:B});if(h(B))return ve({writable:B});if(c(B))return ve({writable:!1,readable:!1});if(typeof B=="function"){let{value:he,write:X,final:ie,destroy:$}=ne(B);if(s(he))return j(G,he,{objectMode:!0,write:X,final:ie,destroy:$});let Oe=he==null?void 0:he.then;if(typeof Oe=="function"){let k,ae=D(Oe,he,T=>{if(T!=null)throw new E("nully","body",T)},T=>{M(k,T)});return k=new G({objectMode:!0,readable:!1,write:X,final(T){ie(async()=>{try{await ae,l.nextTick(T,null)}catch(F){l.nextTick(T,F)}})},destroy:$})}throw new E("Iterable, AsyncIterable or AsyncFunction",le,he)}if(V(B))return _e(B.arrayBuffer());if(s(B))return j(G,B,{objectMode:!0,writable:!1});if(typeof(B==null?void 0:B.writable)=="object"||typeof(B==null?void 0:B.readable)=="object"){let he=B!=null&&B.readable?o(B==null?void 0:B.readable)?B==null?void 0:B.readable:_e(B.readable):void 0,X=B!=null&&B.writable?h(B==null?void 0:B.writable)?B==null?void 0:B.writable:_e(B.writable):void 0;return ve({readable:he,writable:X})}let we=B==null?void 0:B.then;if(typeof we=="function"){let he;return D(we,B,X=>{X!=null&&he.push(X),he.push(null)},X=>{M(he,X)}),he=new G({objectMode:!0,writable:!1,read(){}})}throw new S(le,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],B)};function ne(_e){let{promise:B,resolve:le}=U(),we=new L,he=we.signal;return{value:_e((async function*(){for(;;){let X=B;B=null;let{chunk:ie,done:$,cb:Oe}=await X;if(l.nextTick(Oe),$)return;if(he.aborted)throw new _(void 0,{cause:he.reason});({promise:B,resolve:le}=U()),yield ie}})(),{signal:he}),write(X,ie,$){let Oe=le;le=null,Oe({chunk:X,done:!1,cb:$})},final(X){let ie=le;le=null,ie({done:!0,cb:X})},destroy(X,ie){we.abort(),ie(X)}}}function ve(_e){let B=_e.readable&&typeof _e.readable.read!="function"?I.wrap(_e.readable):_e.readable,le=_e.writable,we=!!p(B),he=!!u(le),X,ie,$,Oe,k;function ae(T){let F=Oe;Oe=null,F?F(T):T&&k.destroy(T)}return k=new G({readableObjectMode:!!(B!=null&&B.readableObjectMode),writableObjectMode:!!(le!=null&&le.writableObjectMode),readable:we,writable:he}),he&&(v(le,T=>{he=!1,T&&M(B,T),ae(T)}),k._write=function(T,F,de){le.write(T,F)?de():X=de},k._final=function(T){le.end(),ie=T},le.on("drain",function(){if(X){let T=X;X=null,T()}}),le.on("finish",function(){if(ie){let T=ie;ie=null,T()}})),we&&(v(B,T=>{we=!1,T&&M(B,T),ae(T)}),B.on("readable",function(){if($){let T=$;$=null,T()}}),B.on("end",function(){k.push(null)}),k._read=function(){for(;;){let T=B.read();if(T===null){$=k._read;return}if(!k.push(T))return}}),k._destroy=function(T,F){!T&&Oe!==null&&(T=new _),$=null,X=null,ie=null,Oe===null?F(T):(Oe=F,M(le,T),M(B,T))},k}}),zr=Pe((r,a)=>{Le(),De(),Ue();var{ObjectDefineProperties:l,ObjectGetOwnPropertyDescriptor:f,ObjectKeys:p,ObjectSetPrototypeOf:u}=tn();a.exports=o;var s=Us(),c=yy();u(o.prototype,s.prototype),u(o,s);{let _=p(c.prototype);for(let S=0;S<_.length;S++){let E=_[S];o.prototype[E]||(o.prototype[E]=c.prototype[E])}}function o(_){if(!(this instanceof o))return new o(_);s.call(this,_),c.call(this,_),_?(this.allowHalfOpen=_.allowHalfOpen!==!1,_.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),_.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}l(o.prototype,{writable:{__proto__:null,...f(c.prototype,"writable")},writableHighWaterMark:{__proto__:null,...f(c.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...f(c.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...f(c.prototype,"writableBuffer")},writableLength:{__proto__:null,...f(c.prototype,"writableLength")},writableFinished:{__proto__:null,...f(c.prototype,"writableFinished")},writableCorked:{__proto__:null,...f(c.prototype,"writableCorked")},writableEnded:{__proto__:null,...f(c.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...f(c.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(_){this._readableState&&this._writableState&&(this._readableState.destroyed=_,this._writableState.destroyed=_)}}});var h;function g(){return h===void 0&&(h={}),h}o.fromWeb=function(_,S){return g().newStreamDuplexFromReadableWritablePair(_,S)},o.toWeb=function(_){return g().newReadableWritablePairFromDuplex(_)};var v;o.from=function(_){return v||(v=Uw()),v(_,"body")}}),by=Pe((r,a)=>{Le(),De(),Ue();var{ObjectSetPrototypeOf:l,Symbol:f}=tn();a.exports=o;var{ERR_METHOD_NOT_IMPLEMENTED:p}=On().codes,u=zr(),{getHighWaterMark:s}=Gh();l(o.prototype,u.prototype),l(o,u);var c=f("kCallback");function o(v){if(!(this instanceof o))return new o(v);let _=v?s(this,v,"readableHighWaterMark",!0):null;_===0&&(v={...v,highWaterMark:null,readableHighWaterMark:_,writableHighWaterMark:v.writableHighWaterMark||0}),u.call(this,v),this._readableState.sync=!1,this[c]=null,v&&(typeof v.transform=="function"&&(this._transform=v.transform),typeof v.flush=="function"&&(this._flush=v.flush)),this.on("prefinish",g)}function h(v){typeof this._flush=="function"&&!this.destroyed?this._flush((_,S)=>{if(_){v?v(_):this.destroy(_);return}S!=null&&this.push(S),this.push(null),v&&v()}):(this.push(null),v&&v())}function g(){this._final!==h&&h.call(this)}o.prototype._final=h,o.prototype._transform=function(v,_,S){throw new p("_transform()")},o.prototype._write=function(v,_,S){let E=this._readableState,M=this._writableState,C=E.length;this._transform(v,_,(I,U)=>{if(I){S(I);return}U!=null&&this.push(U),M.ended||C===E.length||E.length<E.highWaterMark?S():this[c]=S})},o.prototype._read=function(){if(this[c]){let v=this[c];this[c]=null,v()}}}),vy=Pe((r,a)=>{Le(),De(),Ue();var{ObjectSetPrototypeOf:l}=tn();a.exports=p;var f=by();l(p.prototype,f.prototype),l(p,f);function p(u){if(!(this instanceof p))return new p(u);f.call(this,u)}p.prototype._transform=function(u,s,c){c(null,u)}}),Wh=Pe((r,a)=>{Le(),De(),Ue();var l=nl(),{ArrayIsArray:f,Promise:p,SymbolAsyncIterator:u}=tn(),s=Ei(),{once:c}=Ir(),o=Yl(),h=zr(),{aggregateTwoErrors:g,codes:{ERR_INVALID_ARG_TYPE:v,ERR_INVALID_RETURN_VALUE:_,ERR_MISSING_ARGS:S,ERR_STREAM_DESTROYED:E,ERR_STREAM_PREMATURE_CLOSE:M},AbortError:C}=On(),{validateFunction:I,validateAbortSignal:U}=js(),{isIterable:j,isReadable:W,isReadableNodeStream:V,isNodeStream:L,isTransformStream:D,isWebStream:G,isReadableStream:ne,isReadableEnded:ve}=Pr(),_e=globalThis.AbortController||Ph().AbortController,B,le;function we(F,de,ke){let ce=!1;F.on("close",()=>{ce=!0});let H=s(F,{readable:de,writable:ke},N=>{ce=!N});return{destroy:N=>{ce||(ce=!0,o.destroyer(F,N||new E("pipe")))},cleanup:H}}function he(F){return I(F[F.length-1],"streams[stream.length - 1]"),F.pop()}function X(F){if(j(F))return F;if(V(F))return ie(F);throw new v("val",["Readable","Iterable","AsyncIterable"],F)}async function*ie(F){le||(le=Us()),yield*le.prototype[u].call(F)}async function $(F,de,ke,{end:ce}){let H,N=null,fe=Te=>{if(Te&&(H=Te),N){let Ie=N;N=null,Ie()}},Re=()=>new p((Te,Ie)=>{H?Ie(H):N=()=>{H?Ie(H):Te()}});de.on("drain",fe);let xe=s(de,{readable:!1},fe);try{de.writableNeedDrain&&await Re();for await(let Te of F)de.write(Te)||await Re();ce&&de.end(),await Re(),ke()}catch(Te){ke(H!==Te?g(H,Te):Te)}finally{xe(),de.off("drain",fe)}}async function Oe(F,de,ke,{end:ce}){D(de)&&(de=de.writable);let H=de.getWriter();try{for await(let N of F)await H.ready,H.write(N).catch(()=>{});await H.ready,ce&&await H.close(),ke()}catch(N){try{await H.abort(N),ke(N)}catch(fe){ke(fe)}}}function k(...F){return ae(F,c(he(F)))}function ae(F,de,ke){if(F.length===1&&f(F[0])&&(F=F[0]),F.length<2)throw new S("streams");let ce=new _e,H=ce.signal,N=ke==null?void 0:ke.signal,fe=[];U(N,"options.signal");function Re(){te(new C)}N==null||N.addEventListener("abort",Re);let xe,Te,Ie=[],je=0;function q(K){te(K,--je===0)}function te(K,oe){if(K&&(!xe||xe.code==="ERR_STREAM_PREMATURE_CLOSE")&&(xe=K),!(!xe&&!oe)){for(;Ie.length;)Ie.shift()(xe);N==null||N.removeEventListener("abort",Re),ce.abort(),oe&&(xe||fe.forEach(P=>P()),l.nextTick(de,xe,Te))}}let Z;for(let K=0;K<F.length;K++){let oe=F[K],P=K<F.length-1,J=K>0,se=P||(ke==null?void 0:ke.end)!==!1,me=K===F.length-1;if(L(oe)){let b=function(m){m&&m.name!=="AbortError"&&m.code!=="ERR_STREAM_PREMATURE_CLOSE"&&q(m)};if(se){let{destroy:m,cleanup:w}=we(oe,P,J);Ie.push(m),W(oe)&&me&&fe.push(w)}oe.on("error",b),W(oe)&&me&&fe.push(()=>{oe.removeListener("error",b)})}if(K===0)if(typeof oe=="function"){if(Z=oe({signal:H}),!j(Z))throw new _("Iterable, AsyncIterable or Stream","source",Z)}else j(oe)||V(oe)||D(oe)?Z=oe:Z=h.from(oe);else if(typeof oe=="function"){if(D(Z)){var Me;Z=X((Me=Z)===null||Me===void 0?void 0:Me.readable)}else Z=X(Z);if(Z=oe(Z,{signal:H}),P){if(!j(Z,!0))throw new _("AsyncIterable",`transform[${K-1}]`,Z)}else{var Ae;B||(B=vy());let b=new B({objectMode:!0}),m=(Ae=Z)===null||Ae===void 0?void 0:Ae.then;if(typeof m=="function")je++,m.call(Z,z=>{Te=z,z!=null&&b.write(z),se&&b.end(),l.nextTick(q)},z=>{b.destroy(z),l.nextTick(q,z)});else if(j(Z,!0))je++,$(Z,b,q,{end:se});else if(ne(Z)||D(Z)){let z=Z.readable||Z;je++,$(z,b,q,{end:se})}else throw new _("AsyncIterable or Promise","destination",Z);Z=b;let{destroy:w,cleanup:O}=we(Z,!1,!0);Ie.push(w),me&&fe.push(O)}}else if(L(oe)){if(V(Z)){je+=2;let b=T(Z,oe,q,{end:se});W(oe)&&me&&fe.push(b)}else if(D(Z)||ne(Z)){let b=Z.readable||Z;je++,$(b,oe,q,{end:se})}else if(j(Z))je++,$(Z,oe,q,{end:se});else throw new v("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Z);Z=oe}else if(G(oe)){if(V(Z))je++,Oe(X(Z),oe,q,{end:se});else if(ne(Z)||j(Z))je++,Oe(Z,oe,q,{end:se});else if(D(Z))je++,Oe(Z.readable,oe,q,{end:se});else throw new v("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Z);Z=oe}else Z=h.from(oe)}return(H!=null&&H.aborted||N!=null&&N.aborted)&&l.nextTick(Re),Z}function T(F,de,ke,{end:ce}){let H=!1;if(de.on("close",()=>{H||ke(new M)}),F.pipe(de,{end:!1}),ce){let N=function(){H=!0,de.end()};ve(F)?l.nextTick(N):F.once("end",N)}else ke();return s(F,{readable:!0,writable:!1},N=>{let fe=F._readableState;N&&N.code==="ERR_STREAM_PREMATURE_CLOSE"&&fe&&fe.ended&&!fe.errored&&!fe.errorEmitted?F.once("end",ke).once("error",ke):ke(N)}),s(de,{readable:!1,writable:!0},ke)}a.exports={pipelineImpl:ae,pipeline:k}}),wy=Pe((r,a)=>{Le(),De(),Ue();var{pipeline:l}=Wh(),f=zr(),{destroyer:p}=Yl(),{isNodeStream:u,isReadable:s,isWritable:c,isWebStream:o,isTransformStream:h,isWritableStream:g,isReadableStream:v}=Pr(),{AbortError:_,codes:{ERR_INVALID_ARG_VALUE:S,ERR_MISSING_ARGS:E}}=On(),M=Ei();a.exports=function(...C){if(C.length===0)throw new E("streams");if(C.length===1)return f.from(C[0]);let I=[...C];if(typeof C[0]=="function"&&(C[0]=f.from(C[0])),typeof C[C.length-1]=="function"){let B=C.length-1;C[B]=f.from(C[B])}for(let B=0;B<C.length;++B)if(!(!u(C[B])&&!o(C[B]))){if(B<C.length-1&&!(s(C[B])||v(C[B])||h(C[B])))throw new S(`streams[${B}]`,I[B],"must be readable");if(B>0&&!(c(C[B])||g(C[B])||h(C[B])))throw new S(`streams[${B}]`,I[B],"must be writable")}let U,j,W,V,L;function D(B){let le=V;V=null,le?le(B):B?L.destroy(B):!_e&&!ve&&L.destroy()}let G=C[0],ne=l(C,D),ve=!!(c(G)||g(G)||h(G)),_e=!!(s(ne)||v(ne)||h(ne));if(L=new f({writableObjectMode:!!(G!=null&&G.writableObjectMode),readableObjectMode:!!(ne!=null&&ne.writableObjectMode),writable:ve,readable:_e}),ve){if(u(G))L._write=function(le,we,he){G.write(le,we)?he():U=he},L._final=function(le){G.end(),j=le},G.on("drain",function(){if(U){let le=U;U=null,le()}});else if(o(G)){let le=(h(G)?G.writable:G).getWriter();L._write=async function(we,he,X){try{await le.ready,le.write(we).catch(()=>{}),X()}catch(ie){X(ie)}},L._final=async function(we){try{await le.ready,le.close().catch(()=>{}),j=we}catch(he){we(he)}}}let B=h(ne)?ne.readable:ne;M(B,()=>{if(j){let le=j;j=null,le()}})}if(_e){if(u(ne))ne.on("readable",function(){if(W){let B=W;W=null,B()}}),ne.on("end",function(){L.push(null)}),L._read=function(){for(;;){let B=ne.read();if(B===null){W=L._read;return}if(!L.push(B))return}};else if(o(ne)){let B=(h(ne)?ne.readable:ne).getReader();L._read=async function(){for(;;)try{let{value:le,done:we}=await B.read();if(!L.push(le))return;if(we){L.push(null);return}}catch{return}}}}return L._destroy=function(B,le){!B&&V!==null&&(B=new _),W=null,U=null,j=null,V===null?le(B):(V=le,u(ne)&&p(ne,B))},L}}),Dw=Pe((r,a)=>{Le(),De(),Ue();var l=globalThis.AbortController||Ph().AbortController,{codes:{ERR_INVALID_ARG_VALUE:f,ERR_INVALID_ARG_TYPE:p,ERR_MISSING_ARGS:u,ERR_OUT_OF_RANGE:s},AbortError:c}=On(),{validateAbortSignal:o,validateInteger:h,validateObject:g}=js(),v=tn().Symbol("kWeak"),{finished:_}=Ei(),S=wy(),{addAbortSignalNoValidate:E}=ks(),{isWritable:M,isNodeStream:C}=Pr(),{ArrayPrototypePush:I,MathFloor:U,Number:j,NumberIsNaN:W,Promise:V,PromiseReject:L,PromisePrototypeThen:D,Symbol:G}=tn(),ne=G("kEmpty"),ve=G("kEof");function _e(ce,H){if(H!=null&&g(H,"options"),(H==null?void 0:H.signal)!=null&&o(H.signal,"options.signal"),C(ce)&&!M(ce))throw new f("stream",ce,"must be writable");let N=S(this,ce);return H!=null&&H.signal&&E(H.signal,N),N}function B(ce,H){if(typeof ce!="function")throw new p("fn",["Function","AsyncFunction"],ce);H!=null&&g(H,"options"),(H==null?void 0:H.signal)!=null&&o(H.signal,"options.signal");let N=1;return(H==null?void 0:H.concurrency)!=null&&(N=U(H.concurrency)),h(N,"concurrency",1),(async function*(){var fe,Re;let xe=new l,Te=this,Ie=[],je=xe.signal,q={signal:je},te=()=>xe.abort();H!=null&&(fe=H.signal)!==null&&fe!==void 0&&fe.aborted&&te(),H==null||(Re=H.signal)===null||Re===void 0||Re.addEventListener("abort",te);let Z,Me,Ae=!1;function K(){Ae=!0}async function oe(){try{for await(let se of Te){var P;if(Ae)return;if(je.aborted)throw new c;try{se=ce(se,q)}catch(me){se=L(me)}se!==ne&&(typeof((P=se)===null||P===void 0?void 0:P.catch)=="function"&&se.catch(K),Ie.push(se),Z&&(Z(),Z=null),!Ae&&Ie.length&&Ie.length>=N&&await new V(me=>{Me=me}))}Ie.push(ve)}catch(se){let me=L(se);D(me,void 0,K),Ie.push(me)}finally{var J;Ae=!0,Z&&(Z(),Z=null),H==null||(J=H.signal)===null||J===void 0||J.removeEventListener("abort",te)}}oe();try{for(;;){for(;Ie.length>0;){let P=await Ie[0];if(P===ve)return;if(je.aborted)throw new c;P!==ne&&(yield P),Ie.shift(),Me&&(Me(),Me=null)}await new V(P=>{Z=P})}}finally{xe.abort(),Ae=!0,Me&&(Me(),Me=null)}}).call(this)}function le(ce=void 0){return ce!=null&&g(ce,"options"),(ce==null?void 0:ce.signal)!=null&&o(ce.signal,"options.signal"),(async function*(){let H=0;for await(let fe of this){var N;if(ce!=null&&(N=ce.signal)!==null&&N!==void 0&&N.aborted)throw new c({cause:ce.signal.reason});yield[H++,fe]}}).call(this)}async function we(ce,H=void 0){for await(let N of $.call(this,ce,H))return!0;return!1}async function he(ce,H=void 0){if(typeof ce!="function")throw new p("fn",["Function","AsyncFunction"],ce);return!await we.call(this,async(...N)=>!await ce(...N),H)}async function X(ce,H){for await(let N of $.call(this,ce,H))return N}async function ie(ce,H){if(typeof ce!="function")throw new p("fn",["Function","AsyncFunction"],ce);async function N(fe,Re){return await ce(fe,Re),ne}for await(let fe of B.call(this,N,H));}function $(ce,H){if(typeof ce!="function")throw new p("fn",["Function","AsyncFunction"],ce);async function N(fe,Re){return await ce(fe,Re)?fe:ne}return B.call(this,N,H)}var Oe=class extends u{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function k(ce,H,N){var fe;if(typeof ce!="function")throw new p("reducer",["Function","AsyncFunction"],ce);N!=null&&g(N,"options"),(N==null?void 0:N.signal)!=null&&o(N.signal,"options.signal");let Re=arguments.length>1;if(N!=null&&(fe=N.signal)!==null&&fe!==void 0&&fe.aborted){let q=new c(void 0,{cause:N.signal.reason});throw this.once("error",()=>{}),await _(this.destroy(q)),q}let xe=new l,Te=xe.signal;if(N!=null&&N.signal){let q={once:!0,[v]:this};N.signal.addEventListener("abort",()=>xe.abort(),q)}let Ie=!1;try{for await(let q of this){var je;if(Ie=!0,N!=null&&(je=N.signal)!==null&&je!==void 0&&je.aborted)throw new c;Re?H=await ce(H,q,{signal:Te}):(H=q,Re=!0)}if(!Ie&&!Re)throw new Oe}finally{xe.abort()}return H}async function ae(ce){ce!=null&&g(ce,"options"),(ce==null?void 0:ce.signal)!=null&&o(ce.signal,"options.signal");let H=[];for await(let fe of this){var N;if(ce!=null&&(N=ce.signal)!==null&&N!==void 0&&N.aborted)throw new c(void 0,{cause:ce.signal.reason});I(H,fe)}return H}function T(ce,H){let N=B.call(this,ce,H);return(async function*(){for await(let fe of N)yield*fe}).call(this)}function F(ce){if(ce=j(ce),W(ce))return 0;if(ce<0)throw new s("number",">= 0",ce);return ce}function de(ce,H=void 0){return H!=null&&g(H,"options"),(H==null?void 0:H.signal)!=null&&o(H.signal,"options.signal"),ce=F(ce),(async function*(){var N;if(H!=null&&(N=H.signal)!==null&&N!==void 0&&N.aborted)throw new c;for await(let Re of this){var fe;if(H!=null&&(fe=H.signal)!==null&&fe!==void 0&&fe.aborted)throw new c;ce--<=0&&(yield Re)}}).call(this)}function ke(ce,H=void 0){return H!=null&&g(H,"options"),(H==null?void 0:H.signal)!=null&&o(H.signal,"options.signal"),ce=F(ce),(async function*(){var N;if(H!=null&&(N=H.signal)!==null&&N!==void 0&&N.aborted)throw new c;for await(let Re of this){var fe;if(H!=null&&(fe=H.signal)!==null&&fe!==void 0&&fe.aborted)throw new c;if(ce-- >0)yield Re;else return}}).call(this)}a.exports.streamReturningOperators={asIndexedPairs:le,drop:de,filter:$,flatMap:T,map:B,take:ke,compose:_e},a.exports.promiseReturningOperators={every:he,forEach:ie,reduce:k,toArray:ae,some:we,find:X}}),_y=Pe((r,a)=>{Le(),De(),Ue();var{ArrayPrototypePop:l,Promise:f}=tn(),{isIterable:p,isNodeStream:u,isWebStream:s}=Pr(),{pipelineImpl:c}=Wh(),{finished:o}=Ei();Sy();function h(...g){return new f((v,_)=>{let S,E,M=g[g.length-1];if(M&&typeof M=="object"&&!u(M)&&!p(M)&&!s(M)){let C=l(g);S=C.signal,E=C.end}c(g,(C,I)=>{C?_(C):v(I)},{signal:S,end:E})})}a.exports={finished:o,pipeline:h}}),Sy=Pe((r,a)=>{Le(),De(),Ue();var{Buffer:l}=(pn(),Nt(dn)),{ObjectDefineProperty:f,ObjectKeys:p,ReflectApply:u}=tn(),{promisify:{custom:s}}=Ir(),{streamReturningOperators:c,promiseReturningOperators:o}=Dw(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:h}}=On(),g=wy(),{pipeline:v}=Wh(),{destroyer:_}=Yl(),S=Ei(),E=_y(),M=Pr(),C=a.exports=qh().Stream;C.isDisturbed=M.isDisturbed,C.isErrored=M.isErrored,C.isReadable=M.isReadable,C.Readable=Us();for(let U of p(c)){let j=function(...V){if(new.target)throw h();return C.Readable.from(u(W,this,V))},W=c[U];f(j,"name",{__proto__:null,value:W.name}),f(j,"length",{__proto__:null,value:W.length}),f(C.Readable.prototype,U,{__proto__:null,value:j,enumerable:!1,configurable:!0,writable:!0})}for(let U of p(o)){let j=function(...V){if(new.target)throw h();return u(W,this,V)},W=o[U];f(j,"name",{__proto__:null,value:W.name}),f(j,"length",{__proto__:null,value:W.length}),f(C.Readable.prototype,U,{__proto__:null,value:j,enumerable:!1,configurable:!0,writable:!0})}C.Writable=yy(),C.Duplex=zr(),C.Transform=by(),C.PassThrough=vy(),C.pipeline=v;var{addAbortSignal:I}=ks();C.addAbortSignal=I,C.finished=S,C.destroy=_,C.compose=g,f(C,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return E}}),f(v,s,{__proto__:null,enumerable:!0,get(){return E.pipeline}}),f(S,s,{__proto__:null,enumerable:!0,get(){return E.finished}}),C.Stream=C,C._isUint8Array=function(U){return U instanceof Uint8Array},C._uint8ArrayToBuffer=function(U){return l.from(U.buffer,U.byteOffset,U.byteLength)}}),il=Pe((r,a)=>{Le(),De(),Ue();var l=Sy(),f=_y(),p=l.Readable.destroy;a.exports=l.Readable,a.exports._uint8ArrayToBuffer=l._uint8ArrayToBuffer,a.exports._isUint8Array=l._isUint8Array,a.exports.isDisturbed=l.isDisturbed,a.exports.isErrored=l.isErrored,a.exports.isReadable=l.isReadable,a.exports.Readable=l.Readable,a.exports.Writable=l.Writable,a.exports.Duplex=l.Duplex,a.exports.Transform=l.Transform,a.exports.PassThrough=l.PassThrough,a.exports.addAbortSignal=l.addAbortSignal,a.exports.finished=l.finished,a.exports.destroy=l.destroy,a.exports.destroy=p,a.exports.pipeline=l.pipeline,a.exports.compose=l.compose,Object.defineProperty(l,"promises",{configurable:!0,enumerable:!0,get(){return f}}),a.exports.Stream=l.Stream,a.exports.default=a.exports}),Lw=Pe((r,a)=>{Le(),De(),Ue(),typeof Object.create=="function"?a.exports=function(l,f){f&&(l.super_=f,l.prototype=Object.create(f.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}))}:a.exports=function(l,f){if(f){l.super_=f;var p=function(){};p.prototype=f.prototype,l.prototype=new p,l.prototype.constructor=l}}}),Iw=Pe((r,a)=>{Le(),De(),Ue();var{Buffer:l}=(pn(),Nt(dn)),f=Symbol.for("BufferList");function p(u){if(!(this instanceof p))return new p(u);p._init.call(this,u)}p._init=function(u){Object.defineProperty(this,f,{value:!0}),this._bufs=[],this.length=0,u&&this.append(u)},p.prototype._new=function(u){return new p(u)},p.prototype._offset=function(u){if(u===0)return[0,0];let s=0;for(let c=0;c<this._bufs.length;c++){let o=s+this._bufs[c].length;if(u<o||c===this._bufs.length-1)return[c,u-s];s=o}},p.prototype._reverseOffset=function(u){let s=u[0],c=u[1];for(let o=0;o<s;o++)c+=this._bufs[o].length;return c},p.prototype.get=function(u){if(u>this.length||u<0)return;let s=this._offset(u);return this._bufs[s[0]][s[1]]},p.prototype.slice=function(u,s){return typeof u=="number"&&u<0&&(u+=this.length),typeof s=="number"&&s<0&&(s+=this.length),this.copy(null,0,u,s)},p.prototype.copy=function(u,s,c,o){if((typeof c!="number"||c<0)&&(c=0),(typeof o!="number"||o>this.length)&&(o=this.length),c>=this.length||o<=0)return u||l.alloc(0);let h=!!u,g=this._offset(c),v=o-c,_=v,S=h&&s||0,E=g[1];if(c===0&&o===this.length){if(!h)return this._bufs.length===1?this._bufs[0]:l.concat(this._bufs,this.length);for(let M=0;M<this._bufs.length;M++)this._bufs[M].copy(u,S),S+=this._bufs[M].length;return u}if(_<=this._bufs[g[0]].length-E)return h?this._bufs[g[0]].copy(u,s,E,E+_):this._bufs[g[0]].slice(E,E+_);h||(u=l.allocUnsafe(v));for(let M=g[0];M<this._bufs.length;M++){let C=this._bufs[M].length-E;if(_>C)this._bufs[M].copy(u,S,E),S+=C;else{this._bufs[M].copy(u,S,E,E+_),S+=C;break}_-=C,E&&(E=0)}return u.length>S?u.slice(0,S):u},p.prototype.shallowSlice=function(u,s){if(u=u||0,s=typeof s!="number"?this.length:s,u<0&&(u+=this.length),s<0&&(s+=this.length),u===s)return this._new();let c=this._offset(u),o=this._offset(s),h=this._bufs.slice(c[0],o[0]+1);return o[1]===0?h.pop():h[h.length-1]=h[h.length-1].slice(0,o[1]),c[1]!==0&&(h[0]=h[0].slice(c[1])),this._new(h)},p.prototype.toString=function(u,s,c){return this.slice(s,c).toString(u)},p.prototype.consume=function(u){if(u=Math.trunc(u),Number.isNaN(u)||u<=0)return this;for(;this._bufs.length;)if(u>=this._bufs[0].length)u-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(u),this.length-=u;break}return this},p.prototype.duplicate=function(){let u=this._new();for(let s=0;s<this._bufs.length;s++)u.append(this._bufs[s]);return u},p.prototype.append=function(u){if(u==null)return this;if(u.buffer)this._appendBuffer(l.from(u.buffer,u.byteOffset,u.byteLength));else if(Array.isArray(u))for(let s=0;s<u.length;s++)this.append(u[s]);else if(this._isBufferList(u))for(let s=0;s<u._bufs.length;s++)this.append(u._bufs[s]);else typeof u=="number"&&(u=u.toString()),this._appendBuffer(l.from(u));return this},p.prototype._appendBuffer=function(u){this._bufs.push(u),this.length+=u.length},p.prototype.indexOf=function(u,s,c){if(c===void 0&&typeof s=="string"&&(c=s,s=void 0),typeof u=="function"||Array.isArray(u))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof u=="number"?u=l.from([u]):typeof u=="string"?u=l.from(u,c):this._isBufferList(u)?u=u.slice():Array.isArray(u.buffer)?u=l.from(u.buffer,u.byteOffset,u.byteLength):l.isBuffer(u)||(u=l.from(u)),s=Number(s||0),isNaN(s)&&(s=0),s<0&&(s=this.length+s),s<0&&(s=0),u.length===0)return s>this.length?this.length:s;let o=this._offset(s),h=o[0],g=o[1];for(;h<this._bufs.length;h++){let v=this._bufs[h];for(;g<v.length;)if(v.length-g>=u.length){let _=v.indexOf(u,g);if(_!==-1)return this._reverseOffset([h,_]);g=v.length-u.length+1}else{let _=this._reverseOffset([h,g]);if(this._match(_,u))return _;g++}g=0}return-1},p.prototype._match=function(u,s){if(this.length-u<s.length)return!1;for(let c=0;c<s.length;c++)if(this.get(u+c)!==s[c])return!1;return!0},(function(){let u={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let s in u)(function(c){u[c]===null?p.prototype[c]=function(o,h){return this.slice(o,o+h)[c](0,h)}:p.prototype[c]=function(o=0){return this.slice(o,o+u[c])[c](0)}})(s)})(),p.prototype._isBufferList=function(u){return u instanceof p||p.isBufferList(u)},p.isBufferList=function(u){return u!=null&&u[f]},a.exports=p}),zw=Pe((r,a)=>{Le(),De(),Ue();var l=il().Duplex,f=Lw(),p=Iw();function u(s){if(!(this instanceof u))return new u(s);if(typeof s=="function"){this._callback=s;let c=(function(o){this._callback&&(this._callback(o),this._callback=null)}).bind(this);this.on("pipe",function(o){o.on("error",c)}),this.on("unpipe",function(o){o.removeListener("error",c)}),s=null}p._init.call(this,s),l.call(this)}f(u,l),Object.assign(u.prototype,p.prototype),u.prototype._new=function(s){return new u(s)},u.prototype._write=function(s,c,o){this._appendBuffer(s),typeof o=="function"&&o()},u.prototype._read=function(s){if(!this.length)return this.push(null);s=Math.min(s,this.length),this.push(this.slice(0,s)),this.consume(s)},u.prototype.end=function(s){l.prototype.end.call(this,s),this._callback&&(this._callback(null,this.slice()),this._callback=null)},u.prototype._destroy=function(s,c){this._bufs.length=0,this.length=0,c(s)},u.prototype._isBufferList=function(s){return s instanceof u||s instanceof p||u.isBufferList(s)},u.isBufferList=p.isBufferList,a.exports=u,a.exports.BufferListStream=u,a.exports.BufferList=p}),Hw=Pe((r,a)=>{Le(),De(),Ue();var l=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}};a.exports=l}),Ey=Pe((r,a)=>{Le(),De(),Ue();var l=a.exports,{Buffer:f}=(pn(),Nt(dn));l.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},l.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},l.requiredHeaderFlagsErrors={};for(let u in l.requiredHeaderFlags){let s=l.requiredHeaderFlags[u];l.requiredHeaderFlagsErrors[u]="Invalid header flag bits, must be 0x"+s.toString(16)+" for "+l.types[u]+" packet"}l.codes={};for(let u in l.types){let s=l.types[u];l.codes[s]=u}l.CMD_SHIFT=4,l.CMD_MASK=240,l.DUP_MASK=8,l.QOS_MASK=3,l.QOS_SHIFT=1,l.RETAIN_MASK=1,l.VARBYTEINT_MASK=127,l.VARBYTEINT_FIN_MASK=128,l.VARBYTEINT_MAX=268435455,l.SESSIONPRESENT_MASK=1,l.SESSIONPRESENT_HEADER=f.from([l.SESSIONPRESENT_MASK]),l.CONNACK_HEADER=f.from([l.codes.connack<<l.CMD_SHIFT]),l.USERNAME_MASK=128,l.PASSWORD_MASK=64,l.WILL_RETAIN_MASK=32,l.WILL_QOS_MASK=24,l.WILL_QOS_SHIFT=3,l.WILL_FLAG_MASK=4,l.CLEAN_SESSION_MASK=2,l.CONNECT_HEADER=f.from([l.codes.connect<<l.CMD_SHIFT]),l.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},l.propertiesCodes={};for(let u in l.properties){let s=l.properties[u];l.propertiesCodes[s]=u}l.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function p(u){return[0,1,2].map(s=>[0,1].map(c=>[0,1].map(o=>{let h=f.alloc(1);return h.writeUInt8(l.codes[u]<<l.CMD_SHIFT|(c?l.DUP_MASK:0)|s<<l.QOS_SHIFT|o,0,!0),h})))}l.PUBLISH_HEADER=p("publish"),l.SUBSCRIBE_HEADER=p("subscribe"),l.SUBSCRIBE_OPTIONS_QOS_MASK=3,l.SUBSCRIBE_OPTIONS_NL_MASK=1,l.SUBSCRIBE_OPTIONS_NL_SHIFT=2,l.SUBSCRIBE_OPTIONS_RAP_MASK=1,l.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,l.SUBSCRIBE_OPTIONS_RH_MASK=3,l.SUBSCRIBE_OPTIONS_RH_SHIFT=4,l.SUBSCRIBE_OPTIONS_RH=[0,16,32],l.SUBSCRIBE_OPTIONS_NL=4,l.SUBSCRIBE_OPTIONS_RAP=8,l.SUBSCRIBE_OPTIONS_QOS=[0,1,2],l.UNSUBSCRIBE_HEADER=p("unsubscribe"),l.ACKS={unsuback:p("unsuback"),puback:p("puback"),pubcomp:p("pubcomp"),pubrel:p("pubrel"),pubrec:p("pubrec")},l.SUBACK_HEADER=f.from([l.codes.suback<<l.CMD_SHIFT]),l.VERSION3=f.from([3]),l.VERSION4=f.from([4]),l.VERSION5=f.from([5]),l.VERSION131=f.from([131]),l.VERSION132=f.from([132]),l.QOS=[0,1,2].map(u=>f.from([u])),l.EMPTY={pingreq:f.from([l.codes.pingreq<<4,0]),pingresp:f.from([l.codes.pingresp<<4,0]),disconnect:f.from([l.codes.disconnect<<4,0])},l.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},l.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},l.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},l.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},l.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},l.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}}),Pw=Pe((r,a)=>{Le(),De(),Ue();var l=1e3,f=l*60,p=f*60,u=p*24,s=u*7,c=u*365.25;a.exports=function(_,S){S=S||{};var E=typeof _;if(E==="string"&&_.length>0)return o(_);if(E==="number"&&isFinite(_))return S.long?g(_):h(_);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(_))};function o(_){if(_=String(_),!(_.length>100)){var S=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(_);if(S){var E=parseFloat(S[1]),M=(S[2]||"ms").toLowerCase();switch(M){case"years":case"year":case"yrs":case"yr":case"y":return E*c;case"weeks":case"week":case"w":return E*s;case"days":case"day":case"d":return E*u;case"hours":case"hour":case"hrs":case"hr":case"h":return E*p;case"minutes":case"minute":case"mins":case"min":case"m":return E*f;case"seconds":case"second":case"secs":case"sec":case"s":return E*l;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return E;default:return}}}}function h(_){var S=Math.abs(_);return S>=u?Math.round(_/u)+"d":S>=p?Math.round(_/p)+"h":S>=f?Math.round(_/f)+"m":S>=l?Math.round(_/l)+"s":_+"ms"}function g(_){var S=Math.abs(_);return S>=u?v(_,S,u,"day"):S>=p?v(_,S,p,"hour"):S>=f?v(_,S,f,"minute"):S>=l?v(_,S,l,"second"):_+" ms"}function v(_,S,E,M){var C=S>=E*1.5;return Math.round(_/E)+" "+M+(C?"s":"")}}),qw=Pe((r,a)=>{Le(),De(),Ue();function l(f){u.debug=u,u.default=u,u.coerce=v,u.disable=o,u.enable=c,u.enabled=h,u.humanize=Pw(),u.destroy=_,Object.keys(f).forEach(S=>{u[S]=f[S]}),u.names=[],u.skips=[],u.formatters={};function p(S){let E=0;for(let M=0;M<S.length;M++)E=(E<<5)-E+S.charCodeAt(M),E|=0;return u.colors[Math.abs(E)%u.colors.length]}u.selectColor=p;function u(S){let E,M=null,C,I;function U(...j){if(!U.enabled)return;let W=U,V=Number(new Date),L=V-(E||V);W.diff=L,W.prev=E,W.curr=V,E=V,j[0]=u.coerce(j[0]),typeof j[0]!="string"&&j.unshift("%O");let D=0;j[0]=j[0].replace(/%([a-zA-Z%])/g,(G,ne)=>{if(G==="%%")return"%";D++;let ve=u.formatters[ne];if(typeof ve=="function"){let _e=j[D];G=ve.call(W,_e),j.splice(D,1),D--}return G}),u.formatArgs.call(W,j),(W.log||u.log).apply(W,j)}return U.namespace=S,U.useColors=u.useColors(),U.color=u.selectColor(S),U.extend=s,U.destroy=u.destroy,Object.defineProperty(U,"enabled",{enumerable:!0,configurable:!1,get:()=>M!==null?M:(C!==u.namespaces&&(C=u.namespaces,I=u.enabled(S)),I),set:j=>{M=j}}),typeof u.init=="function"&&u.init(U),U}function s(S,E){let M=u(this.namespace+(typeof E>"u"?":":E)+S);return M.log=this.log,M}function c(S){u.save(S),u.namespaces=S,u.names=[],u.skips=[];let E,M=(typeof S=="string"?S:"").split(/[\s,]+/),C=M.length;for(E=0;E<C;E++)M[E]&&(S=M[E].replace(/\*/g,".*?"),S[0]==="-"?u.skips.push(new RegExp("^"+S.slice(1)+"$")):u.names.push(new RegExp("^"+S+"$")))}function o(){let S=[...u.names.map(g),...u.skips.map(g).map(E=>"-"+E)].join(",");return u.enable(""),S}function h(S){if(S[S.length-1]==="*")return!0;let E,M;for(E=0,M=u.skips.length;E<M;E++)if(u.skips[E].test(S))return!1;for(E=0,M=u.names.length;E<M;E++)if(u.names[E].test(S))return!0;return!1}function g(S){return S.toString().substring(2,S.toString().length-2).replace(/\.\*\?$/,"*")}function v(S){return S instanceof Error?S.stack||S.message:S}function _(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return u.enable(u.load()),u}a.exports=l}),Hr=Pe((r,a)=>{Le(),De(),Ue(),r.formatArgs=f,r.save=p,r.load=u,r.useColors=l,r.storage=s(),r.destroy=(()=>{let o=!1;return()=>{o||(o=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),r.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function l(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof _n<"u"&&_n.userAgent&&_n.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof _n<"u"&&_n.userAgent&&_n.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof _n<"u"&&_n.userAgent&&_n.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function f(o){if(o[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+o[0]+(this.useColors?"%c ":" ")+"+"+a.exports.humanize(this.diff),!this.useColors)return;let h="color: "+this.color;o.splice(1,0,h,"color: inherit");let g=0,v=0;o[0].replace(/%[a-zA-Z%]/g,_=>{_!=="%%"&&(g++,_==="%c"&&(v=g))}),o.splice(v,0,h)}r.log=console.debug||console.log||(()=>{});function p(o){try{o?r.storage.setItem("debug",o):r.storage.removeItem("debug")}catch{}}function u(){let o;try{o=r.storage.getItem("debug")}catch{}return!o&&typeof wt<"u"&&"env"in wt&&(o=wt.env.DEBUG),o}function s(){try{return localStorage}catch{}}a.exports=qw()(r);var{formatters:c}=a.exports;c.j=function(o){try{return JSON.stringify(o)}catch(h){return"[UnexpectedJSONParseError]: "+h.message}}}),Gw=Pe((r,a)=>{Le(),De(),Ue();var l=zw(),{EventEmitter:f}=(Wl(),Nt(rl)),p=Hw(),u=Ey(),s=Hr()("mqtt-packet:parser"),c=class xh extends f{constructor(){super(),this.parser=this.constructor.parser}static parser(h){return this instanceof xh?(this.settings=h||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new xh().parser(h)}_resetState(){s("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new p,this.error=null,this._list=l(),this._stateCounter=0}parse(h){for(this.error&&this._resetState(),this._list.append(h),s("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,s("parse: state complete. _stateCounter is now: %d",this._stateCounter),s("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return s("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let h=this._list.readUInt8(0),g=h>>u.CMD_SHIFT;this.packet.cmd=u.types[g];let v=h&15,_=u.requiredHeaderFlags[g];return _!=null&&v!==_?this._emitError(new Error(u.requiredHeaderFlagsErrors[g])):(this.packet.retain=(h&u.RETAIN_MASK)!==0,this.packet.qos=h>>u.QOS_SHIFT&u.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(h&u.DUP_MASK)!==0,s("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let h=this._parseVarByteNum(!0);return h&&(this.packet.length=h.value,this._list.consume(h.bytes)),s("_parseLength %d",h.value),!!h}_parsePayload(){s("_parsePayload: payload %O",this._list);let h=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}h=!0}return s("_parsePayload complete result: %s",h),h}_parseConnect(){s("_parseConnect");let h,g,v,_,S={},E=this.packet,M=this._parseString();if(M===null)return this._emitError(new Error("Cannot parse protocolId"));if(M!=="MQTT"&&M!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(E.protocolId=M,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(E.protocolVersion=this._list.readUInt8(this._pos),E.protocolVersion>=128&&(E.bridgeMode=!0,E.protocolVersion=E.protocolVersion-128),E.protocolVersion!==3&&E.protocolVersion!==4&&E.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));S.username=this._list.readUInt8(this._pos)&u.USERNAME_MASK,S.password=this._list.readUInt8(this._pos)&u.PASSWORD_MASK,S.will=this._list.readUInt8(this._pos)&u.WILL_FLAG_MASK;let C=!!(this._list.readUInt8(this._pos)&u.WILL_RETAIN_MASK),I=(this._list.readUInt8(this._pos)&u.WILL_QOS_MASK)>>u.WILL_QOS_SHIFT;if(S.will)E.will={},E.will.retain=C,E.will.qos=I;else{if(C)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(I)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(E.clean=(this._list.readUInt8(this._pos)&u.CLEAN_SESSION_MASK)!==0,this._pos++,E.keepalive=this._parseNum(),E.keepalive===-1)return this._emitError(new Error("Packet too short"));if(E.protocolVersion===5){let j=this._parseProperties();Object.getOwnPropertyNames(j).length&&(E.properties=j)}let U=this._parseString();if(U===null)return this._emitError(new Error("Packet too short"));if(E.clientId=U,s("_parseConnect: packet.clientId: %s",E.clientId),S.will){if(E.protocolVersion===5){let j=this._parseProperties();Object.getOwnPropertyNames(j).length&&(E.will.properties=j)}if(h=this._parseString(),h===null)return this._emitError(new Error("Cannot parse will topic"));if(E.will.topic=h,s("_parseConnect: packet.will.topic: %s",E.will.topic),g=this._parseBuffer(),g===null)return this._emitError(new Error("Cannot parse will payload"));E.will.payload=g,s("_parseConnect: packet.will.paylaod: %s",E.will.payload)}if(S.username){if(_=this._parseString(),_===null)return this._emitError(new Error("Cannot parse username"));E.username=_,s("_parseConnect: packet.username: %s",E.username)}if(S.password){if(v=this._parseBuffer(),v===null)return this._emitError(new Error("Cannot parse password"));E.password=v}return this.settings=E,s("_parseConnect: complete"),E}_parseConnack(){s("_parseConnack");let h=this.packet;if(this._list.length<1)return null;let g=this._list.readUInt8(this._pos++);if(g>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(h.sessionPresent=!!(g&u.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?h.reasonCode=this._list.readUInt8(this._pos++):h.reasonCode=0;else{if(this._list.length<2)return null;h.returnCode=this._list.readUInt8(this._pos++)}if(h.returnCode===-1||h.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let v=this._parseProperties();Object.getOwnPropertyNames(v).length&&(h.properties=v)}s("_parseConnack: complete")}_parsePublish(){s("_parsePublish");let h=this.packet;if(h.topic=this._parseString(),h.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(h.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let g=this._parseProperties();Object.getOwnPropertyNames(g).length&&(h.properties=g)}h.payload=this._list.slice(this._pos,h.length),s("_parsePublish: payload from buffer list: %o",h.payload)}}_parseSubscribe(){s("_parseSubscribe");let h=this.packet,g,v,_,S,E,M,C;if(h.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let I=this._parseProperties();Object.getOwnPropertyNames(I).length&&(h.properties=I)}if(h.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<h.length;){if(g=this._parseString(),g===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=h.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(v=this._parseByte(),this.settings.protocolVersion===5){if(v&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(v&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(_=v&u.SUBSCRIBE_OPTIONS_QOS_MASK,_>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(M=(v>>u.SUBSCRIBE_OPTIONS_NL_SHIFT&u.SUBSCRIBE_OPTIONS_NL_MASK)!==0,E=(v>>u.SUBSCRIBE_OPTIONS_RAP_SHIFT&u.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,S=v>>u.SUBSCRIBE_OPTIONS_RH_SHIFT&u.SUBSCRIBE_OPTIONS_RH_MASK,S>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));C={topic:g,qos:_},this.settings.protocolVersion===5?(C.nl=M,C.rap=E,C.rh=S):this.settings.bridgeMode&&(C.rh=0,C.rap=!0,C.nl=!0),s("_parseSubscribe: push subscription `%s` to subscription",C),h.subscriptions.push(C)}}}_parseSuback(){s("_parseSuback");let h=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let g=this._parseProperties();Object.getOwnPropertyNames(g).length&&(h.properties=g)}if(h.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let g=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!u.MQTT5_SUBACK_CODES[g])return this._emitError(new Error("Invalid suback code"))}else if(g>2&&g!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(g)}}}_parseUnsubscribe(){s("_parseUnsubscribe");let h=this.packet;if(h.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let g=this._parseProperties();Object.getOwnPropertyNames(g).length&&(h.properties=g)}if(h.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<h.length;){let g=this._parseString();if(g===null)return this._emitError(new Error("Cannot parse topic"));s("_parseUnsubscribe: push topic `%s` to unsubscriptions",g),h.unsubscriptions.push(g)}}}_parseUnsuback(){s("_parseUnsuback");let h=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&h.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(h.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){let g=this._parseProperties();for(Object.getOwnPropertyNames(g).length&&(h.properties=g),h.granted=[];this._pos<this.packet.length;){let v=this._list.readUInt8(this._pos++);if(!u.MQTT5_UNSUBACK_CODES[v])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(v)}}}_parseConfirmation(){s("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let h=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(h.length>2){switch(h.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!u.MQTT5_PUBACK_PUBREC_CODES[h.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!u.MQTT5_PUBREL_PUBCOMP_CODES[h.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}s("_parseConfirmation: packet.reasonCode `%d`",h.reasonCode)}else h.reasonCode=0;if(h.length>3){let g=this._parseProperties();Object.getOwnPropertyNames(g).length&&(h.properties=g)}}return!0}_parseDisconnect(){let h=this.packet;if(s("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(h.reasonCode=this._parseByte(),u.MQTT5_DISCONNECT_CODES[h.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):h.reasonCode=0;let g=this._parseProperties();Object.getOwnPropertyNames(g).length&&(h.properties=g)}return s("_parseDisconnect result: true"),!0}_parseAuth(){s("_parseAuth");let h=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(h.reasonCode=this._parseByte(),!u.MQTT5_AUTH_CODES[h.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let g=this._parseProperties();return Object.getOwnPropertyNames(g).length&&(h.properties=g),s("_parseAuth: result: true"),!0}_parseMessageId(){let h=this.packet;return h.messageId=this._parseNum(),h.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(s("_parseMessageId: packet.messageId %d",h.messageId),!0)}_parseString(h){let g=this._parseNum(),v=g+this._pos;if(g===-1||v>this._list.length||v>this.packet.length)return null;let _=this._list.toString("utf8",this._pos,v);return this._pos+=g,s("_parseString: result: %s",_),_}_parseStringPair(){return s("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let h=this._parseNum(),g=h+this._pos;if(h===-1||g>this._list.length||g>this.packet.length)return null;let v=this._list.slice(this._pos,g);return this._pos+=h,s("_parseBuffer: result: %o",v),v}_parseNum(){if(this._list.length-this._pos<2)return-1;let h=this._list.readUInt16BE(this._pos);return this._pos+=2,s("_parseNum: result: %s",h),h}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let h=this._list.readUInt32BE(this._pos);return this._pos+=4,s("_parse4ByteNum: result: %s",h),h}_parseVarByteNum(h){s("_parseVarByteNum");let g=4,v=0,_=1,S=0,E=!1,M,C=this._pos?this._pos:0;for(;v<g&&C+v<this._list.length;){if(M=this._list.readUInt8(C+v++),S+=_*(M&u.VARBYTEINT_MASK),_*=128,!(M&u.VARBYTEINT_FIN_MASK)){E=!0;break}if(this._list.length<=v)break}return!E&&v===g&&this._list.length>=v&&this._emitError(new Error("Invalid variable byte integer")),C&&(this._pos+=v),E?h?E={bytes:v,value:S}:E=S:E=!1,s("_parseVarByteNum: result: %o",E),E}_parseByte(){let h;return this._pos<this._list.length&&(h=this._list.readUInt8(this._pos),this._pos++),s("_parseByte: result: %o",h),h}_parseByType(h){switch(s("_parseByType: type: %s",h),h){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){s("_parseProperties");let h=this._parseVarByteNum(),g=this._pos+h,v={};for(;this._pos<g;){let _=this._parseByte();if(!_)return this._emitError(new Error("Cannot parse property code type")),!1;let S=u.propertiesCodes[_];if(!S)return this._emitError(new Error("Unknown property")),!1;if(S==="userProperties"){v[S]||(v[S]=Object.create(null));let E=this._parseByType(u.propertiesTypes[S]);if(v[S][E.name])if(Array.isArray(v[S][E.name]))v[S][E.name].push(E.value);else{let M=v[S][E.name];v[S][E.name]=[M],v[S][E.name].push(E.value)}else v[S][E.name]=E.value;continue}v[S]?Array.isArray(v[S])?v[S].push(this._parseByType(u.propertiesTypes[S])):(v[S]=[v[S]],v[S].push(this._parseByType(u.propertiesTypes[S]))):v[S]=this._parseByType(u.propertiesTypes[S])}return v}_newPacket(){return s("_newPacket"),this.packet&&(this._list.consume(this.packet.length),s("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),s("_newPacket: new packet"),this.packet=new p,this._pos=0,!0}_emitError(h){s("_emitError",h),this.error=h,this.emit("error",h)}};a.exports=c}),Vw=Pe((r,a)=>{Le(),De(),Ue();var{Buffer:l}=(pn(),Nt(dn)),f=65536,p={},u=l.isBuffer(l.from([1,2]).subarray(0,1));function s(g){let v=l.allocUnsafe(2);return v.writeUInt8(g>>8,0),v.writeUInt8(g&255,1),v}function c(){for(let g=0;g<f;g++)p[g]=s(g)}function o(g){let v=0,_=0,S=l.allocUnsafe(4);do v=g%128|0,g=g/128|0,g>0&&(v=v|128),S.writeUInt8(v,_++);while(g>0&&_<4);return g>0&&(_=0),u?S.subarray(0,_):S.slice(0,_)}function h(g){let v=l.allocUnsafe(4);return v.writeUInt32BE(g,0),v}a.exports={cache:p,generateCache:c,generateNumber:s,genBufVariableByteInt:o,generate4ByteBuffer:h}}),Yw=Pe((r,a)=>{Le(),De(),Ue(),typeof wt>"u"||!wt.version||wt.version.indexOf("v0.")===0||wt.version.indexOf("v1.")===0&&wt.version.indexOf("v1.8.")!==0?a.exports={nextTick:l}:a.exports=wt;function l(f,p,u,s){if(typeof f!="function")throw new TypeError('"callback" argument must be a function');var c=arguments.length,o,h;switch(c){case 0:case 1:return wt.nextTick(f);case 2:return wt.nextTick(function(){f.call(null,p)});case 3:return wt.nextTick(function(){f.call(null,p,u)});case 4:return wt.nextTick(function(){f.call(null,p,u,s)});default:for(o=new Array(c-1),h=0;h<o.length;)o[h++]=arguments[h];return wt.nextTick(function(){f.apply(null,o)})}}}),xy=Pe((r,a)=>{Le(),De(),Ue();var l=Ey(),{Buffer:f}=(pn(),Nt(dn)),p=f.allocUnsafe(0),u=f.from([0]),s=Vw(),c=Yw().nextTick,o=Hr()("mqtt-packet:writeToStream"),h=s.cache,g=s.generateNumber,v=s.generateCache,_=s.genBufVariableByteInt,S=s.generate4ByteBuffer,E=ie,M=!0;function C(H,N,fe){switch(o("generate called"),N.cork&&(N.cork(),c(I,N)),M&&(M=!1,v()),o("generate: packet.cmd: %s",H.cmd),H.cmd){case"connect":return U(H,N);case"connack":return j(H,N,fe);case"publish":return W(H,N,fe);case"puback":case"pubrec":case"pubrel":case"pubcomp":return V(H,N,fe);case"subscribe":return L(H,N,fe);case"suback":return D(H,N,fe);case"unsubscribe":return G(H,N,fe);case"unsuback":return ne(H,N,fe);case"pingreq":case"pingresp":return ve(H,N);case"disconnect":return _e(H,N,fe);case"auth":return B(H,N,fe);default:return N.destroy(new Error("Unknown command")),!1}}Object.defineProperty(C,"cacheNumbers",{get(){return E===ie},set(H){H?((!h||Object.keys(h).length===0)&&(M=!0),E=ie):(M=!1,E=$)}});function I(H){H.uncork()}function U(H,N,fe){let Re=H||{},xe=Re.protocolId||"MQTT",Te=Re.protocolVersion||4,Ie=Re.will,je=Re.clean,q=Re.keepalive||0,te=Re.clientId||"",Z=Re.username,Me=Re.password,Ae=Re.properties;je===void 0&&(je=!0);let K=0;if(typeof xe!="string"&&!f.isBuffer(xe))return N.destroy(new Error("Invalid protocolId")),!1;if(K+=xe.length+2,Te!==3&&Te!==4&&Te!==5)return N.destroy(new Error("Invalid protocol version")),!1;if(K+=1,(typeof te=="string"||f.isBuffer(te))&&(te||Te>=4)&&(te||je))K+=f.byteLength(te)+2;else{if(Te<4)return N.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(je*1===0)return N.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof q!="number"||q<0||q>65535||q%1!==0)return N.destroy(new Error("Invalid keepalive")),!1;K+=2,K+=1;let oe,P;if(Te===5){if(oe=ae(N,Ae),!oe)return!1;K+=oe.length}if(Ie){if(typeof Ie!="object")return N.destroy(new Error("Invalid will")),!1;if(!Ie.topic||typeof Ie.topic!="string")return N.destroy(new Error("Invalid will topic")),!1;if(K+=f.byteLength(Ie.topic)+2,K+=2,Ie.payload)if(Ie.payload.length>=0)typeof Ie.payload=="string"?K+=f.byteLength(Ie.payload):K+=Ie.payload.length;else return N.destroy(new Error("Invalid will payload")),!1;if(P={},Te===5){if(P=ae(N,Ie.properties),!P)return!1;K+=P.length}}let J=!1;if(Z!=null)if(ce(Z))J=!0,K+=f.byteLength(Z)+2;else return N.destroy(new Error("Invalid username")),!1;if(Me!=null){if(!J)return N.destroy(new Error("Username is required to use password")),!1;if(ce(Me))K+=ke(Me)+2;else return N.destroy(new Error("Invalid password")),!1}N.write(l.CONNECT_HEADER),we(N,K),k(N,xe),Re.bridgeMode&&(Te+=128),N.write(Te===131?l.VERSION131:Te===132?l.VERSION132:Te===4?l.VERSION4:Te===5?l.VERSION5:l.VERSION3);let se=0;return se|=Z!=null?l.USERNAME_MASK:0,se|=Me!=null?l.PASSWORD_MASK:0,se|=Ie&&Ie.retain?l.WILL_RETAIN_MASK:0,se|=Ie&&Ie.qos?Ie.qos<<l.WILL_QOS_SHIFT:0,se|=Ie?l.WILL_FLAG_MASK:0,se|=je?l.CLEAN_SESSION_MASK:0,N.write(f.from([se])),E(N,q),Te===5&&oe.write(),k(N,te),Ie&&(Te===5&&P.write(),he(N,Ie.topic),k(N,Ie.payload)),Z!=null&&k(N,Z),Me!=null&&k(N,Me),!0}function j(H,N,fe){let Re=fe?fe.protocolVersion:4,xe=H||{},Te=Re===5?xe.reasonCode:xe.returnCode,Ie=xe.properties,je=2;if(typeof Te!="number")return N.destroy(new Error("Invalid return code")),!1;let q=null;if(Re===5){if(q=ae(N,Ie),!q)return!1;je+=q.length}return N.write(l.CONNACK_HEADER),we(N,je),N.write(xe.sessionPresent?l.SESSIONPRESENT_HEADER:u),N.write(f.from([Te])),q==null||q.write(),!0}function W(H,N,fe){o("publish: packet: %o",H);let Re=fe?fe.protocolVersion:4,xe=H||{},Te=xe.qos||0,Ie=xe.retain?l.RETAIN_MASK:0,je=xe.topic,q=xe.payload||p,te=xe.messageId,Z=xe.properties,Me=0;if(typeof je=="string")Me+=f.byteLength(je)+2;else if(f.isBuffer(je))Me+=je.length+2;else return N.destroy(new Error("Invalid topic")),!1;if(f.isBuffer(q)?Me+=q.length:Me+=f.byteLength(q),Te&&typeof te!="number")return N.destroy(new Error("Invalid messageId")),!1;Te&&(Me+=2);let Ae=null;if(Re===5){if(Ae=ae(N,Z),!Ae)return!1;Me+=Ae.length}return N.write(l.PUBLISH_HEADER[Te][xe.dup?1:0][Ie?1:0]),we(N,Me),E(N,ke(je)),N.write(je),Te>0&&E(N,te),Ae==null||Ae.write(),o("publish: payload: %o",q),N.write(q)}function V(H,N,fe){let Re=fe?fe.protocolVersion:4,xe=H||{},Te=xe.cmd||"puback",Ie=xe.messageId,je=xe.dup&&Te==="pubrel"?l.DUP_MASK:0,q=0,te=xe.reasonCode,Z=xe.properties,Me=Re===5?3:2;if(Te==="pubrel"&&(q=1),typeof Ie!="number")return N.destroy(new Error("Invalid messageId")),!1;let Ae=null;if(Re===5&&typeof Z=="object"){if(Ae=T(N,Z,fe,Me),!Ae)return!1;Me+=Ae.length}return N.write(l.ACKS[Te][q][je][0]),Me===3&&(Me+=te!==0?1:-1),we(N,Me),E(N,Ie),Re===5&&Me!==2&&N.write(f.from([te])),Ae!==null?Ae.write():Me===4&&N.write(f.from([0])),!0}function L(H,N,fe){o("subscribe: packet: ");let Re=fe?fe.protocolVersion:4,xe=H||{},Te=xe.dup?l.DUP_MASK:0,Ie=xe.messageId,je=xe.subscriptions,q=xe.properties,te=0;if(typeof Ie!="number")return N.destroy(new Error("Invalid messageId")),!1;te+=2;let Z=null;if(Re===5){if(Z=ae(N,q),!Z)return!1;te+=Z.length}if(typeof je=="object"&&je.length)for(let Ae=0;Ae<je.length;Ae+=1){let K=je[Ae].topic,oe=je[Ae].qos;if(typeof K!="string")return N.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof oe!="number")return N.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(Re===5){if(typeof(je[Ae].nl||!1)!="boolean")return N.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(je[Ae].rap||!1)!="boolean")return N.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let P=je[Ae].rh||0;if(typeof P!="number"||P>2)return N.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}te+=f.byteLength(K)+2+1}else return N.destroy(new Error("Invalid subscriptions")),!1;o("subscribe: writing to stream: %o",l.SUBSCRIBE_HEADER),N.write(l.SUBSCRIBE_HEADER[1][Te?1:0][0]),we(N,te),E(N,Ie),Z!==null&&Z.write();let Me=!0;for(let Ae of je){let K=Ae.topic,oe=Ae.qos,P=+Ae.nl,J=+Ae.rap,se=Ae.rh,me;he(N,K),me=l.SUBSCRIBE_OPTIONS_QOS[oe],Re===5&&(me|=P?l.SUBSCRIBE_OPTIONS_NL:0,me|=J?l.SUBSCRIBE_OPTIONS_RAP:0,me|=se?l.SUBSCRIBE_OPTIONS_RH[se]:0),Me=N.write(f.from([me]))}return Me}function D(H,N,fe){let Re=fe?fe.protocolVersion:4,xe=H||{},Te=xe.messageId,Ie=xe.granted,je=xe.properties,q=0;if(typeof Te!="number")return N.destroy(new Error("Invalid messageId")),!1;if(q+=2,typeof Ie=="object"&&Ie.length)for(let Z=0;Z<Ie.length;Z+=1){if(typeof Ie[Z]!="number")return N.destroy(new Error("Invalid qos vector")),!1;q+=1}else return N.destroy(new Error("Invalid qos vector")),!1;let te=null;if(Re===5){if(te=T(N,je,fe,q),!te)return!1;q+=te.length}return N.write(l.SUBACK_HEADER),we(N,q),E(N,Te),te!==null&&te.write(),N.write(f.from(Ie))}function G(H,N,fe){let Re=fe?fe.protocolVersion:4,xe=H||{},Te=xe.messageId,Ie=xe.dup?l.DUP_MASK:0,je=xe.unsubscriptions,q=xe.properties,te=0;if(typeof Te!="number")return N.destroy(new Error("Invalid messageId")),!1;if(te+=2,typeof je=="object"&&je.length)for(let Ae=0;Ae<je.length;Ae+=1){if(typeof je[Ae]!="string")return N.destroy(new Error("Invalid unsubscriptions")),!1;te+=f.byteLength(je[Ae])+2}else return N.destroy(new Error("Invalid unsubscriptions")),!1;let Z=null;if(Re===5){if(Z=ae(N,q),!Z)return!1;te+=Z.length}N.write(l.UNSUBSCRIBE_HEADER[1][Ie?1:0][0]),we(N,te),E(N,Te),Z!==null&&Z.write();let Me=!0;for(let Ae=0;Ae<je.length;Ae++)Me=he(N,je[Ae]);return Me}function ne(H,N,fe){let Re=fe?fe.protocolVersion:4,xe=H||{},Te=xe.messageId,Ie=xe.dup?l.DUP_MASK:0,je=xe.granted,q=xe.properties,te=xe.cmd,Z=0,Me=2;if(typeof Te!="number")return N.destroy(new Error("Invalid messageId")),!1;if(Re===5)if(typeof je=="object"&&je.length)for(let K=0;K<je.length;K+=1){if(typeof je[K]!="number")return N.destroy(new Error("Invalid qos vector")),!1;Me+=1}else return N.destroy(new Error("Invalid qos vector")),!1;let Ae=null;if(Re===5){if(Ae=T(N,q,fe,Me),!Ae)return!1;Me+=Ae.length}return N.write(l.ACKS[te][Z][Ie][0]),we(N,Me),E(N,Te),Ae!==null&&Ae.write(),Re===5&&N.write(f.from(je)),!0}function ve(H,N,fe){return N.write(l.EMPTY[H.cmd])}function _e(H,N,fe){let Re=fe?fe.protocolVersion:4,xe=H||{},Te=xe.reasonCode,Ie=xe.properties,je=Re===5?1:0,q=null;if(Re===5){if(q=T(N,Ie,fe,je),!q)return!1;je+=q.length}return N.write(f.from([l.codes.disconnect<<4])),we(N,je),Re===5&&N.write(f.from([Te])),q!==null&&q.write(),!0}function B(H,N,fe){let Re=fe?fe.protocolVersion:4,xe=H||{},Te=xe.reasonCode,Ie=xe.properties,je=Re===5?1:0;Re!==5&&N.destroy(new Error("Invalid mqtt version for auth packet"));let q=T(N,Ie,fe,je);return q?(je+=q.length,N.write(f.from([l.codes.auth<<4])),we(N,je),N.write(f.from([Te])),q!==null&&q.write(),!0):!1}var le={};function we(H,N){if(N>l.VARBYTEINT_MAX)return H.destroy(new Error(`Invalid variable byte integer: ${N}`)),!1;let fe=le[N];return fe||(fe=_(N),N<16384&&(le[N]=fe)),o("writeVarByteInt: writing to stream: %o",fe),H.write(fe)}function he(H,N){let fe=f.byteLength(N);return E(H,fe),o("writeString: %s",N),H.write(N,"utf8")}function X(H,N,fe){he(H,N),he(H,fe)}function ie(H,N){return o("writeNumberCached: number: %d",N),o("writeNumberCached: %o",h[N]),H.write(h[N])}function $(H,N){let fe=g(N);return o("writeNumberGenerated: %o",fe),H.write(fe)}function Oe(H,N){let fe=S(N);return o("write4ByteNumber: %o",fe),H.write(fe)}function k(H,N){typeof N=="string"?he(H,N):N?(E(H,N.length),H.write(N)):E(H,0)}function ae(H,N){if(typeof N!="object"||N.length!=null)return{length:1,write(){de(H,{},0)}};let fe=0;function Re(xe,Te){let Ie=l.propertiesTypes[xe],je=0;switch(Ie){case"byte":{if(typeof Te!="boolean")return H.destroy(new Error(`Invalid ${xe}: ${Te}`)),!1;je+=2;break}case"int8":{if(typeof Te!="number"||Te<0||Te>255)return H.destroy(new Error(`Invalid ${xe}: ${Te}`)),!1;je+=2;break}case"binary":{if(Te&&Te===null)return H.destroy(new Error(`Invalid ${xe}: ${Te}`)),!1;je+=1+f.byteLength(Te)+2;break}case"int16":{if(typeof Te!="number"||Te<0||Te>65535)return H.destroy(new Error(`Invalid ${xe}: ${Te}`)),!1;je+=3;break}case"int32":{if(typeof Te!="number"||Te<0||Te>4294967295)return H.destroy(new Error(`Invalid ${xe}: ${Te}`)),!1;je+=5;break}case"var":{if(typeof Te!="number"||Te<0||Te>268435455)return H.destroy(new Error(`Invalid ${xe}: ${Te}`)),!1;je+=1+f.byteLength(_(Te));break}case"string":{if(typeof Te!="string")return H.destroy(new Error(`Invalid ${xe}: ${Te}`)),!1;je+=3+f.byteLength(Te.toString());break}case"pair":{if(typeof Te!="object")return H.destroy(new Error(`Invalid ${xe}: ${Te}`)),!1;je+=Object.getOwnPropertyNames(Te).reduce((q,te)=>{let Z=Te[te];return Array.isArray(Z)?q+=Z.reduce((Me,Ae)=>(Me+=3+f.byteLength(te.toString())+2+f.byteLength(Ae.toString()),Me),0):q+=3+f.byteLength(te.toString())+2+f.byteLength(Te[te].toString()),q},0);break}default:return H.destroy(new Error(`Invalid property ${xe}: ${Te}`)),!1}return je}if(N)for(let xe in N){let Te=0,Ie=0,je=N[xe];if(Array.isArray(je))for(let q=0;q<je.length;q++){if(Ie=Re(xe,je[q]),!Ie)return!1;Te+=Ie}else{if(Ie=Re(xe,je),!Ie)return!1;Te=Ie}if(!Te)return!1;fe+=Te}return{length:f.byteLength(_(fe))+fe,write(){de(H,N,fe)}}}function T(H,N,fe,Re){let xe=["reasonString","userProperties"],Te=fe&&fe.properties&&fe.properties.maximumPacketSize?fe.properties.maximumPacketSize:0,Ie=ae(H,N);if(Te)for(;Re+Ie.length>Te;){let je=xe.shift();if(je&&N[je])delete N[je],Ie=ae(H,N);else return!1}return Ie}function F(H,N,fe){switch(l.propertiesTypes[N]){case"byte":{H.write(f.from([l.properties[N]])),H.write(f.from([+fe]));break}case"int8":{H.write(f.from([l.properties[N]])),H.write(f.from([fe]));break}case"binary":{H.write(f.from([l.properties[N]])),k(H,fe);break}case"int16":{H.write(f.from([l.properties[N]])),E(H,fe);break}case"int32":{H.write(f.from([l.properties[N]])),Oe(H,fe);break}case"var":{H.write(f.from([l.properties[N]])),we(H,fe);break}case"string":{H.write(f.from([l.properties[N]])),he(H,fe);break}case"pair":{Object.getOwnPropertyNames(fe).forEach(Re=>{let xe=fe[Re];Array.isArray(xe)?xe.forEach(Te=>{H.write(f.from([l.properties[N]])),X(H,Re.toString(),Te.toString())}):(H.write(f.from([l.properties[N]])),X(H,Re.toString(),xe.toString()))});break}default:return H.destroy(new Error(`Invalid property ${N} value: ${fe}`)),!1}}function de(H,N,fe){we(H,fe);for(let Re in N)if(Object.prototype.hasOwnProperty.call(N,Re)&&N[Re]!==null){let xe=N[Re];if(Array.isArray(xe))for(let Te=0;Te<xe.length;Te++)F(H,Re,xe[Te]);else F(H,Re,xe)}}function ke(H){return H?H instanceof f?H.length:f.byteLength(H):0}function ce(H){return typeof H=="string"||H instanceof f}a.exports=C}),Ww=Pe((r,a)=>{Le(),De(),Ue();var l=xy(),{EventEmitter:f}=(Wl(),Nt(rl)),{Buffer:p}=(pn(),Nt(dn));function u(c,o){let h=new s;return l(c,h,o),h.concat()}var s=class extends f{constructor(){super(),this._array=new Array(20),this._i=0}write(c){return this._array[this._i++]=c,!0}concat(){let c=0,o=new Array(this._array.length),h=this._array,g=0,v;for(v=0;v<h.length&&h[v]!==void 0;v++)typeof h[v]!="string"?o[v]=h[v].length:o[v]=p.byteLength(h[v]),c+=o[v];let _=p.allocUnsafe(c);for(v=0;v<h.length&&h[v]!==void 0;v++)typeof h[v]!="string"?(h[v].copy(_,g),g+=o[v]):(_.write(h[v],g),g+=o[v]);return _}destroy(c){c&&this.emit("error",c)}};a.exports=u}),Qw=Pe(r=>{Le(),De(),Ue(),r.parser=Gw().parser,r.generate=Ww(),r.writeToStream=xy()}),Ay=Pe(r=>{Le(),De(),Ue(),Object.defineProperty(r,"__esModule",{value:!0});var a=class{constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535))}allocate(){let l=this.nextId++;return this.nextId===65536&&(this.nextId=1),l}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(l){return!0}deallocate(l){}clear(){}};r.default=a}),Xw=Pe((r,a)=>{Le(),De(),Ue(),a.exports=f;function l(u){return u instanceof Ms?Ms.from(u):new u.constructor(u.buffer.slice(),u.byteOffset,u.length)}function f(u){if(u=u||{},u.circles)return p(u);return u.proto?o:c;function s(h,g){for(var v=Object.keys(h),_=new Array(v.length),S=0;S<v.length;S++){var E=v[S],M=h[E];typeof M!="object"||M===null?_[E]=M:M instanceof Date?_[E]=new Date(M):ArrayBuffer.isView(M)?_[E]=l(M):_[E]=g(M)}return _}function c(h){if(typeof h!="object"||h===null)return h;if(h instanceof Date)return new Date(h);if(Array.isArray(h))return s(h,c);if(h instanceof Map)return new Map(s(Array.from(h),c));if(h instanceof Set)return new Set(s(Array.from(h),c));var g={};for(var v in h)if(Object.hasOwnProperty.call(h,v)!==!1){var _=h[v];typeof _!="object"||_===null?g[v]=_:_ instanceof Date?g[v]=new Date(_):_ instanceof Map?g[v]=new Map(s(Array.from(_),c)):_ instanceof Set?g[v]=new Set(s(Array.from(_),c)):ArrayBuffer.isView(_)?g[v]=l(_):g[v]=c(_)}return g}function o(h){if(typeof h!="object"||h===null)return h;if(h instanceof Date)return new Date(h);if(Array.isArray(h))return s(h,o);if(h instanceof Map)return new Map(s(Array.from(h),o));if(h instanceof Set)return new Set(s(Array.from(h),o));var g={};for(var v in h){var _=h[v];typeof _!="object"||_===null?g[v]=_:_ instanceof Date?g[v]=new Date(_):_ instanceof Map?g[v]=new Map(s(Array.from(_),o)):_ instanceof Set?g[v]=new Set(s(Array.from(_),o)):ArrayBuffer.isView(_)?g[v]=l(_):g[v]=o(_)}return g}}function p(u){var s=[],c=[];return u.proto?g:h;function o(v,_){for(var S=Object.keys(v),E=new Array(S.length),M=0;M<S.length;M++){var C=S[M],I=v[C];if(typeof I!="object"||I===null)E[C]=I;else if(I instanceof Date)E[C]=new Date(I);else if(ArrayBuffer.isView(I))E[C]=l(I);else{var U=s.indexOf(I);U!==-1?E[C]=c[U]:E[C]=_(I)}}return E}function h(v){if(typeof v!="object"||v===null)return v;if(v instanceof Date)return new Date(v);if(Array.isArray(v))return o(v,h);if(v instanceof Map)return new Map(o(Array.from(v),h));if(v instanceof Set)return new Set(o(Array.from(v),h));var _={};s.push(v),c.push(_);for(var S in v)if(Object.hasOwnProperty.call(v,S)!==!1){var E=v[S];if(typeof E!="object"||E===null)_[S]=E;else if(E instanceof Date)_[S]=new Date(E);else if(E instanceof Map)_[S]=new Map(o(Array.from(E),h));else if(E instanceof Set)_[S]=new Set(o(Array.from(E),h));else if(ArrayBuffer.isView(E))_[S]=l(E);else{var M=s.indexOf(E);M!==-1?_[S]=c[M]:_[S]=h(E)}}return s.pop(),c.pop(),_}function g(v){if(typeof v!="object"||v===null)return v;if(v instanceof Date)return new Date(v);if(Array.isArray(v))return o(v,g);if(v instanceof Map)return new Map(o(Array.from(v),g));if(v instanceof Set)return new Set(o(Array.from(v),g));var _={};s.push(v),c.push(_);for(var S in v){var E=v[S];if(typeof E!="object"||E===null)_[S]=E;else if(E instanceof Date)_[S]=new Date(E);else if(E instanceof Map)_[S]=new Map(o(Array.from(E),g));else if(E instanceof Set)_[S]=new Set(o(Array.from(E),g));else if(ArrayBuffer.isView(E))_[S]=l(E);else{var M=s.indexOf(E);M!==-1?_[S]=c[M]:_[S]=g(E)}}return s.pop(),c.pop(),_}}}),Kw=Pe((r,a)=>{Le(),De(),Ue(),a.exports=Xw()()}),$w=Pe(r=>{Le(),De(),Ue(),Object.defineProperty(r,"__esModule",{value:!0}),r.validateTopics=r.validateTopic=void 0;function a(f){let p=f.split("/");for(let u=0;u<p.length;u++)if(p[u]!=="+"){if(p[u]==="#")return u===p.length-1;if(p[u].indexOf("+")!==-1||p[u].indexOf("#")!==-1)return!1}return!0}r.validateTopic=a;function l(f){if(f.length===0)return"empty_topic_list";for(let p=0;p<f.length;p++)if(!a(f[p]))return f[p];return null}r.validateTopics=l}),Ty=Pe(r=>{Le(),De(),Ue(),Object.defineProperty(r,"__esModule",{value:!0});var a=il(),l={objectMode:!0},f={clean:!0},p=class{constructor(u){this.options=u||{},this.options=Object.assign(Object.assign({},f),u),this._inflights=new Map}put(u,s){return this._inflights.set(u.messageId,u),s&&s(),this}createStream(){let u=new a.Readable(l),s=[],c=!1,o=0;return this._inflights.forEach((h,g)=>{s.push(h)}),u._read=()=>{!c&&o<s.length?u.push(s[o++]):u.push(null)},u.destroy=h=>{if(!c)return c=!0,setTimeout(()=>{u.emit("close")},0),u},u}del(u,s){let c=this._inflights.get(u.messageId);return c?(this._inflights.delete(u.messageId),s(null,c)):s&&s(new Error("missing packet")),this}get(u,s){let c=this._inflights.get(u.messageId);return c?s(null,c):s&&s(new Error("missing packet")),this}close(u){this.options.clean&&(this._inflights=null),u&&u()}};r.default=p}),Fw=Pe(r=>{Le(),De(),Ue(),Object.defineProperty(r,"__esModule",{value:!0});var a=[0,16,128,131,135,144,145,151,153],l=(f,p,u)=>{f.log("handlePublish: packet %o",p),u=typeof u<"u"?u:f.noop;let s=p.topic.toString(),c=p.payload,{qos:o}=p,{messageId:h}=p,{options:g}=f;if(f.options.protocolVersion===5){let v;if(p.properties&&(v=p.properties.topicAlias),typeof v<"u")if(s.length===0)if(v>0&&v<=65535){let _=f.topicAliasRecv.getTopicByAlias(v);if(_)s=_,f.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",s,v);else{f.log("handlePublish :: unregistered topic alias. alias: %d",v),f.emit("error",new Error("Received unregistered Topic Alias"));return}}else{f.log("handlePublish :: topic alias out of range. alias: %d",v),f.emit("error",new Error("Received Topic Alias is out of range"));return}else if(f.topicAliasRecv.put(s,v))f.log("handlePublish :: registered topic: %s - alias: %d",s,v);else{f.log("handlePublish :: topic alias out of range. alias: %d",v),f.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(f.log("handlePublish: qos %d",o),o){case 2:{g.customHandleAcks(s,c,p,(v,_)=>{if(typeof v=="number"&&(_=v,v=null),v)return f.emit("error",v);if(a.indexOf(_)===-1)return f.emit("error",new Error("Wrong reason code for pubrec"));_?f._sendPacket({cmd:"pubrec",messageId:h,reasonCode:_},u):f.incomingStore.put(p,()=>{f._sendPacket({cmd:"pubrec",messageId:h},u)})});break}case 1:{g.customHandleAcks(s,c,p,(v,_)=>{if(typeof v=="number"&&(_=v,v=null),v)return f.emit("error",v);if(a.indexOf(_)===-1)return f.emit("error",new Error("Wrong reason code for puback"));_||f.emit("message",s,c,p),f.handleMessage(p,S=>{if(S)return u&&u(S);f._sendPacket({cmd:"puback",messageId:h,reasonCode:_},u)})});break}case 0:f.emit("message",s,c,p),f.handleMessage(p,u);break;default:f.log("handlePublish: unknown QoS. Doing nothing.");break}};r.default=l}),Zw=Pe((r,a)=>{a.exports={version:"5.7.3"}}),Za=Pe(r=>{Le(),De(),Ue(),Object.defineProperty(r,"__esModule",{value:!0}),r.MQTTJS_VERSION=r.nextTick=r.applyMixin=r.ErrorWithReasonCode=void 0;var a=class My extends Error{constructor(p,u){super(p),this.code=u,Object.setPrototypeOf(this,My.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}};r.ErrorWithReasonCode=a;function l(f,p,u=!1){var s;let c=[p];for(;;){let o=c[0],h=Object.getPrototypeOf(o);if(h!=null&&h.prototype)c.unshift(h);else break}for(let o of c)for(let h of Object.getOwnPropertyNames(o.prototype))(u||h!=="constructor")&&Object.defineProperty(f.prototype,h,(s=Object.getOwnPropertyDescriptor(o.prototype,h))!==null&&s!==void 0?s:Object.create(null))}r.applyMixin=l,r.nextTick=typeof(wt==null?void 0:wt.nextTick)=="function"?wt.nextTick:f=>{setTimeout(f,0)},r.MQTTJS_VERSION=Zw().version}),Ds=Pe(r=>{Le(),De(),Ue(),Object.defineProperty(r,"__esModule",{value:!0}),r.ReasonCodes=void 0,r.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};var a=(l,f)=>{let{messageId:p}=f,u=f.cmd,s=null,c=l.outgoing[p]?l.outgoing[p].cb:null,o=null;if(!c){l.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(l.log("_handleAck :: packet type",u),u){case"pubcomp":case"puback":{let h=f.reasonCode;h&&h>0&&h!==16?(o=new Error(`Publish error: ${r.ReasonCodes[h]}`),o.code=h,l._removeOutgoingAndStoreMessage(p,()=>{c(o,f)})):l._removeOutgoingAndStoreMessage(p,c);break}case"pubrec":{s={cmd:"pubrel",qos:2,messageId:p};let h=f.reasonCode;h&&h>0&&h!==16?(o=new Error(`Publish error: ${r.ReasonCodes[h]}`),o.code=h,l._removeOutgoingAndStoreMessage(p,()=>{c(o,f)})):l._sendPacket(s);break}case"suback":{delete l.outgoing[p],l.messageIdProvider.deallocate(p);let h=f.granted;for(let g=0;g<h.length;g++){let v=h[g];if(v&128){o=new Error(`Subscribe error: ${r.ReasonCodes[v]}`),o.code=v;let _=l.messageIdToTopic[p];_&&_.forEach(S=>{delete l._resubscribeTopics[S]})}}delete l.messageIdToTopic[p],l._invokeStoreProcessingQueue(),c(o,f);break}case"unsuback":{delete l.outgoing[p],l.messageIdProvider.deallocate(p),l._invokeStoreProcessingQueue(),c(null);break}default:l.emit("error",new Error("unrecognized packet type"))}l.disconnecting&&Object.keys(l.outgoing).length===0&&l.emit("outgoingEmpty")};r.default=a}),Jw=Pe(r=>{Le(),De(),Ue(),Object.defineProperty(r,"__esModule",{value:!0});var a=Za(),l=Ds(),f=(p,u)=>{let{options:s}=p,c=s.protocolVersion,o=c===5?u.reasonCode:u.returnCode;if(c!==5){let h=new a.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${c}`,o);p.emit("error",h);return}p.handleAuth(u,(h,g)=>{if(h){p.emit("error",h);return}if(o===24)p.reconnecting=!1,p._sendPacket(g);else{let v=new a.ErrorWithReasonCode(`Connection refused: ${l.ReasonCodes[o]}`,o);p.emit("error",v)}})};r.default=f}),e_=Pe(r=>{var S,E,M,C,I,U,j,W,V,L,D,G,ne,ve,_e,B,le,we,he,X,ie,$,Oe,k,ae,T,Ah,de,ke,ce,H,Oy,fe,Re,xe,bi,vi,Th,Ss,Es,Lt,Mh,Ka,K;Le(),De(),Ue(),Object.defineProperty(r,"__esModule",{value:!0}),r.LRUCache=void 0;var a=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,l=new Set,f=typeof wt=="object"&&wt?wt:{},p=(oe,P,J,se)=>{typeof f.emitWarning=="function"?f.emitWarning(oe,P,J,se):console.error(`[${J}] ${P}: ${oe}`)},u=globalThis.AbortController,s=globalThis.AbortSignal;if(typeof u>"u"){s=class{constructor(){qt(this,"onabort");qt(this,"_onabort",[]);qt(this,"reason");qt(this,"aborted",!1)}addEventListener(J,se){this._onabort.push(se)}},u=class{constructor(){qt(this,"signal",new s);P()}abort(J){var se,me;if(!this.signal.aborted){this.signal.reason=J,this.signal.aborted=!0;for(let b of this.signal._onabort)b(J);(me=(se=this.signal).onabort)==null||me.call(se,J)}}};let oe=((S=f.env)==null?void 0:S.LRU_CACHE_IGNORE_AC_WARNING)!=="1",P=()=>{oe&&(oe=!1,p("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",P))}}var c=oe=>!l.has(oe),o=oe=>oe&&oe===Math.floor(oe)&&oe>0&&isFinite(oe),h=oe=>o(oe)?oe<=Math.pow(2,8)?Uint8Array:oe<=Math.pow(2,16)?Uint16Array:oe<=Math.pow(2,32)?Uint32Array:oe<=Number.MAX_SAFE_INTEGER?g:null:null,g=class extends Array{constructor(oe){super(oe),this.fill(0)}},v=(E=class{constructor(P,J){qt(this,"heap");qt(this,"length");if(!Y(E,M))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new J(P),this.length=0}static create(P){let J=h(P);if(!J)return[];rt(E,M,!0);let se=new E(P,J);return rt(E,M,!1),se}push(P){this.heap[this.length++]=P}pop(){return this.heap[--this.length]}},M=new WeakMap,mt(E,M,!1),E),_=(K=class{constructor(P){mt(this,T);mt(this,C);mt(this,I);mt(this,U);mt(this,j);mt(this,W);qt(this,"ttl");qt(this,"ttlResolution");qt(this,"ttlAutopurge");qt(this,"updateAgeOnGet");qt(this,"updateAgeOnHas");qt(this,"allowStale");qt(this,"noDisposeOnSet");qt(this,"noUpdateTTL");qt(this,"maxEntrySize");qt(this,"sizeCalculation");qt(this,"noDeleteOnFetchRejection");qt(this,"noDeleteOnStaleGet");qt(this,"allowStaleOnFetchAbort");qt(this,"allowStaleOnFetchRejection");qt(this,"ignoreFetchAbort");mt(this,V);mt(this,L);mt(this,D);mt(this,G);mt(this,ne);mt(this,ve);mt(this,_e);mt(this,B);mt(this,le);mt(this,we);mt(this,he);mt(this,X);mt(this,ie);mt(this,$);mt(this,Oe);mt(this,k);mt(this,ae);mt(this,de,()=>{});mt(this,ke,()=>{});mt(this,ce,()=>{});mt(this,H,()=>!1);mt(this,fe,P=>{});mt(this,Re,(P,J,se)=>{});mt(this,xe,(P,J,se,me)=>{if(se||me)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});let{max:J=0,ttl:se,ttlResolution:me=1,ttlAutopurge:b,updateAgeOnGet:m,updateAgeOnHas:w,allowStale:O,dispose:z,disposeAfter:ee,noDisposeOnSet:Ee,noUpdateTTL:Ge,maxSize:Ye=0,maxEntrySize:$e=0,sizeCalculation:Ve,fetchMethod:et,noDeleteOnFetchRejection:Fe,noDeleteOnStaleGet:bt,allowStaleOnFetchRejection:Ht,allowStaleOnFetchAbort:Rt,ignoreFetchAbort:Bt}=P;if(J!==0&&!o(J))throw new TypeError("max option must be a nonnegative integer");let Ft=J?h(J):Array;if(!Ft)throw new Error("invalid max value: "+J);if(rt(this,C,J),rt(this,I,Ye),this.maxEntrySize=$e||Y(this,I),this.sizeCalculation=Ve,this.sizeCalculation){if(!Y(this,I)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(et!==void 0&&typeof et!="function")throw new TypeError("fetchMethod must be a function if specified");if(rt(this,W,et),rt(this,k,!!et),rt(this,D,new Map),rt(this,G,new Array(J).fill(void 0)),rt(this,ne,new Array(J).fill(void 0)),rt(this,ve,new Ft(J)),rt(this,_e,new Ft(J)),rt(this,B,0),rt(this,le,0),rt(this,we,v.create(J)),rt(this,V,0),rt(this,L,0),typeof z=="function"&&rt(this,U,z),typeof ee=="function"?(rt(this,j,ee),rt(this,he,[])):(rt(this,j,void 0),rt(this,he,void 0)),rt(this,Oe,!!Y(this,U)),rt(this,ae,!!Y(this,j)),this.noDisposeOnSet=!!Ee,this.noUpdateTTL=!!Ge,this.noDeleteOnFetchRejection=!!Fe,this.allowStaleOnFetchRejection=!!Ht,this.allowStaleOnFetchAbort=!!Rt,this.ignoreFetchAbort=!!Bt,this.maxEntrySize!==0){if(Y(this,I)!==0&&!o(Y(this,I)))throw new TypeError("maxSize must be a positive integer if specified");if(!o(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");Ze(this,T,Oy).call(this)}if(this.allowStale=!!O,this.noDeleteOnStaleGet=!!bt,this.updateAgeOnGet=!!m,this.updateAgeOnHas=!!w,this.ttlResolution=o(me)||me===0?me:1,this.ttlAutopurge=!!b,this.ttl=se||0,this.ttl){if(!o(this.ttl))throw new TypeError("ttl must be a positive integer if specified");Ze(this,T,Ah).call(this)}if(Y(this,C)===0&&this.ttl===0&&Y(this,I)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!Y(this,C)&&!Y(this,I)){let Ut="LRU_CACHE_UNBOUNDED";c(Ut)&&(l.add(Ut),p("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",Ut,K))}}static unsafeExposeInternals(P){return{starts:Y(P,ie),ttls:Y(P,$),sizes:Y(P,X),keyMap:Y(P,D),keyList:Y(P,G),valList:Y(P,ne),next:Y(P,ve),prev:Y(P,_e),get head(){return Y(P,B)},get tail(){return Y(P,le)},free:Y(P,we),isBackgroundFetch:J=>{var se;return Ze(se=P,T,Lt).call(se,J)},backgroundFetch:(J,se,me,b)=>{var m;return Ze(m=P,T,Es).call(m,J,se,me,b)},moveToTail:J=>{var se;return Ze(se=P,T,Ka).call(se,J)},indexes:J=>{var se;return Ze(se=P,T,bi).call(se,J)},rindexes:J=>{var se;return Ze(se=P,T,vi).call(se,J)},isStale:J=>{var se;return Y(se=P,H).call(se,J)}}}get max(){return Y(this,C)}get maxSize(){return Y(this,I)}get calculatedSize(){return Y(this,L)}get size(){return Y(this,V)}get fetchMethod(){return Y(this,W)}get dispose(){return Y(this,U)}get disposeAfter(){return Y(this,j)}getRemainingTTL(P){return Y(this,D).has(P)?1/0:0}*entries(){for(let P of Ze(this,T,bi).call(this))Y(this,ne)[P]!==void 0&&Y(this,G)[P]!==void 0&&!Ze(this,T,Lt).call(this,Y(this,ne)[P])&&(yield[Y(this,G)[P],Y(this,ne)[P]])}*rentries(){for(let P of Ze(this,T,vi).call(this))Y(this,ne)[P]!==void 0&&Y(this,G)[P]!==void 0&&!Ze(this,T,Lt).call(this,Y(this,ne)[P])&&(yield[Y(this,G)[P],Y(this,ne)[P]])}*keys(){for(let P of Ze(this,T,bi).call(this)){let J=Y(this,G)[P];J!==void 0&&!Ze(this,T,Lt).call(this,Y(this,ne)[P])&&(yield J)}}*rkeys(){for(let P of Ze(this,T,vi).call(this)){let J=Y(this,G)[P];J!==void 0&&!Ze(this,T,Lt).call(this,Y(this,ne)[P])&&(yield J)}}*values(){for(let P of Ze(this,T,bi).call(this))Y(this,ne)[P]!==void 0&&!Ze(this,T,Lt).call(this,Y(this,ne)[P])&&(yield Y(this,ne)[P])}*rvalues(){for(let P of Ze(this,T,vi).call(this))Y(this,ne)[P]!==void 0&&!Ze(this,T,Lt).call(this,Y(this,ne)[P])&&(yield Y(this,ne)[P])}[Symbol.iterator](){return this.entries()}find(P,J={}){for(let se of Ze(this,T,bi).call(this)){let me=Y(this,ne)[se],b=Ze(this,T,Lt).call(this,me)?me.__staleWhileFetching:me;if(b!==void 0&&P(b,Y(this,G)[se],this))return this.get(Y(this,G)[se],J)}}forEach(P,J=this){for(let se of Ze(this,T,bi).call(this)){let me=Y(this,ne)[se],b=Ze(this,T,Lt).call(this,me)?me.__staleWhileFetching:me;b!==void 0&&P.call(J,b,Y(this,G)[se],this)}}rforEach(P,J=this){for(let se of Ze(this,T,vi).call(this)){let me=Y(this,ne)[se],b=Ze(this,T,Lt).call(this,me)?me.__staleWhileFetching:me;b!==void 0&&P.call(J,b,Y(this,G)[se],this)}}purgeStale(){let P=!1;for(let J of Ze(this,T,vi).call(this,{allowStale:!0}))Y(this,H).call(this,J)&&(this.delete(Y(this,G)[J]),P=!0);return P}dump(){let P=[];for(let J of Ze(this,T,bi).call(this,{allowStale:!0})){let se=Y(this,G)[J],me=Y(this,ne)[J],b=Ze(this,T,Lt).call(this,me)?me.__staleWhileFetching:me;if(b===void 0||se===void 0)continue;let m={value:b};if(Y(this,$)&&Y(this,ie)){m.ttl=Y(this,$)[J];let w=a.now()-Y(this,ie)[J];m.start=Math.floor(Date.now()-w)}Y(this,X)&&(m.size=Y(this,X)[J]),P.unshift([se,m])}return P}load(P){this.clear();for(let[J,se]of P){if(se.start){let me=Date.now()-se.start;se.start=a.now()-me}this.set(J,se.value,se)}}set(P,J,se={}){var Ge,Ye,$e,Ve,et;if(J===void 0)return this.delete(P),this;let{ttl:me=this.ttl,start:b,noDisposeOnSet:m=this.noDisposeOnSet,sizeCalculation:w=this.sizeCalculation,status:O}=se,{noUpdateTTL:z=this.noUpdateTTL}=se,ee=Y(this,xe).call(this,P,J,se.size||0,w);if(this.maxEntrySize&&ee>this.maxEntrySize)return O&&(O.set="miss",O.maxEntrySizeExceeded=!0),this.delete(P),this;let Ee=Y(this,V)===0?void 0:Y(this,D).get(P);if(Ee===void 0)Ee=Y(this,V)===0?Y(this,le):Y(this,we).length!==0?Y(this,we).pop():Y(this,V)===Y(this,C)?Ze(this,T,Ss).call(this,!1):Y(this,V),Y(this,G)[Ee]=P,Y(this,ne)[Ee]=J,Y(this,D).set(P,Ee),Y(this,ve)[Y(this,le)]=Ee,Y(this,_e)[Ee]=Y(this,le),rt(this,le,Ee),hs(this,V)._++,Y(this,Re).call(this,Ee,ee,O),O&&(O.set="add"),z=!1;else{Ze(this,T,Ka).call(this,Ee);let Fe=Y(this,ne)[Ee];if(J!==Fe){if(Y(this,k)&&Ze(this,T,Lt).call(this,Fe)){Fe.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:bt}=Fe;bt!==void 0&&!m&&(Y(this,Oe)&&((Ge=Y(this,U))==null||Ge.call(this,bt,P,"set")),Y(this,ae)&&((Ye=Y(this,he))==null||Ye.push([bt,P,"set"])))}else m||(Y(this,Oe)&&(($e=Y(this,U))==null||$e.call(this,Fe,P,"set")),Y(this,ae)&&((Ve=Y(this,he))==null||Ve.push([Fe,P,"set"])));if(Y(this,fe).call(this,Ee),Y(this,Re).call(this,Ee,ee,O),Y(this,ne)[Ee]=J,O){O.set="replace";let bt=Fe&&Ze(this,T,Lt).call(this,Fe)?Fe.__staleWhileFetching:Fe;bt!==void 0&&(O.oldValue=bt)}}else O&&(O.set="update")}if(me!==0&&!Y(this,$)&&Ze(this,T,Ah).call(this),Y(this,$)&&(z||Y(this,ce).call(this,Ee,me,b),O&&Y(this,ke).call(this,O,Ee)),!m&&Y(this,ae)&&Y(this,he)){let Fe=Y(this,he),bt;for(;bt=Fe==null?void 0:Fe.shift();)(et=Y(this,j))==null||et.call(this,...bt)}return this}pop(){var P;try{for(;Y(this,V);){let J=Y(this,ne)[Y(this,B)];if(Ze(this,T,Ss).call(this,!0),Ze(this,T,Lt).call(this,J)){if(J.__staleWhileFetching)return J.__staleWhileFetching}else if(J!==void 0)return J}}finally{if(Y(this,ae)&&Y(this,he)){let J=Y(this,he),se;for(;se=J==null?void 0:J.shift();)(P=Y(this,j))==null||P.call(this,...se)}}}has(P,J={}){let{updateAgeOnHas:se=this.updateAgeOnHas,status:me}=J,b=Y(this,D).get(P);if(b!==void 0){let m=Y(this,ne)[b];if(Ze(this,T,Lt).call(this,m)&&m.__staleWhileFetching===void 0)return!1;if(Y(this,H).call(this,b))me&&(me.has="stale",Y(this,ke).call(this,me,b));else return se&&Y(this,de).call(this,b),me&&(me.has="hit",Y(this,ke).call(this,me,b)),!0}else me&&(me.has="miss");return!1}peek(P,J={}){let{allowStale:se=this.allowStale}=J,me=Y(this,D).get(P);if(me!==void 0&&(se||!Y(this,H).call(this,me))){let b=Y(this,ne)[me];return Ze(this,T,Lt).call(this,b)?b.__staleWhileFetching:b}}async fetch(P,J={}){let{allowStale:se=this.allowStale,updateAgeOnGet:me=this.updateAgeOnGet,noDeleteOnStaleGet:b=this.noDeleteOnStaleGet,ttl:m=this.ttl,noDisposeOnSet:w=this.noDisposeOnSet,size:O=0,sizeCalculation:z=this.sizeCalculation,noUpdateTTL:ee=this.noUpdateTTL,noDeleteOnFetchRejection:Ee=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:Ge=this.allowStaleOnFetchRejection,ignoreFetchAbort:Ye=this.ignoreFetchAbort,allowStaleOnFetchAbort:$e=this.allowStaleOnFetchAbort,context:Ve,forceRefresh:et=!1,status:Fe,signal:bt}=J;if(!Y(this,k))return Fe&&(Fe.fetch="get"),this.get(P,{allowStale:se,updateAgeOnGet:me,noDeleteOnStaleGet:b,status:Fe});let Ht={allowStale:se,updateAgeOnGet:me,noDeleteOnStaleGet:b,ttl:m,noDisposeOnSet:w,size:O,sizeCalculation:z,noUpdateTTL:ee,noDeleteOnFetchRejection:Ee,allowStaleOnFetchRejection:Ge,allowStaleOnFetchAbort:$e,ignoreFetchAbort:Ye,status:Fe,signal:bt},Rt=Y(this,D).get(P);if(Rt===void 0){Fe&&(Fe.fetch="miss");let Bt=Ze(this,T,Es).call(this,P,Rt,Ht,Ve);return Bt.__returned=Bt}else{let Bt=Y(this,ne)[Rt];if(Ze(this,T,Lt).call(this,Bt)){let Yr=se&&Bt.__staleWhileFetching!==void 0;return Fe&&(Fe.fetch="inflight",Yr&&(Fe.returnedStale=!0)),Yr?Bt.__staleWhileFetching:Bt.__returned=Bt}let Ft=Y(this,H).call(this,Rt);if(!et&&!Ft)return Fe&&(Fe.fetch="hit"),Ze(this,T,Ka).call(this,Rt),me&&Y(this,de).call(this,Rt),Fe&&Y(this,ke).call(this,Fe,Rt),Bt;let Ut=Ze(this,T,Es).call(this,P,Rt,Ht,Ve),Vr=Ut.__staleWhileFetching!==void 0&&se;return Fe&&(Fe.fetch=Ft?"stale":"refresh",Vr&&Ft&&(Fe.returnedStale=!0)),Vr?Ut.__staleWhileFetching:Ut.__returned=Ut}}get(P,J={}){let{allowStale:se=this.allowStale,updateAgeOnGet:me=this.updateAgeOnGet,noDeleteOnStaleGet:b=this.noDeleteOnStaleGet,status:m}=J,w=Y(this,D).get(P);if(w!==void 0){let O=Y(this,ne)[w],z=Ze(this,T,Lt).call(this,O);return m&&Y(this,ke).call(this,m,w),Y(this,H).call(this,w)?(m&&(m.get="stale"),z?(m&&se&&O.__staleWhileFetching!==void 0&&(m.returnedStale=!0),se?O.__staleWhileFetching:void 0):(b||this.delete(P),m&&se&&(m.returnedStale=!0),se?O:void 0)):(m&&(m.get="hit"),z?O.__staleWhileFetching:(Ze(this,T,Ka).call(this,w),me&&Y(this,de).call(this,w),O))}else m&&(m.get="miss")}delete(P){var se,me,b,m;let J=!1;if(Y(this,V)!==0){let w=Y(this,D).get(P);if(w!==void 0)if(J=!0,Y(this,V)===1)this.clear();else{Y(this,fe).call(this,w);let O=Y(this,ne)[w];Ze(this,T,Lt).call(this,O)?O.__abortController.abort(new Error("deleted")):(Y(this,Oe)||Y(this,ae))&&(Y(this,Oe)&&((se=Y(this,U))==null||se.call(this,O,P,"delete")),Y(this,ae)&&((me=Y(this,he))==null||me.push([O,P,"delete"]))),Y(this,D).delete(P),Y(this,G)[w]=void 0,Y(this,ne)[w]=void 0,w===Y(this,le)?rt(this,le,Y(this,_e)[w]):w===Y(this,B)?rt(this,B,Y(this,ve)[w]):(Y(this,ve)[Y(this,_e)[w]]=Y(this,ve)[w],Y(this,_e)[Y(this,ve)[w]]=Y(this,_e)[w]),hs(this,V)._--,Y(this,we).push(w)}}if(Y(this,ae)&&((b=Y(this,he))!=null&&b.length)){let w=Y(this,he),O;for(;O=w==null?void 0:w.shift();)(m=Y(this,j))==null||m.call(this,...O)}return J}clear(){var P,J,se;for(let me of Ze(this,T,vi).call(this,{allowStale:!0})){let b=Y(this,ne)[me];if(Ze(this,T,Lt).call(this,b))b.__abortController.abort(new Error("deleted"));else{let m=Y(this,G)[me];Y(this,Oe)&&((P=Y(this,U))==null||P.call(this,b,m,"delete")),Y(this,ae)&&((J=Y(this,he))==null||J.push([b,m,"delete"]))}}if(Y(this,D).clear(),Y(this,ne).fill(void 0),Y(this,G).fill(void 0),Y(this,$)&&Y(this,ie)&&(Y(this,$).fill(0),Y(this,ie).fill(0)),Y(this,X)&&Y(this,X).fill(0),rt(this,B,0),rt(this,le,0),Y(this,we).length=0,rt(this,L,0),rt(this,V,0),Y(this,ae)&&Y(this,he)){let me=Y(this,he),b;for(;b=me==null?void 0:me.shift();)(se=Y(this,j))==null||se.call(this,...b)}}},C=new WeakMap,I=new WeakMap,U=new WeakMap,j=new WeakMap,W=new WeakMap,V=new WeakMap,L=new WeakMap,D=new WeakMap,G=new WeakMap,ne=new WeakMap,ve=new WeakMap,_e=new WeakMap,B=new WeakMap,le=new WeakMap,we=new WeakMap,he=new WeakMap,X=new WeakMap,ie=new WeakMap,$=new WeakMap,Oe=new WeakMap,k=new WeakMap,ae=new WeakMap,T=new WeakSet,Ah=function(){let P=new g(Y(this,C)),J=new g(Y(this,C));rt(this,$,P),rt(this,ie,J),rt(this,ce,(b,m,w=a.now())=>{if(J[b]=m!==0?w:0,P[b]=m,m!==0&&this.ttlAutopurge){let O=setTimeout(()=>{Y(this,H).call(this,b)&&this.delete(Y(this,G)[b])},m+1);O.unref&&O.unref()}}),rt(this,de,b=>{J[b]=P[b]!==0?a.now():0}),rt(this,ke,(b,m)=>{if(P[m]){let w=P[m],O=J[m];b.ttl=w,b.start=O,b.now=se||me();let z=b.now-O;b.remainingTTL=w-z}});let se=0,me=()=>{let b=a.now();if(this.ttlResolution>0){se=b;let m=setTimeout(()=>se=0,this.ttlResolution);m.unref&&m.unref()}return b};this.getRemainingTTL=b=>{let m=Y(this,D).get(b);if(m===void 0)return 0;let w=P[m],O=J[m];if(w===0||O===0)return 1/0;let z=(se||me())-O;return w-z},rt(this,H,b=>P[b]!==0&&J[b]!==0&&(se||me())-J[b]>P[b])},de=new WeakMap,ke=new WeakMap,ce=new WeakMap,H=new WeakMap,Oy=function(){let P=new g(Y(this,C));rt(this,L,0),rt(this,X,P),rt(this,fe,J=>{rt(this,L,Y(this,L)-P[J]),P[J]=0}),rt(this,xe,(J,se,me,b)=>{if(Ze(this,T,Lt).call(this,se))return 0;if(!o(me))if(b){if(typeof b!="function")throw new TypeError("sizeCalculation must be a function");if(me=b(se,J),!o(me))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return me}),rt(this,Re,(J,se,me)=>{if(P[J]=se,Y(this,I)){let b=Y(this,I)-P[J];for(;Y(this,L)>b;)Ze(this,T,Ss).call(this,!0)}rt(this,L,Y(this,L)+P[J]),me&&(me.entrySize=se,me.totalCalculatedSize=Y(this,L))})},fe=new WeakMap,Re=new WeakMap,xe=new WeakMap,bi=function*({allowStale:P=this.allowStale}={}){if(Y(this,V))for(let J=Y(this,le);!(!Ze(this,T,Th).call(this,J)||((P||!Y(this,H).call(this,J))&&(yield J),J===Y(this,B)));)J=Y(this,_e)[J]},vi=function*({allowStale:P=this.allowStale}={}){if(Y(this,V))for(let J=Y(this,B);!(!Ze(this,T,Th).call(this,J)||((P||!Y(this,H).call(this,J))&&(yield J),J===Y(this,le)));)J=Y(this,ve)[J]},Th=function(P){return P!==void 0&&Y(this,D).get(Y(this,G)[P])===P},Ss=function(P){var b,m;let J=Y(this,B),se=Y(this,G)[J],me=Y(this,ne)[J];return Y(this,k)&&Ze(this,T,Lt).call(this,me)?me.__abortController.abort(new Error("evicted")):(Y(this,Oe)||Y(this,ae))&&(Y(this,Oe)&&((b=Y(this,U))==null||b.call(this,me,se,"evict")),Y(this,ae)&&((m=Y(this,he))==null||m.push([me,se,"evict"]))),Y(this,fe).call(this,J),P&&(Y(this,G)[J]=void 0,Y(this,ne)[J]=void 0,Y(this,we).push(J)),Y(this,V)===1?(rt(this,B,rt(this,le,0)),Y(this,we).length=0):rt(this,B,Y(this,ve)[J]),Y(this,D).delete(se),hs(this,V)._--,J},Es=function(P,J,se,me){let b=J===void 0?void 0:Y(this,ne)[J];if(Ze(this,T,Lt).call(this,b))return b;let m=new u,{signal:w}=se;w==null||w.addEventListener("abort",()=>m.abort(w.reason),{signal:m.signal});let O={signal:m.signal,options:se,context:me},z=(Ve,et=!1)=>{let{aborted:Fe}=m.signal,bt=se.ignoreFetchAbort&&Ve!==void 0;if(se.status&&(Fe&&!et?(se.status.fetchAborted=!0,se.status.fetchError=m.signal.reason,bt&&(se.status.fetchAbortIgnored=!0)):se.status.fetchResolved=!0),Fe&&!bt&&!et)return Ee(m.signal.reason);let Ht=Ye;return Y(this,ne)[J]===Ye&&(Ve===void 0?Ht.__staleWhileFetching?Y(this,ne)[J]=Ht.__staleWhileFetching:this.delete(P):(se.status&&(se.status.fetchUpdated=!0),this.set(P,Ve,O.options))),Ve},ee=Ve=>(se.status&&(se.status.fetchRejected=!0,se.status.fetchError=Ve),Ee(Ve)),Ee=Ve=>{let{aborted:et}=m.signal,Fe=et&&se.allowStaleOnFetchAbort,bt=Fe||se.allowStaleOnFetchRejection,Ht=bt||se.noDeleteOnFetchRejection,Rt=Ye;if(Y(this,ne)[J]===Ye&&(!Ht||Rt.__staleWhileFetching===void 0?this.delete(P):Fe||(Y(this,ne)[J]=Rt.__staleWhileFetching)),bt)return se.status&&Rt.__staleWhileFetching!==void 0&&(se.status.returnedStale=!0),Rt.__staleWhileFetching;if(Rt.__returned===Rt)throw Ve},Ge=(Ve,et)=>{var bt;let Fe=(bt=Y(this,W))==null?void 0:bt.call(this,P,b,O);Fe&&Fe instanceof Promise&&Fe.then(Ht=>Ve(Ht===void 0?void 0:Ht),et),m.signal.addEventListener("abort",()=>{(!se.ignoreFetchAbort||se.allowStaleOnFetchAbort)&&(Ve(void 0),se.allowStaleOnFetchAbort&&(Ve=Ht=>z(Ht,!0)))})};se.status&&(se.status.fetchDispatched=!0);let Ye=new Promise(Ge).then(z,ee),$e=Object.assign(Ye,{__abortController:m,__staleWhileFetching:b,__returned:void 0});return J===void 0?(this.set(P,$e,{...O.options,status:void 0}),J=Y(this,D).get(P)):Y(this,ne)[J]=$e,$e},Lt=function(P){if(!Y(this,k))return!1;let J=P;return!!J&&J instanceof Promise&&J.hasOwnProperty("__staleWhileFetching")&&J.__abortController instanceof u},Mh=function(P,J){Y(this,_e)[J]=P,Y(this,ve)[P]=J},Ka=function(P){P!==Y(this,le)&&(P===Y(this,B)?rt(this,B,Y(this,ve)[P]):Ze(this,T,Mh).call(this,Y(this,_e)[P],Y(this,ve)[P]),Ze(this,T,Mh).call(this,Y(this,le),P),rt(this,le,P))},K);r.LRUCache=_}),qr=Pe(r=>{Le(),De(),Ue(),Object.defineProperty(r,"t",{value:!0}),r.ContainerIterator=r.Container=r.Base=void 0;var a=class{constructor(p=0){this.iteratorType=p}equals(p){return this.o===p.o}};r.ContainerIterator=a;var l=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}};r.Base=l;var f=class extends l{};r.Container=f}),t_=Pe(r=>{Le(),De(),Ue(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var a=qr(),l=class extends a.Base{constructor(p=[]){super(),this.S=[];let u=this;p.forEach(function(s){u.push(s)})}clear(){this.i=0,this.S=[]}push(p){return this.S.push(p),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},f=l;r.default=f}),n_=Pe(r=>{Le(),De(),Ue(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var a=qr(),l=class extends a.Base{constructor(p=[]){super(),this.j=0,this.q=[];let u=this;p.forEach(function(s){u.push(s)})}clear(){this.q=[],this.i=this.j=0}push(p){let u=this.q.length;if(this.j/u>.5&&this.j+this.i>=u&&u>4096){let s=this.i;for(let c=0;c<s;++c)this.q[c]=this.q[this.j+c];this.j=0,this.q[this.i]=p}else this.q[this.j+this.i]=p;return++this.i}pop(){if(this.i===0)return;let p=this.q[this.j++];return this.i-=1,p}front(){if(this.i!==0)return this.q[this.j]}},f=l;r.default=f}),r_=Pe(r=>{Le(),De(),Ue(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var a=qr(),l=class extends a.Base{constructor(p=[],u=function(c,o){return c>o?-1:c<o?1:0},s=!0){if(super(),this.v=u,Array.isArray(p))this.C=s?[...p]:p;else{this.C=[];let o=this;p.forEach(function(h){o.C.push(h)})}this.i=this.C.length;let c=this.i>>1;for(let o=this.i-1>>1;o>=0;--o)this.k(o,c)}m(p){let u=this.C[p];for(;p>0;){let s=p-1>>1,c=this.C[s];if(this.v(c,u)<=0)break;this.C[p]=c,p=s}this.C[p]=u}k(p,u){let s=this.C[p];for(;p<u;){let c=p<<1|1,o=c+1,h=this.C[c];if(o<this.i&&this.v(h,this.C[o])>0&&(c=o,h=this.C[o]),this.v(h,s)>=0)break;this.C[p]=h,p=c}this.C[p]=s}clear(){this.i=0,this.C.length=0}push(p){this.C.push(p),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;let p=this.C[0],u=this.C.pop();return this.i-=1,this.i&&(this.C[0]=u,this.k(0,this.i>>1)),p}top(){return this.C[0]}find(p){return this.C.indexOf(p)>=0}remove(p){let u=this.C.indexOf(p);return u<0?!1:(u===0?this.pop():u===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(u,1,this.C.pop()),this.i-=1,this.m(u),this.k(u,this.i>>1)),!0)}updateItem(p){let u=this.C.indexOf(p);return u<0?!1:(this.m(u),this.k(u,this.i>>1),!0)}toArray(){return[...this.C]}},f=l;r.default=f}),Qh=Pe(r=>{Le(),De(),Ue(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var a=qr(),l=class extends a.Container{},f=l;r.default=f}),Gr=Pe(r=>{Le(),De(),Ue(),Object.defineProperty(r,"t",{value:!0}),r.throwIteratorAccessError=a;function a(){throw new RangeError("Iterator access denied!")}}),Ry=Pe(r=>{Le(),De(),Ue(),Object.defineProperty(r,"t",{value:!0}),r.RandomIterator=void 0;var a=qr(),l=Gr(),f=class extends a.ContainerIterator{constructor(p,u){super(u),this.o=p,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,l.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,l.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,l.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,l.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(p){this.container.setElementByPos(this.o,p)}};r.RandomIterator=f}),i_=Pe(r=>{Le(),De(),Ue(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var a=f(Qh()),l=Ry();function f(c){return c&&c.t?c:{default:c}}var p=class Cy extends l.RandomIterator{constructor(o,h,g){super(o,g),this.container=h}copy(){return new Cy(this.o,this.container,this.iteratorType)}},u=class extends a.default{constructor(c=[],o=!0){if(super(),Array.isArray(c))this.J=o?[...c]:c,this.i=c.length;else{this.J=[];let h=this;c.forEach(function(g){h.pushBack(g)})}}clear(){this.i=0,this.J.length=0}begin(){return new p(0,this)}end(){return new p(this.i,this)}rBegin(){return new p(this.i-1,this,1)}rEnd(){return new p(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(c){if(c<0||c>this.i-1)throw new RangeError;return this.J[c]}eraseElementByPos(c){if(c<0||c>this.i-1)throw new RangeError;return this.J.splice(c,1),this.i-=1,this.i}eraseElementByValue(c){let o=0;for(let h=0;h<this.i;++h)this.J[h]!==c&&(this.J[o++]=this.J[h]);return this.i=this.J.length=o,this.i}eraseElementByIterator(c){let o=c.o;return c=c.next(),this.eraseElementByPos(o),c}pushBack(c){return this.J.push(c),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(c,o){if(c<0||c>this.i-1)throw new RangeError;this.J[c]=o}insert(c,o,h=1){if(c<0||c>this.i)throw new RangeError;return this.J.splice(c,0,...new Array(h).fill(o)),this.i+=h,this.i}find(c){for(let o=0;o<this.i;++o)if(this.J[o]===c)return new p(o,this);return this.end()}reverse(){this.J.reverse()}unique(){let c=1;for(let o=1;o<this.i;++o)this.J[o]!==this.J[o-1]&&(this.J[c++]=this.J[o]);return this.i=this.J.length=c,this.i}sort(c){this.J.sort(c)}forEach(c){for(let o=0;o<this.i;++o)c(this.J[o],o,this)}[Symbol.iterator](){return(function*(){yield*this.J}).bind(this)()}},s=u;r.default=s}),l_=Pe(r=>{Le(),De(),Ue(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var a=p(Qh()),l=qr(),f=Gr();function p(o){return o&&o.t?o:{default:o}}var u=class Ny extends l.ContainerIterator{constructor(h,g,v,_){super(_),this.o=h,this.h=g,this.container=v,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,f.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,f.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,f.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,f.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,f.throwIteratorAccessError)(),this.o.l}set pointer(h){this.o===this.h&&(0,f.throwIteratorAccessError)(),this.o.l=h}copy(){return new Ny(this.o,this.h,this.container,this.iteratorType)}},s=class extends a.default{constructor(o=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let h=this;o.forEach(function(g){h.pushBack(g)})}V(o){let{L:h,B:g}=o;h.B=g,g.L=h,o===this.p&&(this.p=g),o===this._&&(this._=h),this.i-=1}G(o,h){let g=h.B,v={l:o,L:h,B:g};h.B=v,g.L=v,h===this.h&&(this.p=v),g===this.h&&(this._=v),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new u(this.p,this.h,this)}end(){return new u(this.h,this.h,this)}rBegin(){return new u(this._,this.h,this,1)}rEnd(){return new u(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;let h=this.p;for(;o--;)h=h.B;return h.l}eraseElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;let h=this.p;for(;o--;)h=h.B;return this.V(h),this.i}eraseElementByValue(o){let h=this.p;for(;h!==this.h;)h.l===o&&this.V(h),h=h.B;return this.i}eraseElementByIterator(o){let h=o.o;return h===this.h&&(0,f.throwIteratorAccessError)(),o=o.next(),this.V(h),o}pushBack(o){return this.G(o,this._),this.i}popBack(){if(this.i===0)return;let o=this._.l;return this.V(this._),o}pushFront(o){return this.G(o,this.h),this.i}popFront(){if(this.i===0)return;let o=this.p.l;return this.V(this.p),o}setElementByPos(o,h){if(o<0||o>this.i-1)throw new RangeError;let g=this.p;for(;o--;)g=g.B;g.l=h}insert(o,h,g=1){if(o<0||o>this.i)throw new RangeError;if(g<=0)return this.i;if(o===0)for(;g--;)this.pushFront(h);else if(o===this.i)for(;g--;)this.pushBack(h);else{let v=this.p;for(let S=1;S<o;++S)v=v.B;let _=v.B;for(this.i+=g;g--;)v.B={l:h,L:v},v.B.L=v,v=v.B;v.B=_,_.L=v}return this.i}find(o){let h=this.p;for(;h!==this.h;){if(h.l===o)return new u(h,this.h,this);h=h.B}return this.end()}reverse(){if(this.i<=1)return;let o=this.p,h=this._,g=0;for(;g<<1<this.i;){let v=o.l;o.l=h.l,h.l=v,o=o.B,h=h.L,g+=1}}unique(){if(this.i<=1)return this.i;let o=this.p;for(;o!==this.h;){let h=o;for(;h.B!==this.h&&h.l===h.B.l;)h=h.B,this.i-=1;o.B=h.B,o.B.L=o,o=o.B}return this.i}sort(o){if(this.i<=1)return;let h=[];this.forEach(function(v){h.push(v)}),h.sort(o);let g=this.p;h.forEach(function(v){g.l=v,g=g.B})}merge(o){let h=this;if(this.i===0)o.forEach(function(g){h.pushBack(g)});else{let g=this.p;o.forEach(function(v){for(;g!==h.h&&g.l<=v;)g=g.B;h.G(v,g.L)})}return this.i}forEach(o){let h=this.p,g=0;for(;h!==this.h;)o(h.l,g++,this),h=h.B}[Symbol.iterator](){return(function*(){if(this.i===0)return;let o=this.p;for(;o!==this.h;)yield o.l,o=o.B}).bind(this)()}},c=s;r.default=c}),a_=Pe(r=>{Le(),De(),Ue(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var a=f(Qh()),l=Ry();function f(c){return c&&c.t?c:{default:c}}var p=class jy extends l.RandomIterator{constructor(o,h,g){super(o,g),this.container=h}copy(){return new jy(this.o,this.container,this.iteratorType)}},u=class extends a.default{constructor(c=[],o=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let h=(()=>{if(typeof c.length=="number")return c.length;if(typeof c.size=="number")return c.size;if(typeof c.size=="function")return c.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=o,this.P=Math.max(Math.ceil(h/this.F),1);for(let _=0;_<this.P;++_)this.A.push(new Array(this.F));let g=Math.ceil(h/this.F);this.j=this.R=(this.P>>1)-(g>>1),this.D=this.N=this.F-h%this.F>>1;let v=this;c.forEach(function(_){v.pushBack(_)})}T(){let c=[],o=Math.max(this.P>>1,1);for(let h=0;h<o;++h)c[h]=new Array(this.F);for(let h=this.j;h<this.P;++h)c[c.length]=this.A[h];for(let h=0;h<this.R;++h)c[c.length]=this.A[h];c[c.length]=[...this.A[this.R]],this.j=o,this.R=c.length-1;for(let h=0;h<o;++h)c[c.length]=new Array(this.F);this.A=c,this.P=c.length}O(c){let o=this.D+c+1,h=o%this.F,g=h-1,v=this.j+(o-h)/this.F;return h===0&&(v-=1),v%=this.P,g<0&&(g+=this.F),{curNodeBucketIndex:v,curNodePointerIndex:g}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new p(0,this)}end(){return new p(this.i,this)}rBegin(){return new p(this.i-1,this,1)}rEnd(){return new p(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(c){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=c,this.i}popBack(){if(this.i===0)return;let c=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,c}pushFront(c){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=c,this.i}popFront(){if(this.i===0)return;let c=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,c}getElementByPos(c){if(c<0||c>this.i-1)throw new RangeError;let{curNodeBucketIndex:o,curNodePointerIndex:h}=this.O(c);return this.A[o][h]}setElementByPos(c,o){if(c<0||c>this.i-1)throw new RangeError;let{curNodeBucketIndex:h,curNodePointerIndex:g}=this.O(c);this.A[h][g]=o}insert(c,o,h=1){if(c<0||c>this.i)throw new RangeError;if(c===0)for(;h--;)this.pushFront(o);else if(c===this.i)for(;h--;)this.pushBack(o);else{let g=[];for(let v=c;v<this.i;++v)g.push(this.getElementByPos(v));this.cut(c-1);for(let v=0;v<h;++v)this.pushBack(o);for(let v=0;v<g.length;++v)this.pushBack(g[v])}return this.i}cut(c){if(c<0)return this.clear(),0;let{curNodeBucketIndex:o,curNodePointerIndex:h}=this.O(c);return this.R=o,this.N=h,this.i=c+1,this.i}eraseElementByPos(c){if(c<0||c>this.i-1)throw new RangeError;if(c===0)this.popFront();else if(c===this.i-1)this.popBack();else{let o=[];for(let g=c+1;g<this.i;++g)o.push(this.getElementByPos(g));this.cut(c),this.popBack();let h=this;o.forEach(function(g){h.pushBack(g)})}return this.i}eraseElementByValue(c){if(this.i===0)return 0;let o=[];for(let g=0;g<this.i;++g){let v=this.getElementByPos(g);v!==c&&o.push(v)}let h=o.length;for(let g=0;g<h;++g)this.setElementByPos(g,o[g]);return this.cut(h-1)}eraseElementByIterator(c){let o=c.o;return this.eraseElementByPos(o),c=c.next(),c}find(c){for(let o=0;o<this.i;++o)if(this.getElementByPos(o)===c)return new p(o,this);return this.end()}reverse(){let c=0,o=this.i-1;for(;c<o;){let h=this.getElementByPos(c);this.setElementByPos(c,this.getElementByPos(o)),this.setElementByPos(o,h),c+=1,o-=1}}unique(){if(this.i<=1)return this.i;let c=1,o=this.getElementByPos(0);for(let h=1;h<this.i;++h){let g=this.getElementByPos(h);g!==o&&(o=g,this.setElementByPos(c++,g))}for(;this.i>c;)this.popBack();return this.i}sort(c){let o=[];for(let h=0;h<this.i;++h)o.push(this.getElementByPos(h));o.sort(c);for(let h=0;h<this.i;++h)this.setElementByPos(h,o[h])}shrinkToFit(){if(this.i===0)return;let c=[];this.forEach(function(o){c.push(o)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let o=0;o<this.P;++o)this.A.push(new Array(this.F));for(let o=0;o<c.length;++o)this.pushBack(c[o])}forEach(c){for(let o=0;o<this.i;++o)c(this.getElementByPos(o),o,this)}[Symbol.iterator](){return(function*(){for(let c=0;c<this.i;++c)yield this.getElementByPos(c)}).bind(this)()}},s=u;r.default=s}),o_=Pe(r=>{Le(),De(),Ue(),Object.defineProperty(r,"t",{value:!0}),r.TreeNodeEnableIndex=r.TreeNode=void 0;var a=class{constructor(f,p){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=f,this.l=p}L(){let f=this;if(f.ee===1&&f.tt.tt===f)f=f.W;else if(f.U)for(f=f.U;f.W;)f=f.W;else{let p=f.tt;for(;p.U===f;)f=p,p=f.tt;f=p}return f}B(){let f=this;if(f.W){for(f=f.W;f.U;)f=f.U;return f}else{let p=f.tt;for(;p.W===f;)f=p,p=f.tt;return f.W!==p?p:f}}te(){let f=this.tt,p=this.W,u=p.U;return f.tt===this?f.tt=p:f.U===this?f.U=p:f.W=p,p.tt=f,p.U=this,this.tt=p,this.W=u,u&&(u.tt=this),p}se(){let f=this.tt,p=this.U,u=p.W;return f.tt===this?f.tt=p:f.U===this?f.U=p:f.W=p,p.tt=f,p.W=this,this.tt=p,this.U=u,u&&(u.tt=this),p}};r.TreeNode=a;var l=class extends a{constructor(){super(...arguments),this.rt=1}te(){let f=super.te();return this.ie(),f.ie(),f}se(){let f=super.se();return this.ie(),f.ie(),f}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}};r.TreeNodeEnableIndex=l}),ky=Pe(r=>{Le(),De(),Ue(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var a=o_(),l=qr(),f=Gr(),p=class extends l.Container{constructor(s=function(o,h){return o<h?-1:o>h?1:0},c=!1){super(),this.Y=void 0,this.v=s,c?(this.re=a.TreeNodeEnableIndex,this.M=function(o,h,g){let v=this.ne(o,h,g);if(v){let _=v.tt;for(;_!==this.h;)_.rt+=1,_=_.tt;let S=this.he(v);if(S){let{parentNode:E,grandParent:M,curNode:C}=S;E.ie(),M.ie(),C.ie()}}return this.i},this.V=function(o){let h=this.fe(o);for(;h!==this.h;)h.rt-=1,h=h.tt}):(this.re=a.TreeNode,this.M=function(o,h,g){let v=this.ne(o,h,g);return v&&this.he(v),this.i},this.V=this.fe),this.h=new this.re}X(s,c){let o=this.h;for(;s;){let h=this.v(s.u,c);if(h<0)s=s.W;else if(h>0)o=s,s=s.U;else return s}return o}Z(s,c){let o=this.h;for(;s;)this.v(s.u,c)<=0?s=s.W:(o=s,s=s.U);return o}$(s,c){let o=this.h;for(;s;){let h=this.v(s.u,c);if(h<0)o=s,s=s.W;else if(h>0)s=s.U;else return s}return o}rr(s,c){let o=this.h;for(;s;)this.v(s.u,c)<0?(o=s,s=s.W):s=s.U;return o}ue(s){for(;;){let c=s.tt;if(c===this.h)return;if(s.ee===1){s.ee=0;return}if(s===c.U){let o=c.W;if(o.ee===1)o.ee=0,c.ee=1,c===this.Y?this.Y=c.te():c.te();else if(o.W&&o.W.ee===1){o.ee=c.ee,c.ee=0,o.W.ee=0,c===this.Y?this.Y=c.te():c.te();return}else o.U&&o.U.ee===1?(o.ee=1,o.U.ee=0,o.se()):(o.ee=1,s=c)}else{let o=c.U;if(o.ee===1)o.ee=0,c.ee=1,c===this.Y?this.Y=c.se():c.se();else if(o.U&&o.U.ee===1){o.ee=c.ee,c.ee=0,o.U.ee=0,c===this.Y?this.Y=c.se():c.se();return}else o.W&&o.W.ee===1?(o.ee=1,o.W.ee=0,o.te()):(o.ee=1,s=c)}}}fe(s){if(this.i===1)return this.clear(),this.h;let c=s;for(;c.U||c.W;){if(c.W)for(c=c.W;c.U;)c=c.U;else c=c.U;[s.u,c.u]=[c.u,s.u],[s.l,c.l]=[c.l,s.l],s=c}this.h.U===c?this.h.U=c.tt:this.h.W===c&&(this.h.W=c.tt),this.ue(c);let o=c.tt;return c===o.U?o.U=void 0:o.W=void 0,this.i-=1,this.Y.ee=0,o}oe(s,c){return s===void 0?!1:this.oe(s.U,c)||c(s)?!0:this.oe(s.W,c)}he(s){for(;;){let c=s.tt;if(c.ee===0)return;let o=c.tt;if(c===o.U){let h=o.W;if(h&&h.ee===1){if(h.ee=c.ee=0,o===this.Y)return;o.ee=1,s=o;continue}else if(s===c.W){if(s.ee=0,s.U&&(s.U.tt=c),s.W&&(s.W.tt=o),c.W=s.U,o.U=s.W,s.U=c,s.W=o,o===this.Y)this.Y=s,this.h.tt=s;else{let g=o.tt;g.U===o?g.U=s:g.W=s}return s.tt=o.tt,c.tt=s,o.tt=s,o.ee=1,{parentNode:c,grandParent:o,curNode:s}}else c.ee=0,o===this.Y?this.Y=o.se():o.se(),o.ee=1}else{let h=o.U;if(h&&h.ee===1){if(h.ee=c.ee=0,o===this.Y)return;o.ee=1,s=o;continue}else if(s===c.U){if(s.ee=0,s.U&&(s.U.tt=o),s.W&&(s.W.tt=c),o.W=s.U,c.U=s.W,s.U=o,s.W=c,o===this.Y)this.Y=s,this.h.tt=s;else{let g=o.tt;g.U===o?g.U=s:g.W=s}return s.tt=o.tt,c.tt=s,o.tt=s,o.ee=1,{parentNode:c,grandParent:o,curNode:s}}else c.ee=0,o===this.Y?this.Y=o.te():o.te(),o.ee=1}return}}ne(s,c,o){if(this.Y===void 0){this.i+=1,this.Y=new this.re(s,c),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let h,g=this.h.U,v=this.v(g.u,s);if(v===0){g.l=c;return}else if(v>0)g.U=new this.re(s,c),g.U.tt=g,h=g.U,this.h.U=h;else{let _=this.h.W,S=this.v(_.u,s);if(S===0){_.l=c;return}else if(S<0)_.W=new this.re(s,c),_.W.tt=_,h=_.W,this.h.W=h;else{if(o!==void 0){let E=o.o;if(E!==this.h){let M=this.v(E.u,s);if(M===0){E.l=c;return}else if(M>0){let C=E.L(),I=this.v(C.u,s);if(I===0){C.l=c;return}else I<0&&(h=new this.re(s,c),C.W===void 0?(C.W=h,h.tt=C):(E.U=h,h.tt=E))}}}if(h===void 0)for(h=this.Y;;){let E=this.v(h.u,s);if(E>0){if(h.U===void 0){h.U=new this.re(s,c),h.U.tt=h,h=h.U;break}h=h.U}else if(E<0){if(h.W===void 0){h.W=new this.re(s,c),h.W.tt=h,h=h.W;break}h=h.W}else{h.l=c;return}}}}return this.i+=1,h}I(s,c){for(;s;){let o=this.v(s.u,c);if(o<0)s=s.W;else if(o>0)s=s.U;else return s}return s||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(s,c){let o=s.o;if(o===this.h&&(0,f.throwIteratorAccessError)(),this.i===1)return o.u=c,!0;if(o===this.h.U)return this.v(o.B().u,c)>0?(o.u=c,!0):!1;if(o===this.h.W)return this.v(o.L().u,c)<0?(o.u=c,!0):!1;let h=o.L().u;if(this.v(h,c)>=0)return!1;let g=o.B().u;return this.v(g,c)<=0?!1:(o.u=c,!0)}eraseElementByPos(s){if(s<0||s>this.i-1)throw new RangeError;let c=0,o=this;return this.oe(this.Y,function(h){return s===c?(o.V(h),!0):(c+=1,!1)}),this.i}eraseElementByKey(s){if(this.i===0)return!1;let c=this.I(this.Y,s);return c===this.h?!1:(this.V(c),!0)}eraseElementByIterator(s){let c=s.o;c===this.h&&(0,f.throwIteratorAccessError)();let o=c.W===void 0;return s.iteratorType===0?o&&s.next():(!o||c.U===void 0)&&s.next(),this.V(c),s}forEach(s){let c=0;for(let o of this)s(o,c++,this)}getElementByPos(s){if(s<0||s>this.i-1)throw new RangeError;let c,o=0;for(let h of this){if(o===s){c=h;break}o+=1}return c}getHeight(){if(this.i===0)return 0;let s=function(c){return c?Math.max(s(c.U),s(c.W))+1:0};return s(this.Y)}},u=p;r.default=u}),By=Pe(r=>{Le(),De(),Ue(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var a=qr(),l=Gr(),f=class extends a.ContainerIterator{constructor(u,s,c){super(c),this.o=u,this.h=s,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,l.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,l.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let u=this.o,s=this.h.tt;if(u===this.h)return s?s.rt-1:0;let c=0;for(u.U&&(c+=u.U.rt);u!==s;){let o=u.tt;u===o.W&&(c+=1,o.U&&(c+=o.U.rt)),u=o}return c}},p=f;r.default=p}),s_=Pe(r=>{Le(),De(),Ue(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var a=p(ky()),l=p(By()),f=Gr();function p(o){return o&&o.t?o:{default:o}}var u=class Uy extends l.default{constructor(h,g,v,_){super(h,g,_),this.container=v}get pointer(){return this.o===this.h&&(0,f.throwIteratorAccessError)(),this.o.u}copy(){return new Uy(this.o,this.h,this.container,this.iteratorType)}},s=class extends a.default{constructor(o=[],h,g){super(h,g);let v=this;o.forEach(function(_){v.insert(_)})}*K(o){o!==void 0&&(yield*this.K(o.U),yield o.u,yield*this.K(o.W))}begin(){return new u(this.h.U||this.h,this.h,this)}end(){return new u(this.h,this.h,this)}rBegin(){return new u(this.h.W||this.h,this.h,this,1)}rEnd(){return new u(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(o,h){return this.M(o,void 0,h)}find(o){let h=this.I(this.Y,o);return new u(h,this.h,this)}lowerBound(o){let h=this.X(this.Y,o);return new u(h,this.h,this)}upperBound(o){let h=this.Z(this.Y,o);return new u(h,this.h,this)}reverseLowerBound(o){let h=this.$(this.Y,o);return new u(h,this.h,this)}reverseUpperBound(o){let h=this.rr(this.Y,o);return new u(h,this.h,this)}union(o){let h=this;return o.forEach(function(g){h.insert(g)}),this.i}[Symbol.iterator](){return this.K(this.Y)}},c=s;r.default=c}),u_=Pe(r=>{Le(),De(),Ue(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var a=p(ky()),l=p(By()),f=Gr();function p(o){return o&&o.t?o:{default:o}}var u=class Dy extends l.default{constructor(h,g,v,_){super(h,g,_),this.container=v}get pointer(){this.o===this.h&&(0,f.throwIteratorAccessError)();let h=this;return new Proxy([],{get(g,v){if(v==="0")return h.o.u;if(v==="1")return h.o.l},set(g,v,_){if(v!=="1")throw new TypeError("props must be 1");return h.o.l=_,!0}})}copy(){return new Dy(this.o,this.h,this.container,this.iteratorType)}},s=class extends a.default{constructor(o=[],h,g){super(h,g);let v=this;o.forEach(function(_){v.setElement(_[0],_[1])})}*K(o){o!==void 0&&(yield*this.K(o.U),yield[o.u,o.l],yield*this.K(o.W))}begin(){return new u(this.h.U||this.h,this.h,this)}end(){return new u(this.h,this.h,this)}rBegin(){return new u(this.h.W||this.h,this.h,this,1)}rEnd(){return new u(this.h,this.h,this,1)}front(){if(this.i===0)return;let o=this.h.U;return[o.u,o.l]}back(){if(this.i===0)return;let o=this.h.W;return[o.u,o.l]}lowerBound(o){let h=this.X(this.Y,o);return new u(h,this.h,this)}upperBound(o){let h=this.Z(this.Y,o);return new u(h,this.h,this)}reverseLowerBound(o){let h=this.$(this.Y,o);return new u(h,this.h,this)}reverseUpperBound(o){let h=this.rr(this.Y,o);return new u(h,this.h,this)}setElement(o,h,g){return this.M(o,h,g)}find(o){let h=this.I(this.Y,o);return new u(h,this.h,this)}getElementByKey(o){return this.I(this.Y,o).l}union(o){let h=this;return o.forEach(function(g){h.setElement(g[0],g[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}},c=s;r.default=c}),Ly=Pe(r=>{Le(),De(),Ue(),Object.defineProperty(r,"t",{value:!0}),r.default=a;function a(l){let f=typeof l;return f==="object"&&l!==null||f==="function"}}),Iy=Pe(r=>{Le(),De(),Ue(),Object.defineProperty(r,"t",{value:!0}),r.HashContainerIterator=r.HashContainer=void 0;var a=qr(),l=p(Ly()),f=Gr();function p(c){return c&&c.t?c:{default:c}}var u=class extends a.ContainerIterator{constructor(c,o,h){super(h),this.o=c,this.h=o,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,f.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,f.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,f.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,f.throwIteratorAccessError)(),this.o=this.o.L,this})}};r.HashContainerIterator=u;var s=class extends a.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(c){let{L:o,B:h}=c;o.B=h,h.L=o,c===this.p&&(this.p=h),c===this._&&(this._=o),this.i-=1}M(c,o,h){h===void 0&&(h=(0,l.default)(c));let g;if(h){let v=c[this.HASH_TAG];if(v!==void 0)return this.H[v].l=o,this.i;Object.defineProperty(c,this.HASH_TAG,{value:this.H.length,configurable:!0}),g={u:c,l:o,L:this._,B:this.h},this.H.push(g)}else{let v=this.g[c];if(v)return v.l=o,this.i;g={u:c,l:o,L:this._,B:this.h},this.g[c]=g}return this.i===0?(this.p=g,this.h.B=g):this._.B=g,this._=g,this.h.L=g,++this.i}I(c,o){if(o===void 0&&(o=(0,l.default)(c)),o){let h=c[this.HASH_TAG];return h===void 0?this.h:this.H[h]}else return this.g[c]||this.h}clear(){let c=this.HASH_TAG;this.H.forEach(function(o){delete o.u[c]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(c,o){let h;if(o===void 0&&(o=(0,l.default)(c)),o){let g=c[this.HASH_TAG];if(g===void 0)return!1;delete c[this.HASH_TAG],h=this.H[g],delete this.H[g]}else{if(h=this.g[c],h===void 0)return!1;delete this.g[c]}return this.V(h),!0}eraseElementByIterator(c){let o=c.o;return o===this.h&&(0,f.throwIteratorAccessError)(),this.V(o),c.next()}eraseElementByPos(c){if(c<0||c>this.i-1)throw new RangeError;let o=this.p;for(;c--;)o=o.B;return this.V(o),this.i}};r.HashContainer=s}),c_=Pe(r=>{Le(),De(),Ue(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var a=Iy(),l=Gr(),f=class zy extends a.HashContainerIterator{constructor(c,o,h,g){super(c,o,g),this.container=h}get pointer(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o.u}copy(){return new zy(this.o,this.h,this.container,this.iteratorType)}},p=class extends a.HashContainer{constructor(s=[]){super();let c=this;s.forEach(function(o){c.insert(o)})}begin(){return new f(this.p,this.h,this)}end(){return new f(this.h,this.h,this)}rBegin(){return new f(this._,this.h,this,1)}rEnd(){return new f(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(s,c){return this.M(s,void 0,c)}getElementByPos(s){if(s<0||s>this.i-1)throw new RangeError;let c=this.p;for(;s--;)c=c.B;return c.u}find(s,c){let o=this.I(s,c);return new f(o,this.h,this)}forEach(s){let c=0,o=this.p;for(;o!==this.h;)s(o.u,c++,this),o=o.B}[Symbol.iterator](){return(function*(){let s=this.p;for(;s!==this.h;)yield s.u,s=s.B}).bind(this)()}},u=p;r.default=u}),f_=Pe(r=>{Le(),De(),Ue(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var a=Iy(),l=p(Ly()),f=Gr();function p(o){return o&&o.t?o:{default:o}}var u=class Hy extends a.HashContainerIterator{constructor(h,g,v,_){super(h,g,_),this.container=v}get pointer(){this.o===this.h&&(0,f.throwIteratorAccessError)();let h=this;return new Proxy([],{get(g,v){if(v==="0")return h.o.u;if(v==="1")return h.o.l},set(g,v,_){if(v!=="1")throw new TypeError("props must be 1");return h.o.l=_,!0}})}copy(){return new Hy(this.o,this.h,this.container,this.iteratorType)}},s=class extends a.HashContainer{constructor(o=[]){super();let h=this;o.forEach(function(g){h.setElement(g[0],g[1])})}begin(){return new u(this.p,this.h,this)}end(){return new u(this.h,this.h,this)}rBegin(){return new u(this._,this.h,this,1)}rEnd(){return new u(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(o,h,g){return this.M(o,h,g)}getElementByKey(o,h){if(h===void 0&&(h=(0,l.default)(o)),h){let v=o[this.HASH_TAG];return v!==void 0?this.H[v].l:void 0}let g=this.g[o];return g?g.l:void 0}getElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;let h=this.p;for(;o--;)h=h.B;return[h.u,h.l]}find(o,h){let g=this.I(o,h);return new u(g,this.h,this)}forEach(o){let h=0,g=this.p;for(;g!==this.h;)o([g.u,g.l],h++,this),g=g.B}[Symbol.iterator](){return(function*(){let o=this.p;for(;o!==this.h;)yield[o.u,o.l],o=o.B}).bind(this)()}},c=s;r.default=c}),h_=Pe(r=>{Le(),De(),Ue(),Object.defineProperty(r,"t",{value:!0}),Object.defineProperty(r,"Deque",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(r,"HashMap",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(r,"HashSet",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(r,"LinkList",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(r,"OrderedMap",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(r,"OrderedSet",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(r,"PriorityQueue",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(r,"Queue",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(r,"Stack",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(r,"Vector",{enumerable:!0,get:function(){return p.default}});var a=v(t_()),l=v(n_()),f=v(r_()),p=v(i_()),u=v(l_()),s=v(a_()),c=v(s_()),o=v(u_()),h=v(c_()),g=v(f_());function v(_){return _&&_.t?_:{default:_}}}),d_=Pe((r,a)=>{Le(),De(),Ue();var l=h_().OrderedSet,f=Hr()("number-allocator:trace"),p=Hr()("number-allocator:error");function u(c,o){this.low=c,this.high=o}u.prototype.equals=function(c){return this.low===c.low&&this.high===c.high},u.prototype.compare=function(c){return this.low<c.low&&this.high<c.low?-1:c.low<this.low&&c.high<this.low?1:0};function s(c,o){if(!(this instanceof s))return new s(c,o);this.min=c,this.max=o,this.ss=new l([],(h,g)=>h.compare(g)),f("Create"),this.clear()}s.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},s.prototype.alloc=function(){if(this.ss.size()===0)return f("alloc():empty"),null;let c=this.ss.begin(),o=c.pointer.low,h=c.pointer.high,g=o;return g+1<=h?this.ss.updateKeyByIterator(c,new u(o+1,h)):this.ss.eraseElementByPos(0),f("alloc():"+g),g},s.prototype.use=function(c){let o=new u(c,c),h=this.ss.lowerBound(o);if(!h.equals(this.ss.end())){let g=h.pointer.low,v=h.pointer.high;return h.pointer.equals(o)?(this.ss.eraseElementByIterator(h),f("use():"+c),!0):g>c?!1:g===c?(this.ss.updateKeyByIterator(h,new u(g+1,v)),f("use():"+c),!0):v===c?(this.ss.updateKeyByIterator(h,new u(g,v-1)),f("use():"+c),!0):(this.ss.updateKeyByIterator(h,new u(c+1,v)),this.ss.insert(new u(g,c-1)),f("use():"+c),!0)}return f("use():failed"),!1},s.prototype.free=function(c){if(c<this.min||c>this.max){p("free():"+c+" is out of range");return}let o=new u(c,c),h=this.ss.upperBound(o);if(h.equals(this.ss.end())){if(h.equals(this.ss.begin())){this.ss.insert(o);return}h.pre();let g=h.pointer.high;h.pointer.high+1===c?this.ss.updateKeyByIterator(h,new u(g,c)):this.ss.insert(o)}else if(h.equals(this.ss.begin()))if(c+1===h.pointer.low){let g=h.pointer.high;this.ss.updateKeyByIterator(h,new u(c,g))}else this.ss.insert(o);else{let g=h.pointer.low,v=h.pointer.high;h.pre();let _=h.pointer.low;h.pointer.high+1===c?c+1===g?(this.ss.eraseElementByIterator(h),this.ss.updateKeyByIterator(h,new u(_,v))):this.ss.updateKeyByIterator(h,new u(_,c)):c+1===g?(this.ss.eraseElementByIterator(h.next()),this.ss.insert(new u(c,v))):this.ss.insert(o)}f("free():"+c)},s.prototype.clear=function(){f("clear()"),this.ss.clear(),this.ss.insert(new u(this.min,this.max))},s.prototype.intervalCount=function(){return this.ss.size()},s.prototype.dump=function(){console.log("length:"+this.ss.size());for(let c of this.ss)console.log(c)},a.exports=s}),Py=Pe((r,a)=>{Le(),De(),Ue();var l=d_();a.exports.NumberAllocator=l}),p_=Pe(r=>{Le(),De(),Ue(),Object.defineProperty(r,"__esModule",{value:!0});var a=e_(),l=Py(),f=class{constructor(p){p>0&&(this.aliasToTopic=new a.LRUCache({max:p}),this.topicToAlias={},this.numberAllocator=new l.NumberAllocator(1,p),this.max=p,this.length=0)}put(p,u){if(u===0||u>this.max)return!1;let s=this.aliasToTopic.get(u);return s&&delete this.topicToAlias[s],this.aliasToTopic.set(u,p),this.topicToAlias[p]=u,this.numberAllocator.use(u),this.length=this.aliasToTopic.size,!0}getTopicByAlias(p){return this.aliasToTopic.get(p)}getAliasByTopic(p){let u=this.topicToAlias[p];return typeof u<"u"&&this.aliasToTopic.get(u),u}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){return this.numberAllocator.firstVacant()||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}};r.default=f}),g_=Pe(r=>{Le(),De(),Ue();var a=r&&r.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(r,"__esModule",{value:!0});var l=Ds(),f=a(p_()),p=Za(),u=(s,c)=>{s.log("_handleConnack");let{options:o}=s,h=o.protocolVersion===5?c.reasonCode:c.returnCode;if(clearTimeout(s.connackTimer),delete s.topicAliasSend,c.properties){if(c.properties.topicAliasMaximum){if(c.properties.topicAliasMaximum>65535){s.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}c.properties.topicAliasMaximum>0&&(s.topicAliasSend=new f.default(c.properties.topicAliasMaximum))}c.properties.serverKeepAlive&&o.keepalive&&(o.keepalive=c.properties.serverKeepAlive),c.properties.maximumPacketSize&&(o.properties||(o.properties={}),o.properties.maximumPacketSize=c.properties.maximumPacketSize)}if(h===0)s.reconnecting=!1,s._onConnect(c);else if(h>0){let g=new p.ErrorWithReasonCode(`Connection refused: ${l.ReasonCodes[h]}`,h);s.emit("error",g)}};r.default=u}),m_=Pe(r=>{Le(),De(),Ue(),Object.defineProperty(r,"__esModule",{value:!0});var a=(l,f,p)=>{l.log("handling pubrel packet");let u=typeof p<"u"?p:l.noop,{messageId:s}=f,c={cmd:"pubcomp",messageId:s};l.incomingStore.get(f,(o,h)=>{o?l._sendPacket(c,u):(l.emit("message",h.topic,h.payload,h),l.handleMessage(h,g=>{if(g)return u(g);l.incomingStore.del(h,l.noop),l._sendPacket(c,u)}))})};r.default=a}),y_=Pe(r=>{Le(),De(),Ue();var a=r&&r.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(r,"__esModule",{value:!0});var l=a(Fw()),f=a(Jw()),p=a(g_()),u=a(Ds()),s=a(m_()),c=(o,h,g)=>{let{options:v}=o;if(v.protocolVersion===5&&v.properties&&v.properties.maximumPacketSize&&v.properties.maximumPacketSize<h.length)return o.emit("error",new Error(`exceeding packets size ${h.cmd}`)),o.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),o;switch(o.log("_handlePacket :: emitting packetreceive"),o.emit("packetreceive",h),h.cmd){case"publish":(0,l.default)(o,h,g);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":o.reschedulePing(),(0,u.default)(o,h),g();break;case"pubrel":o.reschedulePing(),(0,s.default)(o,h,g);break;case"connack":(0,p.default)(o,h),g();break;case"auth":o.reschedulePing(),(0,f.default)(o,h),g();break;case"pingresp":o.log("_handlePacket :: received pingresp"),o.reschedulePing(),g();break;case"disconnect":o.emit("disconnect",h),g();break;default:o.log("_handlePacket :: unknown command"),g();break}};r.default=c}),b_=Pe(r=>{Le(),De(),Ue();var a=r&&r.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(r,"__esModule",{value:!0}),r.TypedEventEmitter=void 0;var l=a((Wl(),Nt(rl))),f=Za(),p=class{};r.TypedEventEmitter=p,(0,f.applyMixin)(p,l.default)}),Ls=Pe(r=>{Le(),De(),Ue(),Object.defineProperty(r,"__esModule",{value:!0}),r.isReactNativeBrowser=r.isWebWorker=void 0;var a=()=>{var u;return typeof window<"u"?typeof _n<"u"&&((u=_n.userAgent)===null||u===void 0?void 0:u.toLowerCase().indexOf(" electron/"))>-1&&wt!=null&&wt.versions?!Object.prototype.hasOwnProperty.call(wt.versions,"electron"):typeof window.document<"u":!1},l=()=>{var u,s;return!!(typeof self=="object"&&!((s=(u=self==null?void 0:self.constructor)===null||u===void 0?void 0:u.name)===null||s===void 0)&&s.includes("WorkerGlobalScope"))},f=()=>typeof _n<"u"&&_n.product==="ReactNative",p=a()||l()||f();r.isWebWorker=l(),r.isReactNativeBrowser=f(),r.default=p}),v_=Pe((r,a)=>{Le(),De(),Ue(),(function(l,f){typeof r=="object"&&typeof a<"u"?f(r):typeof define=="function"&&define.amd?define(["exports"],f):(l=typeof globalThis<"u"?globalThis:l||self,f(l.fastUniqueNumbers={}))})(r,function(l){var f=function(S){return function(E){var M=S(E);return E.add(M),M}},p=function(S){return function(E,M){return S.set(E,M),M}},u=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,s=536870912,c=s*2,o=function(S,E){return function(M){var C=E.get(M),I=C===void 0?M.size:C<c?C+1:0;if(!M.has(I))return S(M,I);if(M.size<s){for(;M.has(I);)I=Math.floor(Math.random()*c);return S(M,I)}if(M.size>u)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;M.has(I);)I=Math.floor(Math.random()*u);return S(M,I)}},h=new WeakMap,g=p(h),v=o(g,h),_=f(v);l.addUniqueNumber=_,l.generateUniqueNumber=v})}),w_=Pe((r,a)=>{Le(),De(),Ue(),(function(l,f){typeof r=="object"&&typeof a<"u"?f(r,v_()):typeof define=="function"&&define.amd?define(["exports","fast-unique-numbers"],f):(l=typeof globalThis<"u"?globalThis:l||self,f(l.workerTimersBroker={},l.fastUniqueNumbers))})(r,function(l,f){var p=function(c){return c.method!==void 0&&c.method==="call"},u=function(c){return c.error===null&&typeof c.id=="number"},s=function(c){var o=new Map([[0,function(){}]]),h=new Map([[0,function(){}]]),g=new Map,v=new Worker(c);v.addEventListener("message",function(C){var I=C.data;if(p(I)){var U=I.params,j=U.timerId,W=U.timerType;if(W==="interval"){var V=o.get(j);if(typeof V=="number"){var L=g.get(V);if(L===void 0||L.timerId!==j||L.timerType!==W)throw new Error("The timer is in an undefined state.")}else if(typeof V<"u")V();else throw new Error("The timer is in an undefined state.")}else if(W==="timeout"){var D=h.get(j);if(typeof D=="number"){var G=g.get(D);if(G===void 0||G.timerId!==j||G.timerType!==W)throw new Error("The timer is in an undefined state.")}else if(typeof D<"u")D(),h.delete(j);else throw new Error("The timer is in an undefined state.")}}else if(u(I)){var ne=I.id,ve=g.get(ne);if(ve===void 0)throw new Error("The timer is in an undefined state.");var _e=ve.timerId,B=ve.timerType;g.delete(ne),B==="interval"?o.delete(_e):h.delete(_e)}else{var le=I.error.message;throw new Error(le)}});var _=function(C){var I=f.generateUniqueNumber(g);g.set(I,{timerId:C,timerType:"interval"}),o.set(C,I),v.postMessage({id:I,method:"clear",params:{timerId:C,timerType:"interval"}})},S=function(C){var I=f.generateUniqueNumber(g);g.set(I,{timerId:C,timerType:"timeout"}),h.set(C,I),v.postMessage({id:I,method:"clear",params:{timerId:C,timerType:"timeout"}})},E=function(C){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,U=f.generateUniqueNumber(o);return o.set(U,function(){C(),typeof o.get(U)=="function"&&v.postMessage({id:null,method:"set",params:{delay:I,now:performance.now(),timerId:U,timerType:"interval"}})}),v.postMessage({id:null,method:"set",params:{delay:I,now:performance.now(),timerId:U,timerType:"interval"}}),U},M=function(C){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,U=f.generateUniqueNumber(h);return h.set(U,C),v.postMessage({id:null,method:"set",params:{delay:I,now:performance.now(),timerId:U,timerType:"timeout"}}),U};return{clearInterval:_,clearTimeout:S,setInterval:E,setTimeout:M}};l.load=s})}),__=Pe((r,a)=>{Le(),De(),Ue(),(function(l,f){typeof r=="object"&&typeof a<"u"?f(r,w_()):typeof define=="function"&&define.amd?define(["exports","worker-timers-broker"],f):(l=typeof globalThis<"u"?globalThis:l||self,f(l.workerTimers={},l.workerTimersBroker))})(r,function(l,f){var p=function(v,_){var S=null;return function(){if(S!==null)return S;var E=new Blob([_],{type:"application/javascript; charset=utf-8"}),M=URL.createObjectURL(E);return S=v(M),setTimeout(function(){return URL.revokeObjectURL(M)}),S}},u=`(()=>{var e={472:(e,t,r)=>{var o,i;void 0===(i="function"==typeof(o=function(){"use strict";var e=new Map,t=new Map,r=function(t){var r=e.get(t);if(void 0===r)throw new Error('There is no interval scheduled with the given id "'.concat(t,'".'));clearTimeout(r),e.delete(t)},o=function(e){var r=t.get(e);if(void 0===r)throw new Error('There is no timeout scheduled with the given id "'.concat(e,'".'));clearTimeout(r),t.delete(e)},i=function(e,t){var r,o=performance.now();return{expected:o+(r=e-Math.max(0,o-t)),remainingDelay:r}},n=function e(t,r,o,i){var n=performance.now();n>o?postMessage({id:null,method:"call",params:{timerId:r,timerType:i}}):t.set(r,setTimeout(e,o-n,t,r,o,i))},a=function(t,r,o){var a=i(t,o),s=a.expected,d=a.remainingDelay;e.set(r,setTimeout(n,d,e,r,s,"interval"))},s=function(e,r,o){var a=i(e,o),s=a.expected,d=a.remainingDelay;t.set(r,setTimeout(n,d,t,r,s,"timeout"))};addEventListener("message",(function(e){var t=e.data;try{if("clear"===t.method){var i=t.id,n=t.params,d=n.timerId,c=n.timerType;if("interval"===c)r(d),postMessage({error:null,id:i});else{if("timeout"!==c)throw new Error('The given type "'.concat(c,'" is not supported'));o(d),postMessage({error:null,id:i})}}else{if("set"!==t.method)throw new Error('The given method "'.concat(t.method,'" is not supported'));var u=t.params,l=u.delay,p=u.now,m=u.timerId,v=u.timerType;if("interval"===v)a(l,m,p);else{if("timeout"!==v)throw new Error('The given type "'.concat(v,'" is not supported'));s(l,m,p)}}}catch(e){postMessage({error:{message:e.message},id:t.id,result:null})}}))})?o.call(t,r,t,e):o)||(e.exports=i)}},t={};function r(o){var i=t[o];if(void 0!==i)return i.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();`,s=p(f.load,u),c=function(v){return s().clearInterval(v)},o=function(v){return s().clearTimeout(v)},h=function(){var v;return(v=s()).setInterval.apply(v,arguments)},g=function(){var v;return(v=s()).setTimeout.apply(v,arguments)};l.clearInterval=c,l.clearTimeout=o,l.setInterval=h,l.setTimeout=g})}),S_=Pe(r=>{Le(),De(),Ue();var a=r&&r.__createBinding||(Object.create?function(h,g,v,_){_===void 0&&(_=v);var S=Object.getOwnPropertyDescriptor(g,v);(!S||("get"in S?!g.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return g[v]}}),Object.defineProperty(h,_,S)}:function(h,g,v,_){_===void 0&&(_=v),h[_]=g[v]}),l=r&&r.__setModuleDefault||(Object.create?function(h,g){Object.defineProperty(h,"default",{enumerable:!0,value:g})}:function(h,g){h.default=g}),f=r&&r.__importStar||function(h){if(h&&h.__esModule)return h;var g={};if(h!=null)for(var v in h)v!=="default"&&Object.prototype.hasOwnProperty.call(h,v)&&a(g,h,v);return l(g,h),g};Object.defineProperty(r,"__esModule",{value:!0});var p=f(Ls()),u=__(),s={set:u.setInterval,clear:u.clearInterval},c={set:(h,g)=>setInterval(h,g),clear:h=>clearInterval(h)},o=h=>{switch(h){case"native":return c;case"worker":return s;case"auto":default:return p.default&&!p.isWebWorker&&!p.isReactNativeBrowser?s:c}};r.default=o}),qy=Pe(r=>{Le(),De(),Ue();var a=r&&r.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(r,"__esModule",{value:!0});var l=a(S_()),f=class{get keepaliveTimeoutTimestamp(){return this._keepaliveTimeoutTimestamp}get intervalEvery(){return this._intervalEvery}get keepalive(){return this._keepalive}constructor(p,u){this.destroyed=!1,this.client=p,this.timer=(0,l.default)(u),this.setKeepalive(p.options.keepalive)}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null)}setKeepalive(p){if(p*=1e3,isNaN(p)||p<=0||p>2147483647)throw new Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${p}`);this._keepalive=p,this.reschedule(),this.client.log(`KeepaliveManager: set keepalive to ${p}ms`)}destroy(){this.clear(),this.destroyed=!0}reschedule(){if(this.destroyed)return;this.clear(),this.counter=0;let p=Math.ceil(this._keepalive*1.5);this._keepaliveTimeoutTimestamp=Date.now()+p,this._intervalEvery=Math.ceil(this._keepalive/2),this.timerId=this.timer.set(()=>{this.destroyed||(this.counter+=1,this.counter===2?this.client.sendPing():this.counter>2&&this.client.onKeepaliveTimeout())},this._intervalEvery)}};r.default=f}),Oh=Pe(r=>{Le(),De(),Ue();var a=r&&r.__createBinding||(Object.create?function(V,L,D,G){G===void 0&&(G=D);var ne=Object.getOwnPropertyDescriptor(L,D);(!ne||("get"in ne?!L.__esModule:ne.writable||ne.configurable))&&(ne={enumerable:!0,get:function(){return L[D]}}),Object.defineProperty(V,G,ne)}:function(V,L,D,G){G===void 0&&(G=D),V[G]=L[D]}),l=r&&r.__setModuleDefault||(Object.create?function(V,L){Object.defineProperty(V,"default",{enumerable:!0,value:L})}:function(V,L){V.default=L}),f=r&&r.__importStar||function(V){if(V&&V.__esModule)return V;var L={};if(V!=null)for(var D in V)D!=="default"&&Object.prototype.hasOwnProperty.call(V,D)&&a(L,V,D);return l(L,V),L},p=r&&r.__importDefault||function(V){return V&&V.__esModule?V:{default:V}};Object.defineProperty(r,"__esModule",{value:!0});var u=p(fw()),s=p(Qw()),c=p(Ay()),o=il(),h=p(Kw()),g=f($w()),v=p(Hr()),_=p(Ty()),S=p(y_()),E=Za(),M=b_(),C=p(qy()),I=f(Ls()),U=globalThis.setImmediate||((...V)=>{let L=V.shift();(0,E.nextTick)(()=>{L(...V)})}),j={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0,writeCache:!0,timerVariant:"auto"},W=class Rh extends M.TypedEventEmitter{static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(L,D){super(),this.options=D||{};for(let G in j)typeof this.options[G]>"u"?this.options[G]=j[G]:this.options[G]=D[G];this.log=this.options.log||(0,v.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",Rh.VERSION),I.isWebWorker?this.log("MqttClient :: environment","webworker"):this.log("MqttClient :: environment",I.default?"browser":"node"),this.log("MqttClient :: options.protocol",D.protocol),this.log("MqttClient :: options.protocolVersion",D.protocolVersion),this.log("MqttClient :: options.username",D.username),this.log("MqttClient :: options.keepalive",D.keepalive),this.log("MqttClient :: options.reconnectPeriod",D.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",D.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",D.properties?D.properties.topicAliasMaximum:void 0),this.options.clientId=typeof D.clientId=="string"?D.clientId:Rh.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=D.protocolVersion===5&&D.customHandleAcks?D.customHandleAcks:(...G)=>{G[3](null,0)},this.options.writeCache||(s.default.writeToStream.cacheNumbers=!1),this.streamBuilder=L,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new c.default:this.options.messageIdProvider,this.outgoingStore=D.outgoingStore||new _.default,this.incomingStore=D.incomingStore||new _.default,this.queueQoSZero=D.queueQoSZero===void 0?!0:D.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.keepaliveManager=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,D.properties&&D.properties.topicAliasMaximum>0&&(D.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new u.default(D.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:G}=this,ne=()=>{let ve=G.shift();this.log("deliver :: entry %o",ve);let _e=null;if(!ve){this._resubscribe();return}_e=ve.packet,this.log("deliver :: call _sendPacket for %o",_e);let B=!0;_e.messageId&&_e.messageId!==0&&(this.messageIdProvider.register(_e.messageId)||(B=!1)),B?this._sendPacket(_e,le=>{ve.cb&&ve.cb(le),ne()}):(this.log("messageId: %d has already used. The message is skipped and removed.",_e.messageId),ne())};this.log("connect :: sending queued packets"),ne()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this._destroyKeepaliveManager(),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(L,D){D()}handleMessage(L,D){D()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){var L;let D=new o.Writable,G=s.default.parser(this.options),ne=null,ve=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),G.on("packet",he=>{this.log("parser :: on packet push to packets array."),ve.push(he)});let _e=()=>{this.log("work :: getting next packet in queue");let he=ve.shift();if(he)this.log("work :: packet pulled from queue"),(0,S.default)(this,he,B);else{this.log("work :: no packets in queue");let X=ne;ne=null,this.log("work :: done flag is %s",!!X),X&&X()}},B=()=>{if(ve.length)(0,E.nextTick)(_e);else{let he=ne;ne=null,he()}};D._write=(he,X,ie)=>{ne=ie,this.log("writable stream :: parsing buffer"),G.parse(he),_e()};let le=he=>{this.log("streamErrorHandler :: error",he.message),he.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",he)):this.noop(he)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(D),this.stream.on("error",le),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");let we={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(we.will=Object.assign(Object.assign({},this.options.will),{payload:(L=this.options.will)===null||L===void 0?void 0:L.payload})),this.topicAliasRecv&&(we.properties||(we.properties={}),this.topicAliasRecv&&(we.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(we),G.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let he=Object.assign({cmd:"auth",reasonCode:0},this.options.authPacket);this._writePacket(he)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",new Error("connack timeout")),this._cleanUp(!0)},this.options.connectTimeout),this}publish(L,D,G,ne){this.log("publish :: message `%s` to topic `%s`",D,L);let{options:ve}=this;typeof G=="function"&&(ne=G,G=null),G=G||{},G=Object.assign(Object.assign({},{qos:0,retain:!1,dup:!1}),G);let{qos:_e,retain:B,dup:le,properties:we,cbStorePut:he}=G;if(this._checkDisconnecting(ne))return this;let X=()=>{let ie=0;if((_e===1||_e===2)&&(ie=this._nextId(),ie===null))return this.log("No messageId left"),!1;let $={cmd:"publish",topic:L,payload:D,qos:_e,retain:B,messageId:ie,dup:le};switch(ve.protocolVersion===5&&($.properties=we),this.log("publish :: qos",_e),_e){case 1:case 2:this.outgoing[$.messageId]={volatile:!1,cb:ne||this.noop},this.log("MqttClient:publish: packet cmd: %s",$.cmd),this._sendPacket($,void 0,he);break;default:this.log("MqttClient:publish: packet cmd: %s",$.cmd),this._sendPacket($,ne,he);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!X())&&this._storeProcessingQueue.push({invoke:X,cbStorePut:G.cbStorePut,callback:ne}),this}publishAsync(L,D,G){return new Promise((ne,ve)=>{this.publish(L,D,G,(_e,B)=>{_e?ve(_e):ne(B)})})}subscribe(L,D,G){let ne=this.options.protocolVersion;typeof D=="function"&&(G=D),G=G||this.noop;let ve=!1,_e=[];typeof L=="string"?(L=[L],_e=L):Array.isArray(L)?_e=L:typeof L=="object"&&(ve=L.resubscribe,delete L.resubscribe,_e=Object.keys(L));let B=g.validateTopics(_e);if(B!==null)return U(G,new Error(`Invalid topic ${B}`)),this;if(this._checkDisconnecting(G))return this.log("subscribe: discconecting true"),this;let le={qos:0};ne===5&&(le.nl=!1,le.rap=!1,le.rh=0),D=Object.assign(Object.assign({},le),D);let we=D.properties,he=[],X=($,Oe)=>{if(Oe=Oe||D,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,$)||this._resubscribeTopics[$].qos<Oe.qos||ve){let k={topic:$,qos:Oe.qos};ne===5&&(k.nl=Oe.nl,k.rap=Oe.rap,k.rh=Oe.rh,k.properties=we),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",k.topic,k.qos),he.push(k)}};if(Array.isArray(L)?L.forEach($=>{this.log("subscribe: array topic %s",$),X($)}):Object.keys(L).forEach($=>{this.log("subscribe: object topic %s, %o",$,L[$]),X($,L[$])}),!he.length)return G(null,[]),this;let ie=()=>{let $=this._nextId();if($===null)return this.log("No messageId left"),!1;let Oe={cmd:"subscribe",subscriptions:he,messageId:$};if(we&&(Oe.properties=we),this.options.resubscribe){this.log("subscribe :: resubscribe true");let k=[];he.forEach(ae=>{if(this.options.reconnectPeriod>0){let T={qos:ae.qos};ne===5&&(T.nl=ae.nl||!1,T.rap=ae.rap||!1,T.rh=ae.rh||0,T.properties=ae.properties),this._resubscribeTopics[ae.topic]=T,k.push(ae.topic)}}),this.messageIdToTopic[Oe.messageId]=k}return this.outgoing[Oe.messageId]={volatile:!0,cb(k,ae){if(!k){let{granted:T}=ae;for(let F=0;F<T.length;F+=1)he[F].qos=T[F]}G(k,he)}},this.log("subscribe :: call _sendPacket"),this._sendPacket(Oe),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!ie())&&this._storeProcessingQueue.push({invoke:ie,callback:G}),this}subscribeAsync(L,D){return new Promise((G,ne)=>{this.subscribe(L,D,(ve,_e)=>{ve?ne(ve):G(_e)})})}unsubscribe(L,D,G){typeof L=="string"&&(L=[L]),typeof D=="function"&&(G=D),G=G||this.noop;let ne=g.validateTopics(L);if(ne!==null)return U(G,new Error(`Invalid topic ${ne}`)),this;if(this._checkDisconnecting(G))return this;let ve=()=>{let _e=this._nextId();if(_e===null)return this.log("No messageId left"),!1;let B={cmd:"unsubscribe",messageId:_e,unsubscriptions:[]};return typeof L=="string"?B.unsubscriptions=[L]:Array.isArray(L)&&(B.unsubscriptions=L),this.options.resubscribe&&B.unsubscriptions.forEach(le=>{delete this._resubscribeTopics[le]}),typeof D=="object"&&D.properties&&(B.properties=D.properties),this.outgoing[B.messageId]={volatile:!0,cb:G},this.log("unsubscribe: call _sendPacket"),this._sendPacket(B),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!ve())&&this._storeProcessingQueue.push({invoke:ve,callback:G}),this}unsubscribeAsync(L,D){return new Promise((G,ne)=>{this.unsubscribe(L,D,(ve,_e)=>{ve?ne(ve):G(_e)})})}end(L,D,G){this.log("end :: (%s)",this.options.clientId),(L==null||typeof L!="boolean")&&(G=G||D,D=L,L=!1),typeof D!="object"&&(G=G||D,D=null),this.log("end :: cb? %s",!!G),(!G||typeof G!="function")&&(G=this.noop);let ne=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(_e=>{this.outgoingStore.close(B=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),G){let le=_e||B;this.log("end :: closeStores: invoking callback with args"),G(le)}})}),this._deferredReconnect&&this._deferredReconnect()},ve=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,L),this._cleanUp(L,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0,E.nextTick)(ne)},D)};return this.disconnecting?(G(),this):(this._clearReconnect(),this.disconnecting=!0,!L&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,ve,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),ve()),this)}endAsync(L,D){return new Promise((G,ne)=>{this.end(L,D,ve=>{ve?ne(ve):G()})})}removeOutgoingMessage(L){if(this.outgoing[L]){let{cb:D}=this.outgoing[L];this._removeOutgoingAndStoreMessage(L,()=>{D(new Error("Message removed"))})}return this}reconnect(L){this.log("client reconnect");let D=()=>{L?(this.options.incomingStore=L.incomingStore,this.options.outgoingStore=L.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new _.default,this.outgoingStore=this.options.outgoingStore||new _.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=D:D(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(L=>{this.outgoing[L].volatile&&typeof this.outgoing[L].cb=="function"&&(this.outgoing[L].cb(new Error("Connection closed")),delete this.outgoing[L])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(L=>{typeof this.outgoing[L].cb=="function"&&(this.outgoing[L].cb(new Error("Connection closed")),delete this.outgoing[L])}))}_removeTopicAliasAndRecoverTopicName(L){let D;L.properties&&(D=L.properties.topicAlias);let G=L.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",D,G),G.length===0){if(typeof D>"u")return new Error("Unregistered Topic Alias");if(G=this.topicAliasSend.getTopicByAlias(D),typeof G>"u")return new Error("Unregistered Topic Alias");L.topic=G}D&&delete L.properties.topicAlias}_checkDisconnecting(L){return this.disconnecting&&(L&&L!==this.noop?L(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(L,D,G={}){if(D&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",D)),this.log("_cleanUp :: forced? %s",L),L)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let ne=Object.assign({cmd:"disconnect"},G);this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(ne,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),U(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this._destroyKeepaliveManager(),D&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",D),D())}_storeAndSend(L,D,G){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",L.cmd);let ne=L,ve;if(ne.cmd==="publish"&&(ne=(0,h.default)(L),ve=this._removeTopicAliasAndRecoverTopicName(ne),ve))return D&&D(ve);this.outgoingStore.put(ne,_e=>{if(_e)return D&&D(_e);G(),this._writePacket(L,D)})}_applyTopicAlias(L){if(this.options.protocolVersion===5&&L.cmd==="publish"){let D;L.properties&&(D=L.properties.topicAlias);let G=L.topic.toString();if(this.topicAliasSend)if(D){if(G.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",G,D),!this.topicAliasSend.put(G,D)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",G,D),new Error("Sending Topic Alias out of range")}else G.length!==0&&(this.options.autoAssignTopicAlias?(D=this.topicAliasSend.getAliasByTopic(G),D?(L.topic="",L.properties=Object.assign(Object.assign({},L.properties),{topicAlias:D}),this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",G,D)):(D=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(G,D),L.properties=Object.assign(Object.assign({},L.properties),{topicAlias:D}),this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",G,D))):this.options.autoUseTopicAlias&&(D=this.topicAliasSend.getAliasByTopic(G),D&&(L.topic="",L.properties=Object.assign(Object.assign({},L.properties),{topicAlias:D}),this.log("applyTopicAlias :: auto use topic: %s - alias: %d",G,D))));else if(D)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",G,D),new Error("Sending Topic Alias out of range")}}_noop(L){this.log("noop ::",L)}_writePacket(L,D){this.log("_writePacket :: packet: %O",L),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",L),this.log("_writePacket :: writing to stream");let G=s.default.writeToStream(L,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",G),!G&&D&&D!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",D)):D&&(this.log("_writePacket :: invoking cb"),D())}_sendPacket(L,D,G,ne){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),G=G||this.noop,D=D||this.noop;let ve=this._applyTopicAlias(L);if(ve){D(ve);return}if(!this.connected){if(L.cmd==="auth"){this._writePacket(L,D);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(L,D,G);return}if(ne){this._writePacket(L,D);return}switch(L.cmd){case"publish":break;case"pubrel":this._storeAndSend(L,D,G);return;default:this._writePacket(L,D);return}switch(L.qos){case 2:case 1:this._storeAndSend(L,D,G);break;case 0:default:this._writePacket(L,D);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}_storePacket(L,D,G){this.log("_storePacket :: packet: %o",L),this.log("_storePacket :: cb? %s",!!D),G=G||this.noop;let ne=L;if(ne.cmd==="publish"){ne=(0,h.default)(L);let _e=this._removeTopicAliasAndRecoverTopicName(ne);if(_e)return D&&D(_e)}let ve=ne.qos||0;ve===0&&this.queueQoSZero||ne.cmd!=="publish"?this.queue.push({packet:ne,cb:D}):ve>0?(D=this.outgoing[ne.messageId]?this.outgoing[ne.messageId].cb:null,this.outgoingStore.put(ne,_e=>{if(_e)return D&&D(_e);G()})):D&&D(new Error("No connection to broker"))}_setupKeepaliveManager(){this.log("_setupKeepaliveManager :: keepalive %d (seconds)",this.options.keepalive),!this.keepaliveManager&&this.options.keepalive&&(this.keepaliveManager=new C.default(this,this.options.timerVariant))}_destroyKeepaliveManager(){this.keepaliveManager&&(this.log("_destroyKeepaliveManager :: destroying keepalive manager"),this.keepaliveManager.destroy(),this.keepaliveManager=null)}reschedulePing(){this.keepaliveManager&&this.options.keepalive&&this.options.reschedulePings&&this._reschedulePing()}_reschedulePing(){this.log("_reschedulePing :: rescheduling ping"),this.keepaliveManager.reschedule()}sendPing(){this.log("_sendPing :: sending pingreq"),this._sendPacket({cmd:"pingreq"})}onKeepaliveTimeout(){this.emit("error",new Error("Keepalive timeout")),this.log("onKeepaliveTimeout :: calling _cleanUp with force true"),this._cleanUp(!0)}_resubscribe(){this.log("_resubscribe");let L=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&L.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let D=0;D<L.length;D++){let G={};G[L[D]]=this._resubscribeTopics[L[D]],G.resubscribe=!0,this.subscribe(G,{properties:G[L[D]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(L){if(this.disconnected){this.emit("connect",L);return}this.connackPacket=L,this.messageIdProvider.clear(),this._setupKeepaliveManager(),this.connected=!0;let D=()=>{let G=this.outgoingStore.createStream(),ne=()=>{G.destroy(),G=null,this._flushStoreProcessingQueue(),ve()},ve=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",ne),G.on("error",B=>{ve(),this._flushStoreProcessingQueue(),this.removeListener("close",ne),this.emit("error",B)});let _e=()=>{if(!G)return;let B=G.read(1),le;if(!B){G.once("readable",_e);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[B.messageId]){_e();return}!this.disconnecting&&!this.reconnectTimer?(le=this.outgoing[B.messageId]?this.outgoing[B.messageId].cb:null,this.outgoing[B.messageId]={volatile:!1,cb(we,he){le&&le(we,he),_e()}},this._packetIdsDuringStoreProcessing[B.messageId]=!0,this.messageIdProvider.register(B.messageId)?this._sendPacket(B,void 0,void 0,!0):this.log("messageId: %d has already used.",B.messageId)):G.destroy&&G.destroy()};G.on("end",()=>{let B=!0;for(let le in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[le]){B=!1;break}this.removeListener("close",ne),B?(ve(),this._invokeAllStoreProcessingQueue(),this.emit("connect",L)):D()}),_e()};D()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let L=this._storeProcessingQueue[0];if(L&&L.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let L of this._storeProcessingQueue)L.cbStorePut&&L.cbStorePut(new Error("Connection closed")),L.callback&&L.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(L,D){delete this.outgoing[L],this.outgoingStore.del({messageId:L},(G,ne)=>{D(G,ne),this.messageIdProvider.deallocate(L),this._invokeStoreProcessingQueue()})}};W.VERSION=E.MQTTJS_VERSION,r.default=W}),E_=Pe(r=>{Le(),De(),Ue(),Object.defineProperty(r,"__esModule",{value:!0});var a=Py(),l=class{constructor(){this.numberAllocator=new a.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(f){return this.numberAllocator.use(f)}deallocate(f){this.numberAllocator.free(f)}clear(){this.numberAllocator.clear()}};r.default=l});function Vi(r){throw new RangeError(Vy[r])}function u0(r,a){let l=r.split("@"),f="";l.length>1&&(f=l[0]+"@",r=l[1]);let p=(function(u,s){let c=[],o=u.length;for(;o--;)c[o]=s(u[o]);return c})((r=r.replace(Gy,".")).split("."),a).join(".");return f+p}function c0(r){let a=[],l=0,f=r.length;for(;l<f;){let p=r.charCodeAt(l++);if(p>=55296&&p<=56319&&l<f){let u=r.charCodeAt(l++);(64512&u)==56320?a.push(((1023&p)<<10)+(1023&u)+65536):(a.push(p),l--)}else a.push(p)}return a}var f0,h0,Gy,Vy,Jn,ps,sf,uf,cf,ff,wi,x_=hn(()=>{Le(),De(),Ue(),f0=/^xn--/,h0=/[^\0-\x7E]/,Gy=/[\x2E\u3002\uFF0E\uFF61]/g,Vy={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Jn=Math.floor,ps=String.fromCharCode,sf=function(r,a){return r+22+75*(r<26)-((a!=0)<<5)},uf=function(r,a,l){let f=0;for(r=l?Jn(r/700):r>>1,r+=Jn(r/a);r>455;f+=36)r=Jn(r/35);return Jn(f+36*r/(r+38))},cf=function(r){let a=[],l=r.length,f=0,p=128,u=72,s=r.lastIndexOf("-");s<0&&(s=0);for(let o=0;o<s;++o)r.charCodeAt(o)>=128&&Vi("not-basic"),a.push(r.charCodeAt(o));for(let o=s>0?s+1:0;o<l;){let h=f;for(let v=1,_=36;;_+=36){o>=l&&Vi("invalid-input");let S=(c=r.charCodeAt(o++))-48<10?c-22:c-65<26?c-65:c-97<26?c-97:36;(S>=36||S>Jn((2147483647-f)/v))&&Vi("overflow"),f+=S*v;let E=_<=u?1:_>=u+26?26:_-u;if(S<E)break;let M=36-E;v>Jn(2147483647/M)&&Vi("overflow"),v*=M}let g=a.length+1;u=uf(f-h,g,h==0),Jn(f/g)>2147483647-p&&Vi("overflow"),p+=Jn(f/g),f%=g,a.splice(f++,0,p)}var c;return String.fromCodePoint(...a)},ff=function(r){let a=[],l=(r=c0(r)).length,f=128,p=0,u=72;for(let o of r)o<128&&a.push(ps(o));let s=a.length,c=s;for(s&&a.push("-");c<l;){let o=2147483647;for(let g of r)g>=f&&g<o&&(o=g);let h=c+1;o-f>Jn((2147483647-p)/h)&&Vi("overflow"),p+=(o-f)*h,f=o;for(let g of r)if(g<f&&++p>2147483647&&Vi("overflow"),g==f){let v=p;for(let _=36;;_+=36){let S=_<=u?1:_>=u+26?26:_-u;if(v<S)break;let E=v-S,M=36-S;a.push(ps(sf(S+E%M,0))),v=Jn(E/M)}a.push(ps(sf(v,0))),u=uf(p,h,c==s),p=0,++c}++p,++f}return a.join("")},wi={version:"2.1.0",ucs2:{decode:c0,encode:r=>String.fromCodePoint(...r)},decode:cf,encode:ff,toASCII:function(r){return u0(r,function(a){return h0.test(a)?"xn--"+ff(a):a})},toUnicode:function(r){return u0(r,function(a){return f0.test(a)?cf(a.slice(4).toLowerCase()):a})}},wi.decode,wi.encode,wi.toASCII,wi.toUnicode,wi.ucs2,wi.version});function A_(r,a){return Object.prototype.hasOwnProperty.call(r,a)}var d0,Hl,p0,cr,T_=hn(()=>{Le(),De(),Ue(),d0=function(r,a,l,f){a=a||"&",l=l||"=";var p={};if(typeof r!="string"||r.length===0)return p;var u=/\+/g;r=r.split(a);var s=1e3;f&&typeof f.maxKeys=="number"&&(s=f.maxKeys);var c=r.length;s>0&&c>s&&(c=s);for(var o=0;o<c;++o){var h,g,v,_,S=r[o].replace(u,"%20"),E=S.indexOf(l);E>=0?(h=S.substr(0,E),g=S.substr(E+1)):(h=S,g=""),v=decodeURIComponent(h),_=decodeURIComponent(g),A_(p,v)?Array.isArray(p[v])?p[v].push(_):p[v]=[p[v],_]:p[v]=_}return p},Hl=function(r){switch(typeof r){case"string":return r;case"boolean":return r?"true":"false";case"number":return isFinite(r)?r:"";default:return""}},p0=function(r,a,l,f){return a=a||"&",l=l||"=",r===null&&(r=void 0),typeof r=="object"?Object.keys(r).map(function(p){var u=encodeURIComponent(Hl(p))+l;return Array.isArray(r[p])?r[p].map(function(s){return u+encodeURIComponent(Hl(s))}).join(a):u+encodeURIComponent(Hl(r[p]))}).join(a):f?encodeURIComponent(Hl(f))+l+encodeURIComponent(Hl(r)):""},cr={},cr.decode=cr.parse=d0,cr.encode=cr.stringify=p0,cr.decode,cr.encode,cr.parse,cr.stringify});function Ch(){throw new Error("setTimeout has not been defined")}function Nh(){throw new Error("clearTimeout has not been defined")}function Yy(r){if(jr===setTimeout)return setTimeout(r,0);if((jr===Ch||!jr)&&setTimeout)return jr=setTimeout,setTimeout(r,0);try{return jr(r,0)}catch{try{return jr.call(null,r,0)}catch{return jr.call(this||Ji,r,0)}}}function M_(){el&&Fi&&(el=!1,Fi.length?hr=Fi.concat(hr):Fa=-1,hr.length&&Wy())}function Wy(){if(!el){var r=Yy(M_);el=!0;for(var a=hr.length;a;){for(Fi=hr,hr=[];++Fa<a;)Fi&&Fi[Fa].run();Fa=-1,a=hr.length}Fi=null,el=!1,(function(l){if(kr===clearTimeout)return clearTimeout(l);if((kr===Nh||!kr)&&clearTimeout)return kr=clearTimeout,clearTimeout(l);try{kr(l)}catch{try{return kr.call(null,l)}catch{return kr.call(this||Ji,l)}}})(r)}}function g0(r,a){(this||Ji).fun=r,(this||Ji).array=a}function Rr(){}var m0,jr,kr,Ji,Wt,Fi,hr,el,Fa,Gt,O_=hn(()=>{Le(),De(),Ue(),Ji=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Wt=m0={},(function(){try{jr=typeof setTimeout=="function"?setTimeout:Ch}catch{jr=Ch}try{kr=typeof clearTimeout=="function"?clearTimeout:Nh}catch{kr=Nh}})(),hr=[],el=!1,Fa=-1,Wt.nextTick=function(r){var a=new Array(arguments.length-1);if(arguments.length>1)for(var l=1;l<arguments.length;l++)a[l-1]=arguments[l];hr.push(new g0(r,a)),hr.length!==1||el||Yy(Wy)},g0.prototype.run=function(){(this||Ji).fun.apply(null,(this||Ji).array)},Wt.title="browser",Wt.browser=!0,Wt.env={},Wt.argv=[],Wt.version="",Wt.versions={},Wt.on=Rr,Wt.addListener=Rr,Wt.once=Rr,Wt.off=Rr,Wt.removeListener=Rr,Wt.removeAllListeners=Rr,Wt.emit=Rr,Wt.prependListener=Rr,Wt.prependOnceListener=Rr,Wt.listeners=function(r){return[]},Wt.binding=function(r){throw new Error("process.binding is not supported")},Wt.cwd=function(){return"/"},Wt.chdir=function(r){throw new Error("process.chdir is not supported")},Wt.umask=function(){return 0},Gt=m0,Gt.addListener,Gt.argv,Gt.binding,Gt.browser,Gt.chdir,Gt.cwd,Gt.emit,Gt.env,Gt.listeners,Gt.nextTick,Gt.off,Gt.on,Gt.once,Gt.prependListener,Gt.prependOnceListener,Gt.removeAllListeners,Gt.removeListener,Gt.title,Gt.umask,Gt.version,Gt.versions});function R_(){if(jh)return xs;jh=!0;var r=xs={},a,l;function f(){throw new Error("setTimeout has not been defined")}function p(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?a=setTimeout:a=f}catch{a=f}try{typeof clearTimeout=="function"?l=clearTimeout:l=p}catch{l=p}})();function u(M){if(a===setTimeout)return setTimeout(M,0);if((a===f||!a)&&setTimeout)return a=setTimeout,setTimeout(M,0);try{return a(M,0)}catch{try{return a.call(null,M,0)}catch{return a.call(this||Qi,M,0)}}}function s(M){if(l===clearTimeout)return clearTimeout(M);if((l===p||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(M);try{return l(M)}catch{try{return l.call(null,M)}catch{return l.call(this||Qi,M)}}}var c=[],o=!1,h,g=-1;function v(){!o||!h||(o=!1,h.length?c=h.concat(c):g=-1,c.length&&_())}function _(){if(!o){var M=u(v);o=!0;for(var C=c.length;C;){for(h=c,c=[];++g<C;)h&&h[g].run();g=-1,C=c.length}h=null,o=!1,s(M)}}r.nextTick=function(M){var C=new Array(arguments.length-1);if(arguments.length>1)for(var I=1;I<arguments.length;I++)C[I-1]=arguments[I];c.push(new S(M,C)),c.length===1&&!o&&u(_)};function S(M,C){(this||Qi).fun=M,(this||Qi).array=C}S.prototype.run=function(){(this||Qi).fun.apply(null,(this||Qi).array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={};function E(){}return r.on=E,r.addListener=E,r.once=E,r.off=E,r.removeListener=E,r.removeAllListeners=E,r.emit=E,r.prependListener=E,r.prependOnceListener=E,r.listeners=function(M){return[]},r.binding=function(M){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(M){throw new Error("process.chdir is not supported")},r.umask=function(){return 0},xs}var xs,jh,Qi,It,Qy=hn(()=>{Le(),De(),Ue(),xs={},jh=!1,Qi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,It=R_(),It.platform="browser",It.addListener,It.argv,It.binding,It.browser,It.chdir,It.cwd,It.emit,It.env,It.listeners,It.nextTick,It.off,It.on,It.once,It.prependListener,It.prependOnceListener,It.removeAllListeners,It.removeListener,It.title,It.umask,It.version,It.versions});function C_(){if(kh)return As;kh=!0;var r=It;function a(u){if(typeof u!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(u))}function l(u,s){for(var c="",o=0,h=-1,g=0,v,_=0;_<=u.length;++_){if(_<u.length)v=u.charCodeAt(_);else{if(v===47)break;v=47}if(v===47){if(!(h===_-1||g===1))if(h!==_-1&&g===2){if(c.length<2||o!==2||c.charCodeAt(c.length-1)!==46||c.charCodeAt(c.length-2)!==46){if(c.length>2){var S=c.lastIndexOf("/");if(S!==c.length-1){S===-1?(c="",o=0):(c=c.slice(0,S),o=c.length-1-c.lastIndexOf("/")),h=_,g=0;continue}}else if(c.length===2||c.length===1){c="",o=0,h=_,g=0;continue}}s&&(c.length>0?c+="/..":c="..",o=2)}else c.length>0?c+="/"+u.slice(h+1,_):c=u.slice(h+1,_),o=_-h-1;h=_,g=0}else v===46&&g!==-1?++g:g=-1}return c}function f(u,s){var c=s.dir||s.root,o=s.base||(s.name||"")+(s.ext||"");return c?c===s.root?c+o:c+u+o:o}var p={resolve:function(){for(var u="",s=!1,c,o=arguments.length-1;o>=-1&&!s;o--){var h;o>=0?h=arguments[o]:(c===void 0&&(c=r.cwd()),h=c),a(h),h.length!==0&&(u=h+"/"+u,s=h.charCodeAt(0)===47)}return u=l(u,!s),s?u.length>0?"/"+u:"/":u.length>0?u:"."},normalize:function(u){if(a(u),u.length===0)return".";var s=u.charCodeAt(0)===47,c=u.charCodeAt(u.length-1)===47;return u=l(u,!s),u.length===0&&!s&&(u="."),u.length>0&&c&&(u+="/"),s?"/"+u:u},isAbsolute:function(u){return a(u),u.length>0&&u.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var u,s=0;s<arguments.length;++s){var c=arguments[s];a(c),c.length>0&&(u===void 0?u=c:u+="/"+c)}return u===void 0?".":p.normalize(u)},relative:function(u,s){if(a(u),a(s),u===s||(u=p.resolve(u),s=p.resolve(s),u===s))return"";for(var c=1;c<u.length&&u.charCodeAt(c)===47;++c);for(var o=u.length,h=o-c,g=1;g<s.length&&s.charCodeAt(g)===47;++g);for(var v=s.length,_=v-g,S=h<_?h:_,E=-1,M=0;M<=S;++M){if(M===S){if(_>S){if(s.charCodeAt(g+M)===47)return s.slice(g+M+1);if(M===0)return s.slice(g+M)}else h>S&&(u.charCodeAt(c+M)===47?E=M:M===0&&(E=0));break}var C=u.charCodeAt(c+M),I=s.charCodeAt(g+M);if(C!==I)break;C===47&&(E=M)}var U="";for(M=c+E+1;M<=o;++M)(M===o||u.charCodeAt(M)===47)&&(U.length===0?U+="..":U+="/..");return U.length>0?U+s.slice(g+E):(g+=E,s.charCodeAt(g)===47&&++g,s.slice(g))},_makeLong:function(u){return u},dirname:function(u){if(a(u),u.length===0)return".";for(var s=u.charCodeAt(0),c=s===47,o=-1,h=!0,g=u.length-1;g>=1;--g)if(s=u.charCodeAt(g),s===47){if(!h){o=g;break}}else h=!1;return o===-1?c?"/":".":c&&o===1?"//":u.slice(0,o)},basename:function(u,s){if(s!==void 0&&typeof s!="string")throw new TypeError('"ext" argument must be a string');a(u);var c=0,o=-1,h=!0,g;if(s!==void 0&&s.length>0&&s.length<=u.length){if(s.length===u.length&&s===u)return"";var v=s.length-1,_=-1;for(g=u.length-1;g>=0;--g){var S=u.charCodeAt(g);if(S===47){if(!h){c=g+1;break}}else _===-1&&(h=!1,_=g+1),v>=0&&(S===s.charCodeAt(v)?--v===-1&&(o=g):(v=-1,o=_))}return c===o?o=_:o===-1&&(o=u.length),u.slice(c,o)}else{for(g=u.length-1;g>=0;--g)if(u.charCodeAt(g)===47){if(!h){c=g+1;break}}else o===-1&&(h=!1,o=g+1);return o===-1?"":u.slice(c,o)}},extname:function(u){a(u);for(var s=-1,c=0,o=-1,h=!0,g=0,v=u.length-1;v>=0;--v){var _=u.charCodeAt(v);if(_===47){if(!h){c=v+1;break}continue}o===-1&&(h=!1,o=v+1),_===46?s===-1?s=v:g!==1&&(g=1):s!==-1&&(g=-1)}return s===-1||o===-1||g===0||g===1&&s===o-1&&s===c+1?"":u.slice(s,o)},format:function(u){if(u===null||typeof u!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof u);return f("/",u)},parse:function(u){a(u);var s={root:"",dir:"",base:"",ext:"",name:""};if(u.length===0)return s;var c=u.charCodeAt(0),o=c===47,h;o?(s.root="/",h=1):h=0;for(var g=-1,v=0,_=-1,S=!0,E=u.length-1,M=0;E>=h;--E){if(c=u.charCodeAt(E),c===47){if(!S){v=E+1;break}continue}_===-1&&(S=!1,_=E+1),c===46?g===-1?g=E:M!==1&&(M=1):g!==-1&&(M=-1)}return g===-1||_===-1||M===0||M===1&&g===_-1&&g===v+1?_!==-1&&(v===0&&o?s.base=s.name=u.slice(1,_):s.base=s.name=u.slice(v,_)):(v===0&&o?(s.name=u.slice(1,g),s.base=u.slice(1,_)):(s.name=u.slice(v,g),s.base=u.slice(v,_)),s.ext=u.slice(g,_)),v>0?s.dir=u.slice(0,v-1):o&&(s.dir="/"),s},sep:"/",delimiter:":",win32:null,posix:null};return p.posix=p,As=p,As}var As,kh,Bh,N_=hn(()=>{Le(),De(),Ue(),Qy(),As={},kh=!1,Bh=C_()}),Xy={};tl(Xy,{URL:()=>hb,Url:()=>ob,default:()=>Mt,fileURLToPath:()=>Ky,format:()=>sb,parse:()=>fb,pathToFileURL:()=>$y,resolve:()=>ub,resolveObject:()=>cb});function Kn(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function Wa(r,a,l){if(r&&tr.isObject(r)&&r instanceof Kn)return r;var f=new Kn;return f.parse(r,a,l),f}function j_(){if(Uh)return Ts;Uh=!0;var r=Gt;function a(u){if(typeof u!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(u))}function l(u,s){for(var c="",o=0,h=-1,g=0,v,_=0;_<=u.length;++_){if(_<u.length)v=u.charCodeAt(_);else{if(v===47)break;v=47}if(v===47){if(!(h===_-1||g===1))if(h!==_-1&&g===2){if(c.length<2||o!==2||c.charCodeAt(c.length-1)!==46||c.charCodeAt(c.length-2)!==46){if(c.length>2){var S=c.lastIndexOf("/");if(S!==c.length-1){S===-1?(c="",o=0):(c=c.slice(0,S),o=c.length-1-c.lastIndexOf("/")),h=_,g=0;continue}}else if(c.length===2||c.length===1){c="",o=0,h=_,g=0;continue}}s&&(c.length>0?c+="/..":c="..",o=2)}else c.length>0?c+="/"+u.slice(h+1,_):c=u.slice(h+1,_),o=_-h-1;h=_,g=0}else v===46&&g!==-1?++g:g=-1}return c}function f(u,s){var c=s.dir||s.root,o=s.base||(s.name||"")+(s.ext||"");return c?c===s.root?c+o:c+u+o:o}var p={resolve:function(){for(var u="",s=!1,c,o=arguments.length-1;o>=-1&&!s;o--){var h;o>=0?h=arguments[o]:(c===void 0&&(c=r.cwd()),h=c),a(h),h.length!==0&&(u=h+"/"+u,s=h.charCodeAt(0)===47)}return u=l(u,!s),s?u.length>0?"/"+u:"/":u.length>0?u:"."},normalize:function(u){if(a(u),u.length===0)return".";var s=u.charCodeAt(0)===47,c=u.charCodeAt(u.length-1)===47;return u=l(u,!s),u.length===0&&!s&&(u="."),u.length>0&&c&&(u+="/"),s?"/"+u:u},isAbsolute:function(u){return a(u),u.length>0&&u.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var u,s=0;s<arguments.length;++s){var c=arguments[s];a(c),c.length>0&&(u===void 0?u=c:u+="/"+c)}return u===void 0?".":p.normalize(u)},relative:function(u,s){if(a(u),a(s),u===s||(u=p.resolve(u),s=p.resolve(s),u===s))return"";for(var c=1;c<u.length&&u.charCodeAt(c)===47;++c);for(var o=u.length,h=o-c,g=1;g<s.length&&s.charCodeAt(g)===47;++g);for(var v=s.length,_=v-g,S=h<_?h:_,E=-1,M=0;M<=S;++M){if(M===S){if(_>S){if(s.charCodeAt(g+M)===47)return s.slice(g+M+1);if(M===0)return s.slice(g+M)}else h>S&&(u.charCodeAt(c+M)===47?E=M:M===0&&(E=0));break}var C=u.charCodeAt(c+M),I=s.charCodeAt(g+M);if(C!==I)break;C===47&&(E=M)}var U="";for(M=c+E+1;M<=o;++M)(M===o||u.charCodeAt(M)===47)&&(U.length===0?U+="..":U+="/..");return U.length>0?U+s.slice(g+E):(g+=E,s.charCodeAt(g)===47&&++g,s.slice(g))},_makeLong:function(u){return u},dirname:function(u){if(a(u),u.length===0)return".";for(var s=u.charCodeAt(0),c=s===47,o=-1,h=!0,g=u.length-1;g>=1;--g)if(s=u.charCodeAt(g),s===47){if(!h){o=g;break}}else h=!1;return o===-1?c?"/":".":c&&o===1?"//":u.slice(0,o)},basename:function(u,s){if(s!==void 0&&typeof s!="string")throw new TypeError('"ext" argument must be a string');a(u);var c=0,o=-1,h=!0,g;if(s!==void 0&&s.length>0&&s.length<=u.length){if(s.length===u.length&&s===u)return"";var v=s.length-1,_=-1;for(g=u.length-1;g>=0;--g){var S=u.charCodeAt(g);if(S===47){if(!h){c=g+1;break}}else _===-1&&(h=!1,_=g+1),v>=0&&(S===s.charCodeAt(v)?--v===-1&&(o=g):(v=-1,o=_))}return c===o?o=_:o===-1&&(o=u.length),u.slice(c,o)}else{for(g=u.length-1;g>=0;--g)if(u.charCodeAt(g)===47){if(!h){c=g+1;break}}else o===-1&&(h=!1,o=g+1);return o===-1?"":u.slice(c,o)}},extname:function(u){a(u);for(var s=-1,c=0,o=-1,h=!0,g=0,v=u.length-1;v>=0;--v){var _=u.charCodeAt(v);if(_===47){if(!h){c=v+1;break}continue}o===-1&&(h=!1,o=v+1),_===46?s===-1?s=v:g!==1&&(g=1):s!==-1&&(g=-1)}return s===-1||o===-1||g===0||g===1&&s===o-1&&s===c+1?"":u.slice(s,o)},format:function(u){if(u===null||typeof u!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof u);return f("/",u)},parse:function(u){a(u);var s={root:"",dir:"",base:"",ext:"",name:""};if(u.length===0)return s;var c=u.charCodeAt(0),o=c===47,h;o?(s.root="/",h=1):h=0;for(var g=-1,v=0,_=-1,S=!0,E=u.length-1,M=0;E>=h;--E){if(c=u.charCodeAt(E),c===47){if(!S){v=E+1;break}continue}_===-1&&(S=!1,_=E+1),c===46?g===-1?g=E:M!==1&&(M=1):g!==-1&&(M=-1)}return g===-1||_===-1||M===0||M===1&&g===_-1&&g===v+1?_!==-1&&(v===0&&o?s.base=s.name=u.slice(1,_):s.base=s.name=u.slice(v,_)):(v===0&&o?(s.name=u.slice(1,g),s.base=u.slice(1,_)):(s.name=u.slice(v,g),s.base=u.slice(v,_)),s.ext=u.slice(g,_)),v>0?s.dir=u.slice(0,v-1):o&&(s.dir="/"),s},sep:"/",delimiter:":",win32:null,posix:null};return p.posix=p,Ts=p,Ts}function k_(r){if(typeof r=="string")r=new URL(r);else if(!(r instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(r.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return Cs?B_(r):U_(r)}function B_(r){let a=r.hostname,l=r.pathname;for(let f=0;f<l.length;f++)if(l[f]==="%"){let p=l.codePointAt(f+2)||32;if(l[f+1]==="2"&&p===102||l[f+1]==="5"&&p===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(l=l.replace(tb,"\\"),l=decodeURIComponent(l),a!=="")return`\\\\${a}${l}`;{let f=l.codePointAt(1)|32,p=l[2];if(f<Jy||f>eb||p!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return l.slice(1)}}function U_(r){if(r.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let a=r.pathname;for(let l=0;l<a.length;l++)if(a[l]==="%"){let f=a.codePointAt(l+2)||32;if(a[l+1]==="2"&&f===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(a)}function D_(r){let a=Dh.resolve(r),l=r.charCodeAt(r.length-1);(l===Zy||Cs&&l===Fy)&&a[a.length-1]!==Dh.sep&&(a+="/");let f=new URL("file://");return a.includes("%")&&(a=a.replace(nb,"%25")),!Cs&&a.includes("\\")&&(a=a.replace(rb,"%5C")),a.includes(`
`)&&(a=a.replace(ib,"%0A")),a.includes("\r")&&(a=a.replace(lb,"%0D")),a.includes("	")&&(a=a.replace(ab,"%09")),f.pathname=a,f}function Ky(r){if(typeof r=="string")r=new URL(r);else if(!(r instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(r.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return Ns?L_(r):I_(r)}function L_(r){let a=r.hostname,l=r.pathname;for(let f=0;f<l.length;f++)if(l[f]==="%"){let p=l.codePointAt(f+2)||32;if(l[f+1]==="2"&&p===102||l[f+1]==="5"&&p===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(l=l.replace(yb,"\\"),l=decodeURIComponent(l),a!=="")return`\\\\${a}${l}`;{let f=l.codePointAt(1)|32,p=l[2];if(f<gb||f>mb||p!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return l.slice(1)}}function I_(r){if(r.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let a=r.pathname;for(let l=0;l<a.length;l++)if(a[l]==="%"){let f=a.codePointAt(l+2)||32;if(a[l+1]==="2"&&f===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(a)}function $y(r){let a=Bh.resolve(r),l=r.charCodeAt(r.length-1);(l===pb||Ns&&l===db)&&a[a.length-1]!==Bh.sep&&(a+="/");let f=new URL("file://");return a.includes("%")&&(a=a.replace(bb,"%25")),!Ns&&a.includes("\\")&&(a=a.replace(vb,"%5C")),a.includes(`
`)&&(a=a.replace(wb,"%0A")),a.includes("\r")&&(a=a.replace(_b,"%0D")),a.includes("	")&&(a=a.replace(Sb,"%09")),f.pathname=a,f}var Mt,y0,tr,b0,v0,w0,_0,gs,hf,df,pf,S0,E0,ms,Yi,ys,Ts,Uh,Dh,x0,Fy,Zy,Jy,eb,Cs,tb,nb,rb,ib,lb,ab,A0,ob,sb,ub,cb,fb,hb,db,pb,gb,mb,Ns,yb,bb,vb,wb,_b,Sb,z_=hn(()=>{Le(),De(),Ue(),x_(),T_(),O_(),N_(),Qy(),Mt={},y0=wi,tr={isString:function(r){return typeof r=="string"},isObject:function(r){return typeof r=="object"&&r!==null},isNull:function(r){return r===null},isNullOrUndefined:function(r){return r==null}},Mt.parse=Wa,Mt.resolve=function(r,a){return Wa(r,!1,!0).resolve(a)},Mt.resolveObject=function(r,a){return r?Wa(r,!1,!0).resolveObject(a):a},Mt.format=function(r){return tr.isString(r)&&(r=Wa(r)),r instanceof Kn?r.format():Kn.prototype.format.call(r)},Mt.Url=Kn,b0=/^([a-z0-9.+-]+:)/i,v0=/:[0-9]*$/,w0=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,_0=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),gs=["'"].concat(_0),hf=["%","/","?",";","#"].concat(gs),df=["/","?","#"],pf=/^[+a-z0-9A-Z_-]{0,63}$/,S0=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,E0={javascript:!0,"javascript:":!0},ms={javascript:!0,"javascript:":!0},Yi={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},ys=cr,Kn.prototype.parse=function(r,a,l){if(!tr.isString(r))throw new TypeError("Parameter 'url' must be a string, not "+typeof r);var f=r.indexOf("?"),p=f!==-1&&f<r.indexOf("#")?"?":"#",u=r.split(p);u[0]=u[0].replace(/\\/g,"/");var s=r=u.join(p);if(s=s.trim(),!l&&r.split("#").length===1){var c=w0.exec(s);if(c)return this.path=s,this.href=s,this.pathname=c[1],c[2]?(this.search=c[2],this.query=a?ys.parse(this.search.substr(1)):this.search.substr(1)):a&&(this.search="",this.query={}),this}var o=b0.exec(s);if(o){var h=(o=o[0]).toLowerCase();this.protocol=h,s=s.substr(o.length)}if(l||o||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var g=s.substr(0,2)==="//";!g||o&&ms[o]||(s=s.substr(2),this.slashes=!0)}if(!ms[o]&&(g||o&&!Yi[o])){for(var v,_,S=-1,E=0;E<df.length;E++)(M=s.indexOf(df[E]))!==-1&&(S===-1||M<S)&&(S=M);for((_=S===-1?s.lastIndexOf("@"):s.lastIndexOf("@",S))!==-1&&(v=s.slice(0,_),s=s.slice(_+1),this.auth=decodeURIComponent(v)),S=-1,E=0;E<hf.length;E++){var M;(M=s.indexOf(hf[E]))!==-1&&(S===-1||M<S)&&(S=M)}S===-1&&(S=s.length),this.host=s.slice(0,S),s=s.slice(S),this.parseHost(),this.hostname=this.hostname||"";var C=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!C)for(var I=this.hostname.split(/\./),U=(E=0,I.length);E<U;E++){var j=I[E];if(j&&!j.match(pf)){for(var W="",V=0,L=j.length;V<L;V++)j.charCodeAt(V)>127?W+="x":W+=j[V];if(!W.match(pf)){var D=I.slice(0,E),G=I.slice(E+1),ne=j.match(S0);ne&&(D.push(ne[1]),G.unshift(ne[2])),G.length&&(s="/"+G.join(".")+s),this.hostname=D.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),C||(this.hostname=y0.toASCII(this.hostname));var ve=this.port?":"+this.port:"",_e=this.hostname||"";this.host=_e+ve,this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s))}if(!E0[h])for(E=0,U=gs.length;E<U;E++){var B=gs[E];if(s.indexOf(B)!==-1){var le=encodeURIComponent(B);le===B&&(le=escape(B)),s=s.split(B).join(le)}}var we=s.indexOf("#");we!==-1&&(this.hash=s.substr(we),s=s.slice(0,we));var he=s.indexOf("?");if(he!==-1?(this.search=s.substr(he),this.query=s.substr(he+1),a&&(this.query=ys.parse(this.query)),s=s.slice(0,he)):a&&(this.search="",this.query={}),s&&(this.pathname=s),Yi[h]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){ve=this.pathname||"";var X=this.search||"";this.path=ve+X}return this.href=this.format(),this},Kn.prototype.format=function(){var r=this.auth||"";r&&(r=(r=encodeURIComponent(r)).replace(/%3A/i,":"),r+="@");var a=this.protocol||"",l=this.pathname||"",f=this.hash||"",p=!1,u="";this.host?p=r+this.host:this.hostname&&(p=r+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(p+=":"+this.port)),this.query&&tr.isObject(this.query)&&Object.keys(this.query).length&&(u=ys.stringify(this.query));var s=this.search||u&&"?"+u||"";return a&&a.substr(-1)!==":"&&(a+=":"),this.slashes||(!a||Yi[a])&&p!==!1?(p="//"+(p||""),l&&l.charAt(0)!=="/"&&(l="/"+l)):p||(p=""),f&&f.charAt(0)!=="#"&&(f="#"+f),s&&s.charAt(0)!=="?"&&(s="?"+s),a+p+(l=l.replace(/[?#]/g,function(c){return encodeURIComponent(c)}))+(s=s.replace("#","%23"))+f},Kn.prototype.resolve=function(r){return this.resolveObject(Wa(r,!1,!0)).format()},Kn.prototype.resolveObject=function(r){if(tr.isString(r)){var a=new Kn;a.parse(r,!1,!0),r=a}for(var l=new Kn,f=Object.keys(this),p=0;p<f.length;p++){var u=f[p];l[u]=this[u]}if(l.hash=r.hash,r.href==="")return l.href=l.format(),l;if(r.slashes&&!r.protocol){for(var s=Object.keys(r),c=0;c<s.length;c++){var o=s[c];o!=="protocol"&&(l[o]=r[o])}return Yi[l.protocol]&&l.hostname&&!l.pathname&&(l.path=l.pathname="/"),l.href=l.format(),l}if(r.protocol&&r.protocol!==l.protocol){if(!Yi[r.protocol]){for(var h=Object.keys(r),g=0;g<h.length;g++){var v=h[g];l[v]=r[v]}return l.href=l.format(),l}if(l.protocol=r.protocol,r.host||ms[r.protocol])l.pathname=r.pathname;else{for(var _=(r.pathname||"").split("/");_.length&&!(r.host=_.shift()););r.host||(r.host=""),r.hostname||(r.hostname=""),_[0]!==""&&_.unshift(""),_.length<2&&_.unshift(""),l.pathname=_.join("/")}if(l.search=r.search,l.query=r.query,l.host=r.host||"",l.auth=r.auth,l.hostname=r.hostname||r.host,l.port=r.port,l.pathname||l.search){var S=l.pathname||"",E=l.search||"";l.path=S+E}return l.slashes=l.slashes||r.slashes,l.href=l.format(),l}var M=l.pathname&&l.pathname.charAt(0)==="/",C=r.host||r.pathname&&r.pathname.charAt(0)==="/",I=C||M||l.host&&r.pathname,U=I,j=l.pathname&&l.pathname.split("/")||[],W=(_=r.pathname&&r.pathname.split("/")||[],l.protocol&&!Yi[l.protocol]);if(W&&(l.hostname="",l.port=null,l.host&&(j[0]===""?j[0]=l.host:j.unshift(l.host)),l.host="",r.protocol&&(r.hostname=null,r.port=null,r.host&&(_[0]===""?_[0]=r.host:_.unshift(r.host)),r.host=null),I=I&&(_[0]===""||j[0]==="")),C)l.host=r.host||r.host===""?r.host:l.host,l.hostname=r.hostname||r.hostname===""?r.hostname:l.hostname,l.search=r.search,l.query=r.query,j=_;else if(_.length)j||(j=[]),j.pop(),j=j.concat(_),l.search=r.search,l.query=r.query;else if(!tr.isNullOrUndefined(r.search))return W&&(l.hostname=l.host=j.shift(),(ne=!!(l.host&&l.host.indexOf("@")>0)&&l.host.split("@"))&&(l.auth=ne.shift(),l.host=l.hostname=ne.shift())),l.search=r.search,l.query=r.query,tr.isNull(l.pathname)&&tr.isNull(l.search)||(l.path=(l.pathname?l.pathname:"")+(l.search?l.search:"")),l.href=l.format(),l;if(!j.length)return l.pathname=null,l.search?l.path="/"+l.search:l.path=null,l.href=l.format(),l;for(var V=j.slice(-1)[0],L=(l.host||r.host||j.length>1)&&(V==="."||V==="..")||V==="",D=0,G=j.length;G>=0;G--)(V=j[G])==="."?j.splice(G,1):V===".."?(j.splice(G,1),D++):D&&(j.splice(G,1),D--);if(!I&&!U)for(;D--;D)j.unshift("..");!I||j[0]===""||j[0]&&j[0].charAt(0)==="/"||j.unshift(""),L&&j.join("/").substr(-1)!=="/"&&j.push("");var ne,ve=j[0]===""||j[0]&&j[0].charAt(0)==="/";return W&&(l.hostname=l.host=ve?"":j.length?j.shift():"",(ne=!!(l.host&&l.host.indexOf("@")>0)&&l.host.split("@"))&&(l.auth=ne.shift(),l.host=l.hostname=ne.shift())),(I=I||l.host&&j.length)&&!ve&&j.unshift(""),j.length?l.pathname=j.join("/"):(l.pathname=null,l.path=null),tr.isNull(l.pathname)&&tr.isNull(l.search)||(l.path=(l.pathname?l.pathname:"")+(l.search?l.search:"")),l.auth=r.auth||l.auth,l.slashes=l.slashes||r.slashes,l.href=l.format(),l},Kn.prototype.parseHost=function(){var r=this.host,a=v0.exec(r);a&&((a=a[0])!==":"&&(this.port=a.substr(1)),r=r.substr(0,r.length-a.length)),r&&(this.hostname=r)},Mt.Url,Mt.format,Mt.resolve,Mt.resolveObject,Ts={},Uh=!1,Dh=j_(),x0=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,Mt.URL=typeof URL<"u"?URL:null,Mt.pathToFileURL=D_,Mt.fileURLToPath=k_,Mt.Url,Mt.format,Mt.resolve,Mt.resolveObject,Mt.URL,Fy=92,Zy=47,Jy=97,eb=122,Cs=x0==="win32",tb=/\//g,nb=/%/g,rb=/\\/g,ib=/\n/g,lb=/\r/g,ab=/\t/g,A0=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,Mt.URL=typeof URL<"u"?URL:null,Mt.pathToFileURL=$y,Mt.fileURLToPath=Ky,ob=Mt.Url,sb=Mt.format,ub=Mt.resolve,cb=Mt.resolveObject,fb=Mt.parse,hb=Mt.URL,db=92,pb=47,gb=97,mb=122,Ns=A0==="win32",yb=/\//g,bb=/%/g,vb=/\\/g,wb=/\n/g,_b=/\r/g,Sb=/\t/g}),Xh={};tl(Xh,{Server:()=>zt,Socket:()=>zt,Stream:()=>zt,_createServerHandle:()=>zt,_normalizeArgs:()=>zt,_setSimultaneousAccepts:()=>zt,connect:()=>zt,createConnection:()=>zt,createServer:()=>zt,default:()=>Eb,isIP:()=>zt,isIPv4:()=>zt,isIPv6:()=>zt});function zt(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}var Eb,xb=hn(()=>{Le(),De(),Ue(),Eb={_createServerHandle:zt,_normalizeArgs:zt,_setSimultaneousAccepts:zt,connect:zt,createConnection:zt,createServer:zt,isIP:zt,isIPv4:zt,isIPv6:zt,Server:zt,Socket:zt,Stream:zt}}),T0=Pe(r=>{Le(),De(),Ue();var a=r&&r.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(r,"__esModule",{value:!0});var l=a((xb(),Nt(Xh))),f=a(Hr()),p=(0,f.default)("mqttjs:tcp"),u=(s,c)=>{c.port=c.port||1883,c.hostname=c.hostname||c.host||"localhost";let{port:o,path:h}=c,g=c.hostname;return p("port %d and host %s",o,g),l.default.createConnection({port:o,host:g,path:h})};r.default=u}),Ab={};tl(Ab,{default:()=>Tb});var Tb,H_=hn(()=>{Le(),De(),Ue(),Tb={}}),M0=Pe(r=>{Le(),De(),Ue();var a=r&&r.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(r,"__esModule",{value:!0});var l=a((H_(),Nt(Ab))),f=a((xb(),Nt(Xh))),p=a(Hr()),u=(0,p.default)("mqttjs:tls"),s=(c,o)=>{o.port=o.port||8883,o.host=o.hostname||o.host||"localhost",f.default.isIP(o.host)===0&&(o.servername=o.host),o.rejectUnauthorized=o.rejectUnauthorized!==!1,delete o.path,u("port %d host %s rejectUnauthorized %b",o.port,o.host,o.rejectUnauthorized);let h=l.default.connect(o);h.on("secureConnect",()=>{o.rejectUnauthorized&&!h.authorized?h.emit("error",new Error("TLS not authorized")):h.removeListener("error",g)});function g(v){o.rejectUnauthorized&&c.emit("error",v),h.end()}return h.on("error",g),h};r.default=s}),Kh=Pe(r=>{Le(),De(),Ue(),Object.defineProperty(r,"__esModule",{value:!0}),r.BufferedDuplex=r.writev=void 0;var a=il(),l=(pn(),Nt(dn));function f(u,s){let c=new Array(u.length);for(let o=0;o<u.length;o++)typeof u[o].chunk=="string"?c[o]=l.Buffer.from(u[o].chunk,"utf8"):c[o]=u[o].chunk;this._write(l.Buffer.concat(c),"binary",s)}r.writev=f;var p=class extends a.Duplex{constructor(u,s,c){super({objectMode:!0}),this.proxy=s,this.socket=c,this.writeQueue=[],u.objectMode||(this._writev=f.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",o=>{this.push(o)})}_read(u){this.proxy.read(u)}_write(u,s,c){this.isSocketOpen?this.writeToProxy(u,s,c):this.writeQueue.push({chunk:u,encoding:s,cb:c})}_final(u){this.writeQueue=[],this.proxy.end(u)}_destroy(u,s){this.writeQueue=[],this.proxy.destroy(),s(u)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(u,s,c){this.proxy.write(u,s)===!1?this.proxy.once("drain",c):c()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:u,encoding:s,cb:c}=this.writeQueue.shift();this.writeToProxy(u,s,c)}}};r.BufferedDuplex=p}),O0=Pe(r=>{Le(),De(),Ue(),Object.defineProperty(r,"__esModule",{value:!0});var a=(pn(),Nt(dn)),l=il(),f=Kh(),p,u,s;function c(){let _=new l.Transform;return _._write=(S,E,M)=>{p.send({data:S.buffer,success(){M()},fail(C){M(new Error(C))}})},_._flush=S=>{p.close({success(){S()}})},_}function o(_){_.hostname||(_.hostname="localhost"),_.path||(_.path="/"),_.wsOptions||(_.wsOptions={})}function h(_,S){let E=_.protocol==="wxs"?"wss":"ws",M=`${E}://${_.hostname}${_.path}`;return _.port&&_.port!==80&&_.port!==443&&(M=`${E}://${_.hostname}:${_.port}${_.path}`),typeof _.transformWsUrl=="function"&&(M=_.transformWsUrl(M,_,S)),M}function g(){p.onOpen(()=>{s.socketReady()}),p.onMessage(_=>{let{data:S}=_;S instanceof ArrayBuffer?S=a.Buffer.from(S):S=a.Buffer.from(S,"utf8"),u.push(S)}),p.onClose(()=>{s.emit("close"),s.end(),s.destroy()}),p.onError(_=>{let S=new Error(_.errMsg);s.destroy(S)})}var v=(_,S)=>{if(S.hostname=S.hostname||S.host,!S.hostname)throw new Error("Could not determine host. Specify host manually.");let E=S.protocolId==="MQIsdp"&&S.protocolVersion===3?"mqttv3.1":"mqtt";o(S);let M=h(S,_);p=wx.connectSocket({url:M,protocols:[E]}),u=c(),s=new f.BufferedDuplex(S,u,p),s._destroy=(I,U)=>{p.close({success(){U&&U(I)}})};let C=s.destroy;return s.destroy=(I,U)=>(s.destroy=C,setTimeout(()=>{p.close({fail(){s._destroy(I,U)}})},0),s),g(),s};r.default=v}),R0=Pe(r=>{Le(),De(),Ue(),Object.defineProperty(r,"__esModule",{value:!0});var a=(pn(),Nt(dn)),l=il(),f=Kh(),p,u,s,c=!1;function o(){let S=new l.Transform;return S._write=(E,M,C)=>{p.sendSocketMessage({data:E.buffer,success(){C()},fail(){C(new Error)}})},S._flush=E=>{p.closeSocket({success(){E()}})},S}function h(S){S.hostname||(S.hostname="localhost"),S.path||(S.path="/"),S.wsOptions||(S.wsOptions={})}function g(S,E){let M=S.protocol==="alis"?"wss":"ws",C=`${M}://${S.hostname}${S.path}`;return S.port&&S.port!==80&&S.port!==443&&(C=`${M}://${S.hostname}:${S.port}${S.path}`),typeof S.transformWsUrl=="function"&&(C=S.transformWsUrl(C,S,E)),C}function v(){c||(c=!0,p.onSocketOpen(()=>{s.socketReady()}),p.onSocketMessage(S=>{if(typeof S.data=="string"){let E=a.Buffer.from(S.data,"base64");u.push(E)}else{let E=new FileReader;E.addEventListener("load",()=>{let M=E.result;M instanceof ArrayBuffer?M=a.Buffer.from(M):M=a.Buffer.from(M,"utf8"),u.push(M)}),E.readAsArrayBuffer(S.data)}}),p.onSocketClose(()=>{s.end(),s.destroy()}),p.onSocketError(S=>{s.destroy(S)}))}var _=(S,E)=>{if(E.hostname=E.hostname||E.host,!E.hostname)throw new Error("Could not determine host. Specify host manually.");let M=E.protocolId==="MQIsdp"&&E.protocolVersion===3?"mqttv3.1":"mqtt";h(E);let C=g(E,S);return p=E.my,p.connectSocket({url:C,protocols:M}),u=o(),s=new f.BufferedDuplex(E,u,p),v(),s};r.default=_}),P_=Pe((r,a)=>{Le(),De(),Ue(),a.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}),C0=Pe(r=>{Le(),De(),Ue();var a=r&&r.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(r,"__esModule",{value:!0});var l=(pn(),Nt(dn)),f=a(P_()),p=a(Hr()),u=il(),s=a(Ls()),c=Kh(),o=(0,p.default)("mqttjs:ws"),h=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function g(I,U){let j=`${I.protocol}://${I.hostname}:${I.port}${I.path}`;return typeof I.transformWsUrl=="function"&&(j=I.transformWsUrl(j,I,U)),j}function v(I){let U=I;return I.port||(I.protocol==="wss"?U.port=443:U.port=80),I.path||(U.path="/"),I.wsOptions||(U.wsOptions={}),!s.default&&I.protocol==="wss"&&h.forEach(j=>{Object.prototype.hasOwnProperty.call(I,j)&&!Object.prototype.hasOwnProperty.call(I.wsOptions,j)&&(U.wsOptions[j]=I[j])}),U}function _(I){let U=v(I);if(U.hostname||(U.hostname=U.host),!U.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let j=new URL(document.URL);U.hostname=j.hostname,U.port||(U.port=Number(j.port))}return U.objectMode===void 0&&(U.objectMode=!(U.binary===!0||U.binary===void 0)),U}function S(I,U,j){o("createWebSocket"),o(`protocol: ${j.protocolId} ${j.protocolVersion}`);let W=j.protocolId==="MQIsdp"&&j.protocolVersion===3?"mqttv3.1":"mqtt";o(`creating new Websocket for url: ${U} and protocol: ${W}`);let V;return j.createWebsocket?V=j.createWebsocket(U,[W],j):V=new f.default(U,[W],j.wsOptions),V}function E(I,U){let j=U.protocolId==="MQIsdp"&&U.protocolVersion===3?"mqttv3.1":"mqtt",W=g(U,I),V;return U.createWebsocket?V=U.createWebsocket(W,[j],U):V=new WebSocket(W,[j]),V.binaryType="arraybuffer",V}var M=(I,U)=>{o("streamBuilder");let j=v(U);j.hostname=j.hostname||j.host||"localhost";let W=g(j,I),V=S(I,W,j),L=f.default.createWebSocketStream(V,j.wsOptions);return L.url=W,V.on("close",()=>{L.destroy()}),L},C=(I,U)=>{o("browserStreamBuilder");let j,W=_(U).browserBufferSize||1024*512,V=U.browserBufferTimeout||1e3,L=!U.objectMode,D=E(I,U),G=ve(U,he,X);U.objectMode||(G._writev=c.writev.bind(G)),G.on("close",()=>{D.close()});let ne=typeof D.addEventListener<"u";D.readyState===D.OPEN?(j=G,j.socket=D):(j=new c.BufferedDuplex(U,G,D),ne?D.addEventListener("open",_e):D.onopen=_e),ne?(D.addEventListener("close",B),D.addEventListener("error",le),D.addEventListener("message",we)):(D.onclose=B,D.onerror=le,D.onmessage=we);function ve(ie,$,Oe){let k=new u.Transform({objectMode:ie.objectMode});return k._write=$,k._flush=Oe,k}function _e(){o("WebSocket onOpen"),j instanceof c.BufferedDuplex&&j.socketReady()}function B(ie){o("WebSocket onClose",ie),j.end(),j.destroy()}function le(ie){o("WebSocket onError",ie);let $=new Error("WebSocket error");$.event=ie,j.destroy($)}function we(ie){let{data:$}=ie;$ instanceof ArrayBuffer?$=l.Buffer.from($):$=l.Buffer.from($,"utf8"),G.push($)}function he(ie,$,Oe){if(D.bufferedAmount>W){setTimeout(he,V,ie,$,Oe);return}L&&typeof ie=="string"&&(ie=l.Buffer.from(ie,"utf8"));try{D.send(ie)}catch(k){return Oe(k)}Oe()}function X(ie){D.close(),ie()}return j};r.default=s.default?C:M}),q_=Pe(r=>{Le(),De(),Ue();var a=r&&r.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(r,"__esModule",{value:!0}),r.connectAsync=void 0;var l=a(Hr()),f=a((z_(),Nt(Xy))),p=a(Oh()),u=a(Ls());typeof(wt==null?void 0:wt.nextTick)!="function"&&(wt.nextTick=setImmediate);var s=(0,l.default)("mqttjs"),c={};u.default?(c.wx=O0().default,c.wxs=O0().default,c.ali=R0().default,c.alis=R0().default):(c.mqtt=T0().default,c.tcp=T0().default,c.ssl=M0().default,c.tls=c.ssl,c.mqtts=M0().default),c.ws=C0().default,c.wss=C0().default;function o(v){let _;v.auth&&(_=v.auth.match(/^(.+):(.+)$/),_?(v.username=_[1],v.password=_[2]):v.username=v.auth)}function h(v,_){var S,E,M,C;if(s("connecting to an MQTT broker..."),typeof v=="object"&&!_&&(_=v,v=""),_=_||{},v&&typeof v=="string"){let j=f.default.parse(v,!0),W={};if(j.port!=null&&(W.port=Number(j.port)),W.host=j.hostname,W.query=j.query,W.auth=j.auth,W.protocol=j.protocol,W.path=j.path,W.protocol=(S=W.protocol)===null||S===void 0?void 0:S.replace(/:$/,""),_=Object.assign(Object.assign({},W),_),!_.protocol)throw new Error("Missing protocol")}if(_.unixSocket=_.unixSocket||((E=_.protocol)===null||E===void 0?void 0:E.includes("+unix")),_.unixSocket?_.protocol=_.protocol.replace("+unix",""):!(!((M=_.protocol)===null||M===void 0)&&M.startsWith("ws"))&&!(!((C=_.protocol)===null||C===void 0)&&C.startsWith("wx"))&&delete _.path,o(_),_.query&&typeof _.query.clientId=="string"&&(_.clientId=_.query.clientId),_.cert&&_.key)if(_.protocol){if(["mqtts","wss","wxs","alis"].indexOf(_.protocol)===-1)switch(_.protocol){case"mqtt":_.protocol="mqtts";break;case"ws":_.protocol="wss";break;case"wx":_.protocol="wxs";break;case"ali":_.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${_.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(!c[_.protocol]){let j=["mqtts","wss"].indexOf(_.protocol)!==-1;_.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((W,V)=>j&&V%2===0?!1:typeof c[W]=="function")[0]}if(_.clean===!1&&!_.clientId)throw new Error("Missing clientId for unclean clients");_.protocol&&(_.defaultProtocol=_.protocol);function I(j){return _.servers&&((!j._reconnectCount||j._reconnectCount===_.servers.length)&&(j._reconnectCount=0),_.host=_.servers[j._reconnectCount].host,_.port=_.servers[j._reconnectCount].port,_.protocol=_.servers[j._reconnectCount].protocol?_.servers[j._reconnectCount].protocol:_.defaultProtocol,_.hostname=_.host,j._reconnectCount++),s("calling streambuilder for",_.protocol),c[_.protocol](j,_)}let U=new p.default(I,_);return U.on("error",()=>{}),U}function g(v,_,S=!0){return new Promise((E,M)=>{let C=h(v,_),I={connect:j=>{U(),E(C)},end:()=>{U(),E(C)},error:j=>{U(),C.end(),M(j)}};S===!1&&(I.close=()=>{I.error(new Error("Couldn't connect to server"))});function U(){Object.keys(I).forEach(j=>{C.off(j,I[j])})}Object.keys(I).forEach(j=>{C.on(j,I[j])})})}r.connectAsync=g,r.default=h}),N0=Pe(r=>{Le(),De(),Ue();var a=r&&r.__createBinding||(Object.create?function(S,E,M,C){C===void 0&&(C=M);var I=Object.getOwnPropertyDescriptor(E,M);(!I||("get"in I?!E.__esModule:I.writable||I.configurable))&&(I={enumerable:!0,get:function(){return E[M]}}),Object.defineProperty(S,C,I)}:function(S,E,M,C){C===void 0&&(C=M),S[C]=E[M]}),l=r&&r.__setModuleDefault||(Object.create?function(S,E){Object.defineProperty(S,"default",{enumerable:!0,value:E})}:function(S,E){S.default=E}),f=r&&r.__importStar||function(S){if(S&&S.__esModule)return S;var E={};if(S!=null)for(var M in S)M!=="default"&&Object.prototype.hasOwnProperty.call(S,M)&&a(E,S,M);return l(E,S),E},p=r&&r.__exportStar||function(S,E){for(var M in S)M!=="default"&&!Object.prototype.hasOwnProperty.call(E,M)&&a(E,S,M)},u=r&&r.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(r,"__esModule",{value:!0}),r.ReasonCodes=r.KeepaliveManager=r.UniqueMessageIdProvider=r.DefaultMessageIdProvider=r.Store=r.MqttClient=r.connectAsync=r.connect=r.Client=void 0;var s=u(Oh());r.MqttClient=s.default;var c=u(Ay());r.DefaultMessageIdProvider=c.default;var o=u(E_());r.UniqueMessageIdProvider=o.default;var h=u(Ty());r.Store=h.default;var g=f(q_());r.connect=g.default,Object.defineProperty(r,"connectAsync",{enumerable:!0,get:function(){return g.connectAsync}});var v=u(qy());r.KeepaliveManager=v.default,r.Client=s.default,p(Oh(),r),p(Za(),r);var _=Ds();Object.defineProperty(r,"ReasonCodes",{enumerable:!0,get:function(){return _.ReasonCodes}})}),G_=Pe(r=>{Le(),De(),Ue();var a=r&&r.__createBinding||(Object.create?function(s,c,o,h){h===void 0&&(h=o);var g=Object.getOwnPropertyDescriptor(c,o);(!g||("get"in g?!c.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return c[o]}}),Object.defineProperty(s,h,g)}:function(s,c,o,h){h===void 0&&(h=o),s[h]=c[o]}),l=r&&r.__setModuleDefault||(Object.create?function(s,c){Object.defineProperty(s,"default",{enumerable:!0,value:c})}:function(s,c){s.default=c}),f=r&&r.__importStar||function(s){if(s&&s.__esModule)return s;var c={};if(s!=null)for(var o in s)o!=="default"&&Object.prototype.hasOwnProperty.call(s,o)&&a(c,s,o);return l(c,s),c},p=r&&r.__exportStar||function(s,c){for(var o in s)o!=="default"&&!Object.prototype.hasOwnProperty.call(c,o)&&a(c,s,o)};Object.defineProperty(r,"__esModule",{value:!0});var u=f(N0());r.default=u,p(N0(),r)});const V_=G_();/*! Bundled license information:

@jspm/core/nodelibs/browser/buffer.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/const Y_="wss://broker.hivemq.com:8884/mqtt",Mn="gemini-maze-race/v3";class W_{constructor(){this.client=null,this.connectionPromise=null,this.onGameStateUpdateCallback=null,this.onMatchFoundCallback=null,this.subscribedGameId=null,this.subscribedLobbyId=null}connect(){var a;return(a=this.client)!=null&&a.connected?Promise.resolve(this.client):this.connectionPromise?this.connectionPromise:(this.connectionPromise=new Promise((l,f)=>{const p=V_.connect(Y_),u=s=>{console.error("MQTT Connection Error:",s),p.end(!0),this.connectionPromise=null,this.client=null,f(s)};p.on("connect",()=>{console.log("MQTT Client Connected"),this.client=p,p.removeListener("error",u),p.on("message",this.handleMessage.bind(this)),l(p)}),p.on("error",u)}),this.connectionPromise)}handleMessage(a,l){try{const f=l.toString();if(!f)return;const p=JSON.parse(f);a===`${Mn}/game/${this.subscribedGameId}/state`&&this.onGameStateUpdateCallback&&this.onGameStateUpdateCallback(p),a===`${Mn}/lobby/match/${this.subscribedLobbyId}`&&this.onMatchFoundCallback&&p.type==="MATCH_FOUND"&&this.handleMatchFound(p),a===`${Mn}/lobby/join`&&p.type==="JOIN_REQUEST"&&this.onMatchFoundCallback&&p.lobbyId!==this.subscribedLobbyId&&this.createMatchFromLobby(p)}catch(f){console.error("Error parsing MQTT message:",f)}}async publishGameState(a,l){(await this.connect()).publish(`${Mn}/game/${a}/state`,JSON.stringify(l),{qos:1,retain:!0})}onGameStateUpdate(a,l){this.subscribedGameId=a,this.onGameStateUpdateCallback=l;const f=`${Mn}/game/${a}/state`;return this.connect().then(p=>p.subscribe(f,{qos:1})),()=>{this.connect().then(p=>{p.unsubscribe(f),this.subscribedGameId=null,this.onGameStateUpdateCallback=null})}}async createGame(a,l,f){await this.connect();const p=Math.random().toString(36).substr(2,6),u={players:{1:a},walls:[],currentPlayerId:1,winner:null,gameTime:0,turnTime:l,timestamp:Date.now()};return await this.publishGameState(p,u),p}async joinGame(a,l){const f=await this.getInitialGameState(a);if(!f||Object.keys(f.players).length!==1)return null;const p=f.players[1].position.c,u=Xe-1-p,s=f.players[1].wallsLeft,c={id:2,name:l,color:"#ec4899",position:{r:0,c:u},wallsLeft:s,goalRow:Xe-1};return f.players[2]=c,f.timestamp=Date.now(),await this.publishGameState(a,f),f}getInitialGameState(a){return new Promise(async l=>{const f=await this.connect(),p=`${Mn}/game/${a}/state`,u=setTimeout(()=>{f.removeListener("message",s),f.unsubscribe(p),l(null)},8e3),s=(c,o)=>{if(c===p){clearTimeout(u),f.removeListener("message",s),f.unsubscribe(p);const h=o.toString();l(h?JSON.parse(h):null)}};f.on("message",s),f.subscribe(p,{qos:1})})}fetchCurrentGameState(a){return new Promise(async l=>{const f=await this.connect(),p=`${Mn}/game/${a}/state`,u=setTimeout(()=>{f.removeListener("message",s),f.unsubscribe(p),l(null)},950),s=(c,o)=>{if(c===p){clearTimeout(u),f.removeListener("message",s),f.unsubscribe(p);const h=o.toString();l(h?JSON.parse(h):null)}};f.on("message",s),f.subscribe(p,{qos:1})})}async leaveGame(a,l){const f=await this.connect();l&&(await this.publishGameState(a,l),await new Promise(p=>setTimeout(p,200))),f.publish(`${Mn}/game/${a}/state`,"",{qos:1,retain:!0})}findMatch(a,l,f,p){this.connect().then(u=>{this.onMatchFoundCallback=p,this.subscribedLobbyId=Math.random().toString(36).substr(2,9),sessionStorage.setItem("matchmaking_player",JSON.stringify(a)),u.subscribe(`${Mn}/lobby/join`,{qos:1}),u.subscribe(`${Mn}/lobby/match/${this.subscribedLobbyId}`,{qos:1});const s={type:"JOIN_REQUEST",lobbyId:this.subscribedLobbyId,playerData:a,startPos:f,duration:l};u.publish(`${Mn}/lobby/join`,JSON.stringify(s),{qos:1})})}cancelFindMatch(){this.subscribedLobbyId&&this.connect().then(a=>{a.unsubscribe(`${Mn}/lobby/join`),a.unsubscribe(`${Mn}/lobby/match/${this.subscribedLobbyId}`),this.subscribedLobbyId=null,this.onMatchFoundCallback=null,sessionStorage.removeItem("matchmaking_player")})}handleMatchFound(a){if(!this.onMatchFoundCallback)return;const l={players:{1:a.player1,2:a.player2},walls:[],currentPlayerId:1,winner:null,gameTime:0,turnTime:a.duration,timestamp:Date.now()};this.onMatchFoundCallback(a.gameId,2,l),this.cancelFindMatch()}createMatchFromLobby(a){if(!this.onMatchFoundCallback)return;const l=JSON.parse(sessionStorage.getItem("matchmaking_player")||"{}"),f=a.playerData;f.wallsLeft=l.wallsLeft;const p=a.startPos===vn.CENTER?Math.floor(Xe/2):Math.floor(Math.random()*Xe),u=Xe-1-p,s={...l,id:1,color:"#22d3ee",position:{r:Xe-1,c:p},goalRow:0},c={...f,id:2,color:"#ec4899",position:{r:0,c:u},goalRow:Xe-1},o=Math.random().toString(36).substr(2,6),h={type:"MATCH_FOUND",gameId:o,player1:s,player2:c,duration:a.duration};this.connect().then(v=>{v.publish(`${Mn}/lobby/match/${a.lobbyId}`,JSON.stringify(h),{qos:1})});const g={players:{1:s,2:c},walls:[],currentPlayerId:1,winner:null,gameTime:0,turnTime:a.duration,timestamp:Date.now()};this.publishGameState(o,g),this.onMatchFoundCallback(o,1,g),this.cancelFindMatch()}}const Xn=new W_;var fn=(r=>(r.StartGame="start-game",r.MovePawn="move-pawn",r.PlaceWall="place-wall",r.WinGame="win-game",r.LoseGame="lose-game",r.TimerTick="timer-tick",r.UIClick="ui-click",r.Error="error",r))(fn||{});const Q_={"ui-click":"./sounds/ui-click.mp3","start-game":"./sounds/start-game.mp3","move-pawn":"./sounds/move-pawn.mp3","place-wall":"./sounds/place-wall.mp3","win-game":"./sounds/win-game.mp3","lose-game":"./sounds/lose-game.mp3","timer-tick":"./sounds/timer-tick.mp3",error:"./sounds/error.mp3"};class X_{constructor(){if(this._isMuted=!1,typeof window<"u"){const a=localStorage.getItem("soundMuted")==="true";this._isMuted=a}}play(a){if(this._isMuted||typeof window>"u")return;const f=new Audio(Q_[a]).play();f!==void 0&&f.catch(p=>{console.warn(`Sound playback for "${a}" was prevented:`,p)})}get isMuted(){return this._isMuted}toggleMute(){this._isMuted=!this._isMuted,localStorage.setItem("soundMuted",this._isMuted.toString())}}const en=new X_,K_=r=>new Promise(a=>setTimeout(a,r)),$_=()=>{const[r,a]=ze.useState(ut.MENU),[l,f]=ze.useState(yt.PVP),[p,u]=ze.useState(In.MEDIUM),[s,c]=ze.useState(Xi.LOCAL),[o,h]=ze.useState(vn.CENTER),[g,v]=ze.useState({}),[_,S]=ze.useState([]),[E,M]=ze.useState(1),[C,I]=ze.useState(null),[U,j]=ze.useState(null),[W,V]=ze.useState([]),[L,D]=ze.useState(!1),[G,ne]=ze.useState(!1),[ve,_e]=ze.useState(null),[B,le]=ze.useState(null),[we,he]=ze.useState(0),[X,ie]=ze.useState(60),[$,Oe]=ze.useState(60),[k,ae]=ze.useState(!1),[T,F]=ze.useState(null),[de,ke]=ze.useState(null),[ce,H]=ze.useState(null),[N,fe]=ze.useState(null),[Re,xe]=ze.useState(null),[Te,Ie]=ze.useState(10),[je,q]=ze.useState(null),[te,Z]=ze.useState(null),[Me,Ae]=ze.useState(0),K=ze.useRef(Me);ze.useEffect(()=>{K.current=Me},[Me]);const oe=ze.useCallback((Se=!1)=>{S([]),M(1),I(null),j(null),V([]),D(!1),_e(null),le(null),he(0),ie($),Re&&clearTimeout(Re),xe(null),ce&&!Se&&Xn.leaveGame(ce),H(null),fe(null),q(null),Z(null),Ae(0)},[$,ce,Re]),P=ze.useCallback((Se,qe,Qe)=>{const Je=JSON.parse(JSON.stringify(Se));if(Je.winner||qe.type!=="TIMEOUT"&&qe.type!=="FORFEIT"&&Qe!==Je.currentPlayerId)return Se;const{players:ot,walls:pt}=Je;switch(qe.type){case"MOVE":ot[Qe].position=qe.to,qe.to.r===ot[Qe].goalRow&&(Je.winner=ot[Qe]);break;case"PLACE_WALL":const jt={...qe.wall,playerId:Qe};pt.push(jt),ot[Qe].wallsLeft--;break;case"TIMEOUT":case"FORFEIT":Je.winner=ot[Qe===1?2:1];break}return Je.winner||(Je.currentPlayerId=Qe===1?2:1),Je.turnTime=$,Je.timestamp=Date.now(),Je},[$]),J=ze.useCallback(()=>{q(null),a(ut.MENU)},[]),se=ze.useCallback(()=>{Z(null)},[]),me=ze.useCallback(()=>{if(r===ut.AWAITING_AUTH){J();return}if(r===ut.PLAYING&&l===yt.PVO&&ce&&N&&!C){const qe=P({players:g,walls:_,currentPlayerId:E,winner:C,gameTime:we,turnTime:X,timestamp:Me},{type:"FORFEIT"},N);Xn.leaveGame(ce,qe),a(ut.MENU),oe(!0)}else a(ut.MENU),oe(!1)},[oe,r,l,ce,N,C,g,_,E,we,X,P,J,Me]),b=ze.useCallback((Se,qe="Player 1",Qe,Je,ot,pt,jt)=>{oe();let lt="Player 2";if(Se===yt.PVC)if(Qe===Xi.GEMINI)lt=`Gemini AI (${Je.charAt(0)+Je.slice(1).toLowerCase()})`;else switch(Je){case In.EASY:lt="AI (Easy)";break;case In.MEDIUM:lt="AI (Medium)";break;case In.HARD:lt="AI (Hard)";break;default:lt="AI";break}Ie(jt);const _t=pt===vn.CENTER?Math.floor(Xe/2):Math.floor(Math.random()*Xe),eo=pt===vn.CENTER?Math.floor(Xe/2):Xe-1-_t,dr={id:1,name:qe,color:"#22d3ee",position:{r:Xe-1,c:_t},wallsLeft:jt,goalRow:0},Qr={id:2,name:lt,color:"#ec4899",position:{r:0,c:eo},wallsLeft:jt,goalRow:Xe-1};v({1:dr,2:Qr}),Oe(ot),ie(ot),a(ut.PLAYING)},[oe]),m=ze.useCallback(()=>{if(je){const{mode:Se,diff:qe,p1Name:Qe,type:Je,duration:ot,startPos:pt,wallsCount:jt}=je;f(Se),u(qe),c(Je),h(pt),b(Se,Qe,Je,qe,ot,pt,jt),q(null)}else r===ut.AWAITING_AUTH&&a(ut.MENU)},[je,b,r]);ze.useEffect(()=>Vl.onAuthStateChanged(qe=>{qe&&r===ut.AWAITING_AUTH&&m()}),[r,m]);const w=ze.useCallback((Se,qe,Qe,Je)=>{const ot=Qe.id===Se.playerId?Qe:Je;if(!ot||ot.wallsLeft<=0)return"You have no walls left.";if(Se.orientation==="horizontal"&&(Se.c<0||Se.c>=Xe-1||Se.r<=0||Se.r>=Xe)||Se.orientation==="vertical"&&(Se.r<0||Se.r>=Xe-1||Se.c<=0||Se.c>=Xe))return"Wall placement is out of bounds.";for(const _t of qe){if(_t.r===Se.r&&_t.c===Se.c&&_t.orientation===Se.orientation)return"A wall already exists there.";if(Se.orientation==="horizontal"){if(_t.orientation==="horizontal"&&_t.r===Se.r&&Math.abs(_t.c-Se.c)<2)return"Walls cannot overlap.";if(_t.orientation==="vertical"&&_t.r===Se.r-1&&_t.c===Se.c+1)return"Walls cannot cross each other."}else{if(_t.orientation==="vertical"&&_t.c===Se.c&&Math.abs(_t.r-Se.r)<2)return"Walls cannot overlap.";if(_t.orientation==="horizontal"&&_t.r===Se.r+1&&_t.c===Se.c-1)return"Walls cannot cross each other."}}const pt=[...qe,Se];return Ur(Qe.position,Qe.goalRow,pt,Je.position)!==null?Ur(Je.position,Je.goalRow,pt,Qe.position)!==null?!0:`This wall would trap ${Je.name}.`:`This wall would trap ${Qe.name}.`},[]),O=ze.useCallback(()=>{M(Se=>Se===1?2:1),j(null),V([]),D(!1),F(null),ke(null),ie($)},[$]),z=ze.useCallback(Se=>{if(!g[1]||!g[2])return;const qe=g[E===1?2:1].position,Qe=ql(Se,_,qe);V(Qe)},[g,_,E]),ee=l===yt.PVO&&N===2,Ee=ze.useCallback(Se=>!Se||!ee?Se:{r:Xe-1-Se.r,c:Xe-1-Se.c},[ee]),Ge=Ee,Ye=ze.useCallback(Se=>!Se||!ee?Se:Se.orientation==="horizontal"?{...Se,r:Xe-Se.r,c:Xe-2-Se.c}:{...Se,r:Xe-2-Se.r,c:Xe-Se.c},[ee]),$e=Ye,Ve=ze.useCallback(Se=>{if(Se.timestamp<=K.current)return;v(Se.players),S(Se.walls),M(Se.currentPlayerId),I(Se.winner),he(Se.gameTime),ie(Se.turnTime),Ae(Se.timestamp);const qe=Se.players&&Se.players[1]&&Se.players[2];qe&&Se.players[1]&&typeof Se.players[1].wallsLeft=="number"&&Ie(Se.players[1].wallsLeft),qe&&Re&&(clearTimeout(Re),xe(null)),Se.winner?a(ut.GAME_OVER):qe&&a(Qe=>Qe===ut.ONLINE_WAITING||Qe===ut.MENU?ut.PLAYING:Qe)},[Re]),et=ze.useCallback((Se,qe)=>{const Qe=Ge(Se),Je=qe?Ge(qe):U;if(!Je||!g[1]||!g[2]||l===yt.PVO&&E!==N)return;const ot=g[E===1?2:1].position;if(ql(Je,_,ot).some(lt=>lt.r===Qe.r&&lt.c===Qe.c))if(en.play(fn.MovePawn),l===yt.PVO&&ce&&N){const _t=P({players:g,walls:_,currentPlayerId:E,winner:C,gameTime:we,turnTime:X,timestamp:Me},{type:"MOVE",to:Qe},N);Ve(_t),Xn.publishGameState(ce,_t)}else{const lt={...g};lt[E].position=Qe,v(lt),Qe.r===g[E].goalRow?(I(g[E]),a(ut.GAME_OVER)):O()}j(null),V([])},[g,_,U,E,O,l,ce,N,C,we,X,P,Ge,Ve,Me]),Fe=ze.useCallback(Se=>{const qe=$e(Se);if(!g[1]||!g[2]||l===yt.PVO&&E!==N)return;F(null);const Qe={...qe,playerId:E},Je=w(Qe,_,g[1],g[2]);if(Je!==!0){F(Je);return}if(en.play(fn.PlaceWall),l===yt.PVO&&ce&&N){const pt=P({players:g,walls:_,currentPlayerId:E,winner:C,gameTime:we,turnTime:X,timestamp:Me},{type:"PLACE_WALL",wall:qe},N);Ve(pt),Xn.publishGameState(ce,pt)}else S(ot=>[...ot,Qe]),v(ot=>({...ot,[E]:{...ot[E],wallsLeft:ot[E].wallsLeft-1}})),O();D(!1)},[g,_,E,w,O,l,ce,N,C,we,X,P,$e,Ve,Me]);ze.useEffect(()=>{if(ce){const Se=Xn.onGameStateUpdate(ce,Ve);return()=>Se()}},[ce,Ve]);const bt=ze.useCallback(async(Se,qe,Qe,Je)=>{oe(),f(yt.PVO),Ie(Je);const ot=Qe===vn.CENTER?Math.floor(Xe/2):Math.floor(Math.random()*Xe),pt={id:1,name:Se,color:"#22d3ee",position:{r:Xe-1,c:ot},wallsLeft:Je,goalRow:0};v({1:pt}),Oe(qe),a(ut.ONLINE_WAITING);const jt=await Xn.createGame(pt,qe,Qe);H(jt),fe(1);const lt=window.setTimeout(()=>{le("Game creation timed out. The link has expired."),me()},300*1e3);xe(lt)},[oe,me]),Ht=ze.useCallback(async(Se,qe)=>{const Qe=await Xn.joinGame(Se,qe);Qe?(H(Se),fe(2),Z(null),Oe(Qe.turnTime),Ie(Qe.players[1].wallsLeft),f(yt.PVO),Ve(Qe)):(le("Could not join game. It might be full or expired."),Z(null))},[Ve]),Rt=ze.useCallback(async(Se,qe,Qe,Je)=>{oe(),f(yt.PVO);const ot={name:Se,wallsLeft:Je};a(ut.ONLINE_WAITING),Oe(qe),Xn.findMatch(ot,qe,Qe,(jt,lt,_t)=>{Re&&(clearTimeout(Re),xe(null)),H(jt),fe(lt),Ve(_t)});const pt=window.setTimeout(()=>{le("Could not find a match. Please try again later."),Xn.cancelFindMatch(),me()},180*1e3);xe(pt)},[oe,Ve,me,Re]),Bt=ze.useCallback(()=>{Xn.cancelFindMatch(),me()},[me]),Ft=ze.useCallback(()=>{me()},[me]);ze.useEffect(()=>{const Se=(l!==yt.PVC||E===1)&&(l!==yt.PVO||E===N);if(r===ut.PLAYING&&!L&&!C&&Se){const qe=g[E];qe&&(j(qe.position),z(qe.position))}else j(null),V([])},[E,r,l,g,L,C,z,N]);const Ut=ze.useCallback(async()=>{if(!(r!==ut.PLAYING||l!==yt.PVC||E!==2||C||!g[1]||!g[2])){if(ne(!0),_e(null),le(null),s===Xi.LOCAL){const Se=Math.random()*1e3+1e3;await K_(Se)}try{let Se;if(s===Xi.LOCAL){const qe=Qe=>w(Qe,_,g[1],g[2])===!0;Se=tw(g[2],g[1],_,p,qe)}else Se=await Z1(g,2,_,p);if(_e(Se),Se.action==="PASS")O();else if(Se.action==="MOVE"){if(!Se.position)throw new Error("AI action 'MOVE' is missing position.");if(ql(g[2].position,_,g[1].position).some(Je=>Je.r===Se.position.r&&Je.c===Se.position.c))et(Se.position,g[2].position);else throw new Error("AI suggested an invalid move.")}else if(Se.action==="PLACE_WALL"){if(!Se.position||!Se.orientation)throw new Error("AI action 'PLACE_WALL' is missing properties.");const qe={r:Se.position.r,c:Se.position.c,orientation:Se.orientation};if(w({...qe,playerId:2},_,g[1],g[2])===!0)Fe(qe);else throw new Error("AI suggested an invalid wall placement.")}else throw new Error("AI returned an invalid action type.")}catch(Se){Se.message&&Se.message.includes("RESOURCE_EXHAUSTED")?ae(!0):le(Se.message||"An unexpected AI error occurred. Making a default move.");const qe=g[2],Qe=g[1],Je=ql(qe.position,_,Qe.position);if(Je.length>0){const ot=Ur(qe.position,qe.goalRow,_,Qe.position);let pt=Je[0];if(ot&&ot.length>1){const lt=ot[1];Je.some(_t=>_t.r===lt.r&&_t.c===lt.c)&&(pt=lt)}const jt={...g};jt[2].position=pt,v(jt),pt.r===qe.goalRow?(I(qe),a(ut.GAME_OVER)):O()}else O()}finally{ne(!1)}}},[r,l,E,C,g,_,p,s,et,Fe,w,O]);ze.useEffect(()=>{r===ut.PLAYING&&l===yt.PVC&&E===2&&!C&&!G&&Ut()},[E,r,l,C,Ut,G]),ze.useEffect(()=>{let Se;return r===ut.PLAYING&&(Se=window.setInterval(()=>{he(qe=>qe+1)},1e3)),()=>clearInterval(Se)},[r]),ze.useEffect(()=>{let Se;return r===ut.PLAYING&&(Se=window.setInterval(()=>{ie(qe=>qe<=1?0:qe-1)},1e3)),()=>clearInterval(Se)},[r,E]),ze.useEffect(()=>{if(!(X>0||r!==ut.PLAYING||C))if(l===yt.PVO){if(ce&&N){const Qe=P({players:g,walls:_,currentPlayerId:E,winner:C,gameTime:we,turnTime:0,timestamp:Me},{type:"TIMEOUT"},E);Ve(Qe),Xn.publishGameState(ce,Qe)}}else I(g[E===1?2:1]),a(ut.GAME_OVER)},[X,r,g,E,l,N,ce,C,we,_,P,Ve,Me]),ze.useEffect(()=>{if(r!==ut.PLAYING||l!==yt.PVO||!ce||C||E===N)return;const Se=setInterval(async()=>{const qe=await Xn.fetchCurrentGameState(ce);qe&&Ve(qe)},1e3);return()=>clearInterval(Se)},[r,l,ce,E,N,C,Ve]);const Vr=ze.useRef(r);ze.useEffect(()=>{Vr.current!==ut.PLAYING&&r===ut.PLAYING&&en.play(fn.StartGame),Vr.current=r},[r]),ze.useEffect(()=>{C&&(l===yt.PVO?C.id===N?en.play(fn.WinGame):en.play(fn.LoseGame):C.id===1||l===yt.PVP&&C.id===2?en.play(fn.WinGame):en.play(fn.LoseGame))},[C,l,N]),ze.useEffect(()=>{const qe=new URLSearchParams(window.location.search).get("join");qe&&(Z(qe),window.history.replaceState({},document.title,window.location.pathname))},[]);const Yr=ze.useCallback(Se=>ke(Se),[]),Ql=ze.useCallback(()=>{de&&(Fe(de),ke(null),D(!1))},[de,Fe]),Ja=ze.useCallback(()=>ke(null),[]),Is=()=>{L&&ke(null),D(Se=>!Se),j(null),V([]),F(null)},rr=(Se,qe,Qe,Je,ot,pt,jt)=>{Se===yt.PVC&&Je===Xi.GEMINI&&!Vl.isAuthenticated()?(q({mode:Se,diff:qe,p1Name:Qe,type:Je,duration:ot,startPos:pt,wallsCount:jt}),a(ut.AWAITING_AUTH),Vl.signIn()):(f(Se),u(qe),c(Je),h(pt),b(Se,Qe,Je,qe,ot,pt,jt))},nn=ze.useMemo(()=>r!==ut.PLAYING||C?!1:l===yt.PVO?E===N:l===yt.PVC?E===1:!0,[r,l,E,N,C]),gn=ze.useMemo(()=>!ee||!g[1]||!g[2]?g:{1:{...g[2],id:1,position:Ee(g[2].position),goalRow:Xe-1-g[2].goalRow},2:{...g[1],id:2,position:Ee(g[1].position),goalRow:Xe-1-g[1].goalRow}},[ee,g,Ee]),Wr=ze.useMemo(()=>ee?_.map(Se=>{const qe=Ye({r:Se.r,c:Se.c,orientation:Se.orientation}),Qe=Se.playerId===1?2:1;return{...Se,...qe,playerId:Qe}}):_,[ee,_,Ye]),Xl=ze.useMemo(()=>ee?E===1?2:1:E,[ee,E]),zs=ze.useMemo(()=>Ee(U),[U,Ee]),Hs=ze.useMemo(()=>W.map(Se=>Ee(Se)),[W,Ee]);return{gameState:r,gameMode:l,difficulty:p,aiType:s,currentPlayerId:Xl,winner:C,players:gn,walls:Wr,selectedPiece:zs,validMoves:Hs,isPlacingWall:L,aiThinking:G,lastAiAction:ve,apiError:B,gameTime:we,turnTime:X,showRateLimitModal:k,wallPlacementError:T,configuredTurnTime:$,startPosition:o,wallPreview:de,onlineGameId:ce,onlinePlayerId:N,onlineRequestTimeout:Re,initialWalls:Te,isMyTurn:nn,pendingJoinId:te,setShowRateLimitModal:ae,startGame:rr,handleCellClick:et,handleWallPreview:Yr,confirmWallPlacement:Ql,cancelWallPlacement:Ja,togglePlacingWall:Is,returnToMenu:me,handleCreateOnlineGame:bt,handleJoinOnlineGame:Ht,handleFindMatch:Rt,handleCancelFindMatch:Bt,handleCancelCreateGame:Ft,cancelAuth:J,cancelJoin:se}},j0=(r,a)=>a.some(l=>{if(l.r===r.r&&l.c===r.c&&l.orientation===r.orientation)return!0;if(r.orientation==="horizontal"){if(l.orientation==="horizontal"&&l.r===r.r&&Math.abs(l.c-r.c)<2||l.orientation==="vertical"&&l.r===r.r-1&&l.c===r.c+1)return!0}else if(l.orientation==="vertical"&&l.c===r.c&&Math.abs(l.r-r.r)<2||l.orientation==="horizontal"&&l.r===r.r+1&&l.c===r.c-1)return!0;return!1}),F_=({playerColor:r,existingWalls:a,onWallClick:l,wallPreview:f,onCancel:p})=>{if(f){const o=f.orientation==="horizontal"?{gridRow:f.r+1,gridColumn:`${f.c+1} / span 2`,alignSelf:"start",height:"8px",transform:"translateY(-50%)"}:{gridRow:`${f.r+1} / span 2`,gridColumn:f.c+1,justifySelf:"start",width:"8px",transform:"translateX(-50%)"};return A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"absolute inset-0 z-20",onClick:p}),A.jsx("div",{className:"absolute grid z-30 pointer-events-none",style:{gridTemplateColumns:`repeat(${Xe}, 1fr)`,gridTemplateRows:`repeat(${Xe}, 1fr)`,gap:"5px",inset:0},children:A.jsx("div",{className:"rounded-full",style:{...o,backgroundColor:r,boxShadow:`0 0 12px ${r}, 0 0 20px ${r}`}})})]})}const u=[],s=20;for(let c=1;c<Xe;c++)for(let o=0;o<Xe-1;o++){const h={r:c,c:o,orientation:"horizontal"};j0(h,a)||u.push(A.jsx("div",{className:"group relative flex justify-center items-center",style:{gridRow:c+1,gridColumn:`${o+1} / span 2`,transform:"translateY(-50%)",height:`${s}px`,pointerEvents:"auto",cursor:"pointer"},onClick:()=>l(h),"aria-label":`Place horizontal wall at row ${c}, column ${o}`,children:A.jsx("div",{className:"absolute h-[8px] w-full opacity-0 group-hover:opacity-100 transition-all duration-200 ease-in-out rounded-full group-hover:scale-y-125",style:{backgroundColor:r,boxShadow:`0 0 12px ${r}`}})},`h-guide-${c}-${o}`))}for(let c=0;c<Xe-1;c++)for(let o=1;o<Xe;o++){const h={r:c,c:o,orientation:"vertical"};j0(h,a)||u.push(A.jsx("div",{className:"group relative flex justify-center items-center",style:{gridRow:`${c+1} / span 2`,gridColumn:o+1,transform:"translateX(-50%)",width:`${s}px`,pointerEvents:"auto",cursor:"pointer"},onClick:()=>l(h),"aria-label":`Place vertical wall at row ${c}, column ${o}`,children:A.jsx("div",{className:"absolute w-[8px] h-full opacity-0 group-hover:opacity-100 transition-all duration-200 ease-in-out rounded-full group-hover:scale-x-125",style:{backgroundColor:r,boxShadow:`0 0 12px ${r}`}})},`v-guide-${c}-${o}`))}return A.jsx("div",{className:"absolute inset-0 grid pointer-events-none",style:{gridTemplateColumns:`repeat(${Xe}, 1fr)`,gridTemplateRows:`repeat(${Xe}, 1fr)`,gap:"5px",zIndex:30},children:u})},bs=8,k0=5,Z_=({players:r,walls:a,selectedPiece:l,validMoves:f,isPlacingWall:p,wallPreview:u,onCellClick:s,onCancelWallPreview:c,onWallPreview:o,currentPlayerId:h})=>{var E;const g=(E=r[h])==null?void 0:E.color,v=(M,C)=>{const I=r[1],U=r[2];if(!I||!U)return null;const j=I.position.r===M&&I.position.c===C,W=U.position.r===M&&U.position.c===C,V=(l==null?void 0:l.r)===M&&(l==null?void 0:l.c)===C,L=f.some(B=>B.r===M&&B.c===C),D=M===I.goalRow,G=M===U.goalRow,ne={};D&&(ne.boxShadow=`inset 0 5px 15px ${I.color}80`),G&&(ne.boxShadow=`inset 0 -5px 15px ${U.color}80`);const ve=["relative aspect-square rounded-sm transition-colors duration-300","bg-black/10 hover:bg-white/10",L?"cursor-pointer":""].join(" "),_e=(B,le)=>A.jsx("div",{className:`absolute inset-0 flex items-center justify-center transition-transform duration-300 z-10 ${le?"scale-110":"scale-100"}`,style:{pointerEvents:"none"},children:A.jsx("div",{className:`w-[80%] h-[80%] rounded-full flex items-center justify-center text-white font-bold text-xl ${le?"pulse":""}`,style:{backgroundColor:B.color,boxShadow:`0 0 10px ${B.color}, 0 0 20px ${B.color}, inset 0 0 5px rgba(255,255,255,0.5)`},children:A.jsx("span",{className:"font-magic text-2xl",style:{textShadow:"2px 2px 3px rgba(0,0,0,0.5)"},children:B.id})})});return A.jsxs("div",{className:ve,style:ne,onClick:()=>{p||L&&s({r:M,c:C})},"aria-label":`Cell ${M}, ${C}`,children:[j&&_e(r[1],V&&r[1].id===h),W&&_e(r[2],V&&r[2].id===h),L&&A.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:A.jsx("div",{className:"w-1/3 h-1/3 rounded-full animate-pulse",style:{backgroundColor:g||"#60a5fa",boxShadow:`0 0 8px ${g}`}})})]},`cell-${M}-${C}`)},_=M=>{var j;const C=((j=r[M.playerId])==null?void 0:j.color)||"#a855f7",U=M.orientation==="horizontal"?{gridRow:M.r+1,gridColumn:`${M.c+1} / span 2`,alignSelf:"start",height:`${bs}px`,transform:`translateY(-${bs/2}px)`}:{gridRow:`${M.r+1} / span 2`,gridColumn:M.c+1,justifySelf:"start",width:`${bs}px`,transform:`translateX(-${bs/2}px)`};return A.jsx("div",{className:"rounded-full",style:{...U,backgroundColor:C,boxShadow:`0 0 6px ${C}, 0 0 10px ${C}`}},`wall-${M.orientation}-${M.r}-${M.c}`)},S=()=>{const M=[];for(let C=1;C<Xe;C++)for(let I=1;I<Xe;I++)M.push(A.jsx("div",{className:"rounded-full",style:{gridRow:C,gridColumn:I,justifySelf:"end",alignSelf:"end",width:"6px",height:"6px",backgroundColor:"var(--glow-purple)",opacity:.4,boxShadow:"0 0 8px var(--glow-purple)",transform:"translate(50%, 50%)"}},`dot-${C}-${I}`));return M};return A.jsx("div",{className:"w-full h-full p-2 bg-black/20 rounded-2xl shadow-lg border border-purple-500/30",children:A.jsxs("div",{className:"relative grid h-full w-full",style:{gridTemplateColumns:`repeat(${Xe}, 1fr)`,gridTemplateRows:`repeat(${Xe}, 1fr)`,gap:`${k0}px`,background:"radial-gradient(circle, rgba(168, 85, 247, 0.1) 0%, rgba(0,0,0,0) 70%)"},children:[A.jsx("div",{className:"absolute inset-0 grid pointer-events-none",style:{gridTemplateColumns:`repeat(${Xe}, 1fr)`,gridTemplateRows:`repeat(${Xe}, 1fr)`},children:S()}),Array.from({length:Xe*Xe}).map((M,C)=>v(Math.floor(C/Xe),C%Xe)),A.jsx("div",{className:"absolute inset-0 grid pointer-events-none",style:{gridTemplateColumns:`repeat(${Xe}, 1fr)`,gridTemplateRows:`repeat(${Xe}, 1fr)`,gap:`${k0}px`,zIndex:20},children:a.map(_)}),p&&g&&A.jsx(F_,{playerColor:g,existingWalls:a,onWallClick:o,wallPreview:u,onCancel:c})]})})},B0=({player:r})=>A.jsxs("div",{className:"magical-container rounded-xl p-3 flex items-center space-x-3",children:[A.jsx("div",{className:"w-6 h-6 rounded-full flex-shrink-0",style:{backgroundColor:r.color,boxShadow:`0 0 8px ${r.color}`}}),A.jsxs("div",{children:[A.jsx("p",{className:"font-semibold text-gray-200 text-sm md:text-base whitespace-nowrap",children:r.name}),A.jsxs("p",{className:"text-sm md:text-base text-gray-400",children:[r.wallsLeft," walls"]})]})]}),Si=({title:r,children:a,onClose:l,className:f})=>A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm animate-fade-in",children:A.jsxs("div",{className:`relative bg-gradient-to-br from-purple-900/40 to-indigo-900/40 border-2 border-purple-500/50 rounded-3xl p-8 m-4 w-full shadow-2xl shadow-purple-500/20 animate-modal-enter overflow-hidden ${f||"max-w-sm"}`,children:[A.jsx("div",{className:"absolute top-2 left-2 w-16 h-16 border-t-2 border-l-2 border-cyan-400/50 rounded-tl-3xl opacity-50"}),A.jsx("div",{className:"absolute bottom-2 right-2 w-16 h-16 border-b-2 border-r-2 border-pink-500/50 rounded-br-3xl opacity-50"}),A.jsxs("div",{className:"relative z-10",children:[A.jsxs("div",{className:"flex justify-between items-center mb-6",children:[A.jsx("h2",{className:"text-3xl font-magic text-white text-glow-purple tracking-wide",children:r}),l&&A.jsx("button",{onClick:l,className:"p-1 rounded-full text-gray-400 hover:text-white hover:bg-white/10 transition-colors","aria-label":"Close modal",children:A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),A.jsx("div",{children:a})]})]})}),A.jsx("style",{children:`
        @keyframes fade-in {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        .animate-fade-in {
          animation: fade-in 0.3s ease-out forwards;
        }

        @keyframes modal-enter {
          from { 
            opacity: 0; 
            transform: scale(0.9) translateY(20px);
          }
          to { 
            opacity: 1; 
            transform: scale(1) translateY(0);
          }
        }
        .animate-modal-enter {
          animation: modal-enter 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards;
        }
      `})]}),J_={en:{tabs:{goal:"The Goal",gameplay:"Gameplay",moving:"Moving",walls:"Placing Walls"},goalTitle:"The Goal: Reach the Other Side",goalText:"Be the first player to move your pawn to any space on your opponent's starting side of the board.",goalCaption:"Player 1 (Cyan) must reach the top row, and Player 2 (Pink) must reach the bottom row.",gameplayTitle:"Your Turn: Move or Place a Wall",gameplayText:"On your turn, you must choose to do one of two things:",gameplayMove:"Move your pawn one space.",gameplayPlace:"Place one of your walls to block the path.",movingTitle:"How Pawns Move",movingStandard:"Standard Move: Move one space forward, backward, left, or right to an empty, unblocked square.",movingJump:"Jumping: If your pawn is adjacent to an opponent, you can jump over them to the next space in a straight line.",movingDiagonal:"Diagonal Jump: If a straight jump is blocked by a wall or the board edge, you can move diagonally to an open space next to the opponent.",captionMove:"Move to any adjacent empty square.",captionJump:"Jump over an adjacent opponent.",captionDiagonal:"Jump diagonally if a wall blocks a straight jump.",wallsTitle:"How Walls Work",wallsText:"Walls are placed in the grooves between squares and are always two squares long. They block movement for both players.",wallsRule:"The Golden Rule: You can NEVER place a wall that completely traps an opponent, leaving them with no possible path to their goal.",captionValidWall:"A valid vertical wall placement.",captionInvalidWall:"An invalid placement that traps a player.",wallsRulesTitle:"Advanced Wall Rules",wallsRulesText:"Walls cannot cross over each other. They must be placed in empty grooves. You can place walls next to each other to form longer barriers.",captionValidT:"Valid: Walls can form 'T' junctions.",captionInvalidCross:"Invalid: Walls cannot form a '+' cross.",toggleButton:""},hi:{tabs:{goal:"",gameplay:"",moving:"",walls:""},goalTitle:":   ",goalText:"       (   )          ",goalCaption:" 1 ()      ,   2 ()      ",gameplayTitle:" :    ",gameplayText:"  ,        :",gameplayMove:"       ",gameplayPlace:"          ",movingTitle:"   ",movingStandard:" :  ,      , ,     ",movingJump:":       ,           ",movingDiagonal:" :            ,              ",captionMove:"      ",captionJump:"     ",captionDiagonal:"          ",wallsTitle:"    ",wallsText:"                         ",wallsRule:" :                 ,          ",captionValidWall:"    ",captionInvalidWall:"        ",wallsRulesTitle:"  ",wallsRulesText:" -                     -      ",captionValidT:":  'T'    ",captionInvalidCross:":  '+'     ",toggleButton:"English"}},eS=({active:r,onClick:a,children:l})=>A.jsxs("button",{onClick:a,className:`flex-shrink-0 px-4 py-2 text-sm md:text-base font-bold rounded-t-lg transition-all duration-300 relative ${r?"text-white":"text-gray-400 hover:text-white"}`,children:[l,r&&A.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-purple-500 rounded-full",style:{boxShadow:"0 0 8px var(--glow-purple)"}})]}),mi=({children:r,caption:a})=>A.jsxs("div",{className:"text-center my-4",children:[A.jsx("div",{className:"bg-black/20 rounded-lg p-2 inline-flex items-center justify-center shadow-inner aspect-square w-full max-w-[120px] mx-auto",children:r}),A.jsx("p",{className:"text-xs text-gray-400 mt-2 font-medium leading-tight h-8",children:a})]}),tS=({onClose:r})=>{const[a,l]=ze.useState("en"),[f,p]=ze.useState("goal"),u=J_[a],s=()=>{en.play(fn.UIClick),l(o=>o==="en"?"hi":"en")},c=o=>{en.play(fn.UIClick),p(o)};return A.jsxs(Si,{title:"",onClose:r,className:"max-w-xl",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4 -mt-2",children:[A.jsx("h2",{className:"text-3xl font-magic text-white text-glow-purple",children:u.tabs[f]}),A.jsx("button",{onClick:s,className:"px-3 py-1 text-sm font-semibold text-white bg-fuchsia-600 rounded-md hover:bg-fuchsia-700 transition-colors shadow-sm button-glow button-glow-purple",children:u.toggleButton})]}),A.jsx("div",{className:"border-b border-purple-500/30 -mx-8 px-8",children:A.jsx("div",{className:"flex space-x-2 overflow-x-auto whitespace-nowrap pb-2 -mb-2 custom-scrollbar-horizontal",children:Object.keys(u.tabs).map(o=>A.jsx(eS,{active:f===o,onClick:()=>c(o),children:u.tabs[o]},o))})}),A.jsxs("div",{className:"text-gray-300 max-h-[60vh] overflow-y-auto pr-4 -mr-6 mt-6 custom-scrollbar",children:[f==="goal"&&A.jsxs("div",{className:"space-y-4",children:[A.jsx("p",{className:"text-lg leading-relaxed",children:u.goalText}),A.jsx(mi,{caption:u.goalCaption,children:A.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",children:[A.jsx("defs",{children:A.jsxs("filter",{id:"glow-help",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[A.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),A.jsxs("feMerge",{children:[A.jsx("feMergeNode",{in:"coloredBlur"}),A.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),A.jsx("rect",{width:"100",height:"11",fill:"#ec4899",fillOpacity:"0.4"}),A.jsx("rect",{y:"89",width:"100",height:"11",fill:"#22d3ee",fillOpacity:"0.4"}),A.jsx("circle",{cx:"50",cy:"94",r:"5",fill:"#22d3ee",filter:"url(#glow-help)"}),A.jsx("path",{d:"M 50 85 C 40 60, 40 40, 50 15",stroke:"#22d3ee",strokeWidth:"2",fill:"none",strokeDasharray:"4 4"}),A.jsx("path",{d:"M 45 20 L 50 15 L 55 20",stroke:"#22d3ee",strokeWidth:"2",fill:"none"})]})})]}),f==="gameplay"&&A.jsxs("div",{className:"space-y-4",children:[A.jsx("p",{className:"text-lg leading-relaxed",children:u.gameplayText}),A.jsxs("ul",{className:"list-none space-y-3 pl-2",children:[A.jsxs("li",{className:"flex items-start gap-3",children:[A.jsx("div",{className:"w-5 h-5 rounded-full bg-cyan-400 flex-shrink-0 mt-1",style:{boxShadow:"0 0 8px var(--glow-cyan)"}}),A.jsxs("span",{children:[A.jsxs("strong",{children:[u.gameplayMove.split(":")[0],":"]})," ",u.gameplayMove.split(":")[1]]})]}),A.jsxs("li",{className:"flex items-start gap-3",children:[A.jsx("div",{className:"w-5 h-5 rounded-md bg-purple-500 flex-shrink-0 mt-1",style:{boxShadow:"0 0 8px var(--glow-purple)"}}),A.jsxs("span",{children:[A.jsxs("strong",{children:[u.gameplayPlace.split(":")[0],":"]})," ",u.gameplayPlace.split(":")[1]]})]})]})]}),f==="moving"&&A.jsxs("div",{className:"space-y-3",children:[A.jsxs("p",{children:[A.jsxs("strong",{children:[u.movingStandard.split(":")[0],":"]}),u.movingStandard.split(":")[1]]}),A.jsxs("p",{children:[A.jsxs("strong",{children:[u.movingJump.split(":")[0],":"]})," ",u.movingJump.split(":")[1]]}),A.jsxs("p",{children:[A.jsxs("strong",{children:[u.movingDiagonal.split(":")[0],":"]})," ",u.movingDiagonal.split(":")[1]]}),A.jsxs("div",{className:"grid grid-cols-3 gap-2 pt-2",children:[A.jsx(mi,{caption:u.captionMove,children:A.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",children:[A.jsx("defs",{children:A.jsxs("filter",{id:"glow-help",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[A.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),A.jsxs("feMerge",{children:[A.jsx("feMergeNode",{in:"coloredBlur"}),A.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),A.jsx("path",{d:"M 0 33 H 100 M 0 66 H 100 M 33 0 V 100 M 66 0 V 100",stroke:"#4a2d7d",strokeWidth:"1"}),A.jsx("circle",{cx:"50",cy:"50",r:"12",fill:"#22d3ee",filter:"url(#glow-help)"}),A.jsx("circle",{cx:"50",cy:"17",r:"8",fill:"#22d3ee",opacity:"0.6",filter:"url(#glow-help)"}),A.jsx("circle",{cx:"50",cy:"83",r:"8",fill:"#22d3ee",opacity:"0.6",filter:"url(#glow-help)"}),A.jsx("circle",{cx:"17",cy:"50",r:"8",fill:"#22d3ee",opacity:"0.6",filter:"url(#glow-help)"}),A.jsx("circle",{cx:"83",cy:"50",r:"8",fill:"#22d3ee",opacity:"0.6",filter:"url(#glow-help)"})]})}),A.jsx(mi,{caption:u.captionJump,children:A.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",children:[A.jsx("defs",{children:A.jsxs("filter",{id:"glow-help",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[A.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),A.jsxs("feMerge",{children:[A.jsx("feMergeNode",{in:"coloredBlur"}),A.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),A.jsx("path",{d:"M 0 33 H 100 M 0 66 H 100 M 33 0 V 100 M 66 0 V 100",stroke:"#4a2d7d",strokeWidth:"1"}),A.jsx("circle",{cx:"50",cy:"83",r:"12",fill:"#22d3ee",filter:"url(#glow-help)"}),A.jsx("circle",{cx:"50",cy:"50",r:"12",fill:"#ec4899",filter:"url(#glow-help)"}),A.jsx("circle",{cx:"50",cy:"17",r:"8",fill:"#22d3ee",opacity:"0.6",filter:"url(#glow-help)"})]})}),A.jsx(mi,{caption:u.captionDiagonal,children:A.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",children:[A.jsx("defs",{children:A.jsxs("filter",{id:"glow-help",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[A.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),A.jsxs("feMerge",{children:[A.jsx("feMergeNode",{in:"coloredBlur"}),A.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),A.jsx("path",{d:"M 0 33 H 100 M 0 66 H 100 M 33 0 V 100 M 66 0 V 100",stroke:"#4a2d7d",strokeWidth:"1"}),A.jsx("circle",{cx:"50",cy:"83",r:"12",fill:"#22d3ee",filter:"url(#glow-help)"}),A.jsx("circle",{cx:"50",cy:"50",r:"12",fill:"#ec4899",filter:"url(#glow-help)"}),A.jsx("rect",{x:"0",y:"30",width:"100",height:"8",fill:"#a855f7",rx:"3",filter:"url(#glow-help)"}),A.jsx("circle",{cx:"17",cy:"50",r:"8",fill:"#22d3ee",opacity:"0.6",filter:"url(#glow-help)"}),A.jsx("circle",{cx:"83",cy:"50",r:"8",fill:"#22d3ee",opacity:"0.6",filter:"url(#glow-help)"})]})})]})]}),f==="walls"&&A.jsxs("div",{className:"space-y-3",children:[A.jsx("p",{children:u.wallsText}),A.jsxs("p",{className:"font-bold text-yellow-300 my-3 p-3 bg-yellow-900/30 rounded-lg border border-yellow-500/50",children:[A.jsxs("strong",{children:[u.wallsRule.split(":")[0],":"]})," ",u.wallsRule.split(":")[1]]}),A.jsx("p",{children:u.wallsRulesText}),A.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 pt-2",children:[A.jsx(mi,{caption:u.captionValidWall,children:A.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",children:[A.jsx("defs",{children:A.jsxs("filter",{id:"glow-help",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[A.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),A.jsxs("feMerge",{children:[A.jsx("feMergeNode",{in:"coloredBlur"}),A.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),A.jsx("path",{d:"M 0 50 H 100 M 50 0 V 100",stroke:"#4a2d7d",strokeWidth:"1"}),A.jsx("rect",{x:"46",y:"0",width:"8",height:"66",fill:"#a855f7",rx:"3",filter:"url(#glow-help)"})]})}),A.jsx(mi,{caption:u.captionInvalidWall,children:A.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",children:[A.jsx("defs",{children:A.jsxs("filter",{id:"glow-help",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[A.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),A.jsxs("feMerge",{children:[A.jsx("feMergeNode",{in:"coloredBlur"}),A.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),A.jsx("path",{d:"M 0 33 H 100 M 0 66 H 100 M 33 0 V 100 M 66 0 V 100",stroke:"#4a2d7d",strokeWidth:"1"}),A.jsx("circle",{cx:"50",cy:"83",r:"12",fill:"#ec4899",filter:"url(#glow-help)"}),A.jsx("rect",{x:"0",y:"63",width:"66",height:"8",fill:"#a855f7",rx:"3",filter:"url(#glow-help)"}),A.jsx("rect",{x:"33",y:"63",width:"66",height:"8",fill:"#a855f7",rx:"3",filter:"url(#glow-help)"}),A.jsx("rect",{x:"63",y:"0",width:"8",height:"66",fill:"#f97316",rx:"3",filter:"url(#glow-help)"}),A.jsx("path",{d:"M 70 30 L 95 5 M 95 30 L 70 5",stroke:"#f97316",strokeWidth:"6",strokeLinecap:"round"})]})}),A.jsx(mi,{caption:u.captionValidT,children:A.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",children:[A.jsx("defs",{children:A.jsxs("filter",{id:"glow-help",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[A.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),A.jsxs("feMerge",{children:[A.jsx("feMergeNode",{in:"coloredBlur"}),A.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),A.jsx("path",{d:"M 0 50 H 100 M 50 0 V 100",stroke:"#4a2d7d",strokeWidth:"1"}),A.jsx("rect",{x:"50",y:"46",width:"50",height:"8",fill:"#a855f7",rx:"3",filter:"url(#glow-help)"}),A.jsx("rect",{x:"46",y:"0",width:"8",height:"66",fill:"#a855f7",rx:"3",filter:"url(#glow-help)"})]})}),A.jsx(mi,{caption:u.captionInvalidCross,children:A.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",children:[A.jsx("defs",{children:A.jsxs("filter",{id:"glow-help",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[A.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),A.jsxs("feMerge",{children:[A.jsx("feMergeNode",{in:"coloredBlur"}),A.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),A.jsx("path",{d:"M 0 50 H 100 M 50 0 V 100",stroke:"#4a2d7d",strokeWidth:"1"}),A.jsx("rect",{x:"0",y:"46",width:"66",height:"8",fill:"#a855f7",rx:"3",filter:"url(#glow-help)"}),A.jsx("rect",{x:"46",y:"0",width:"8",height:"66",fill:"#f97316",rx:"3",filter:"url(#glow-help)"}),A.jsx("path",{d:"M 70 30 L 95 5 M 95 30 L 70 5",stroke:"#f97316",strokeWidth:"6",strokeLinecap:"round"})]})})]})]})]}),A.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar { width: 8px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background-color: rgba(168, 85, 247, 0.5); border-radius: 4px; border: 2px solid transparent; background-clip: content-box; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background-color: rgba(168, 85, 247, 0.8); }
        .custom-scrollbar-horizontal::-webkit-scrollbar { height: 6px; }
        .custom-scrollbar-horizontal::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar-horizontal::-webkit-scrollbar-thumb { background-color: rgba(168, 85, 247, 0.4); border-radius: 3px; }
        .custom-scrollbar-horizontal::-webkit-scrollbar-thumb:hover { background-color: rgba(168, 85, 247, 0.7); }
      `})]})},nS=({onSignIn:r,onCancel:a})=>A.jsx(Si,{title:"Authentication Required",onClose:a,children:A.jsxs("div",{className:"text-center space-y-6",children:[A.jsx("p",{className:"text-gray-300 text-lg",children:"To play against the Gemini AI, you need to sign in with your Google account."}),A.jsx("p",{className:"text-sm text-gray-400",children:"This allows the application to make requests to the Gemini API on your behalf."}),A.jsxs("div",{className:"flex flex-col gap-4",children:[A.jsxs("button",{onClick:r,className:"w-full bg-blue-500 text-white font-bold py-3 rounded-lg flex items-center justify-center gap-3 button-glow button-glow-blue",children:[A.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 48 48",children:[A.jsx("path",{fill:"#FFC107",d:"M43.611 20.083H42V20H24v8h11.303c-1.649 4.657-6.08 8-11.303 8c-6.627 0-12-5.373-12-12s5.373-12 12-12c3.059 0 5.842 1.154 7.961 3.039L38.804 8.841C34.522 4.952 29.548 2.5 24 2.5C11.458 2.5 1.5 12.458 1.5 25s9.958 22.5 22.5 22.5s22.5-9.958 22.5-22.5c0-1.55-.14-3.05-.411-4.417z"}),A.jsx("path",{fill:"#FF3D00",d:"M6.306 14.691c-1.645 3.163-2.607 6.737-2.607 10.309s.962 7.145 2.607 10.309l-5.466 4.228C.945 34.613 0 29.982 0 25s.945-9.613 2.541-13.754l5.466 4.228z"}),A.jsx("path",{fill:"#4CAF50",d:"M24 47.5c5.548 0 10.522-1.952 14.804-5.196l-5.466-4.228C30.153 40.832 27.258 42.5 24 42.5c-4.721 0-8.799-2.68-10.84-6.43l-5.466 4.228C10.078 44.408 16.377 47.5 24 47.5z"}),A.jsx("path",{fill:"#1976D2",d:"M43.611 20.083H42V20H24v8h11.303c-1.649 4.657-6.08 8-11.303 8-4.721 0-8.799-2.68-10.84-6.43l-5.466 4.228C10.078 44.408 16.377 47.5 24 47.5c12.542 0 22.5-9.958 22.5-22.5c0-1.55-.14-3.05-.411-4.417z"})]}),"Sign In with Google"]}),A.jsx("button",{onClick:a,className:"w-full bg-purple-600 text-white font-bold py-3 rounded-lg button-glow button-glow-purple",children:"Cancel"})]})]})}),rS=({message:r})=>A.jsxs("div",{className:"absolute top-full left-0 mt-2 w-48 z-40",children:[A.jsxs("div",{className:"relative magical-container rounded-lg p-3 max-w-xs animate-fade-in-up",children:[A.jsx("div",{className:"absolute bottom-full left-12 -translate-x-1/2",style:{width:0,height:0,borderLeft:"8px solid transparent",borderRight:"8px solid transparent",borderBottom:"8px solid var(--dark-bg-start)"}}),A.jsxs("p",{className:"text-sm text-center text-gray-300 font-medium",children:['"',r,'"']})]}),A.jsx("style",{children:`
          @keyframes fade-in-up {
            0% { opacity: 0; transform: translateY(10px); }
            100% { opacity: 1; transform: translateY(0); }
          }
          .animate-fade-in-up {
            animation: fade-in-up 0.5s ease-out forwards;
          }
        `})]}),iS=()=>{const r=Array.from({length:25}),a=["#c026d3","#ec4899","#22d3ee","#f97316"];return A.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none","aria-hidden":"true",children:[A.jsx("div",{className:"absolute inset-0 bg-cover bg-center animate-ken-burns",style:{backgroundImage:"url('./home-page-background.png')"}}),A.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[var(--dark-bg-end)] via-transparent to-transparent opacity-80"}),A.jsx("div",{className:"absolute inset-0 backdrop-blur-[2px]"}),A.jsx("div",{className:"absolute inset-0 bg-black/50"}),A.jsx("div",{className:"absolute inset-0",children:r.map((l,f)=>{const p=Math.random()*4+2,u=a[Math.floor(Math.random()*a.length)],s=Math.random()*15+10,c=Math.random()*20;return A.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${p}px`,height:`${p}px`,backgroundColor:u,boxShadow:`0 0 8px ${u}, 0 0 12px ${u}`,animationDelay:`${c}s`,animationDuration:`${s}s`,opacity:0}},f)})}),A.jsx("style",{children:`
        @keyframes ken-burns {
          0% {
            transform: scale(1.0) translate(0, 0);
            filter: brightness(1);
          }
          50% {
            transform: scale(1.05) translate(1%, -1%);
            filter: brightness(1.1);
          }
          100% {
            transform: scale(1.0) translate(0, 0);
            filter: brightness(1);
          }
        }
        .animate-ken-burns {
          animation: ken-burns 40s ease-in-out infinite;
        }

        @keyframes float {
          0% {
            transform: translateY(0) translateX(0);
            opacity: 0;
          }
          10% {
            opacity: 1;
          }
          90% {
            opacity: 1;
          }
          100% {
            transform: translateY(-100vh) translateX(${Math.random()*10-5}vw);
            opacity: 0;
          }
        }
        .particle {
          position: absolute;
          bottom: -20px;
          border-radius: 50%;
          animation-name: float;
          animation-timing-function: linear;
          animation-iteration-count: infinite;
        }
      `})]})},lS=({player:r})=>A.jsxs("div",{className:"magical-container rounded-full px-4 py-2 flex items-center space-x-3",children:[A.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:r.color,boxShadow:`0 0 6px ${r.color}`}}),A.jsxs("span",{className:"font-semibold text-gray-200",children:[r.name,"'s Turn"]})]}),$h=r=>new Date(r*1e3).toISOString().substr(14,5),U0=({turnTime:r,player:a})=>{const l=a?"text-white":"text-gray-200",f=`text-2xl font-bold transition-colors ${r<=10?"text-red-400 animate-pulse":l}`;return A.jsxs("div",{className:"text-center",children:[A.jsx("p",{className:"text-sm font-medium text-gray-400",children:"TURN TIME"}),A.jsx("p",{className:f,style:a?{textShadow:`0 0 8px ${a.color}`}:{},children:$h(r)})]})},aS=()=>{const r=Array.from({length:50}),a=["#f59e0b","#ec4899","#3b82f6","#22c55e","#a855f7"];return A.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden z-40",children:r.map((l,f)=>A.jsx("div",{className:"absolute rounded-full animate-celebrate",style:{left:`${Math.random()*100}%`,bottom:"-30px",width:`${Math.random()*8+6}px`,height:`${Math.random()*8+6}px`,backgroundColor:a[Math.floor(Math.random()*a.length)],boxShadow:`0 0 8px ${a[Math.floor(Math.random()*a.length)]}`,animationDelay:`${Math.random()*4}s`,animationDuration:`${Math.random()*3+3.5}s`,opacity:Math.random()*.6+.4}},f))})},Mb=({onClick:r,className:a})=>A.jsx("button",{onClick:r,className:`absolute top-4 left-4 p-2 rounded-full bg-black/30 hover:bg-black/50 text-gray-300 hover:text-white transition-all button-glow z-10 ${a}`,"aria-label":"Go back",children:A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),D0=({isMuted:r,onClick:a})=>A.jsx("button",{onClick:a,title:r?"Unmute":"Mute",className:"fixed top-4 right-4 z-40 p-3 rounded-full bg-black/40 hover:bg-black/60 text-gray-300 hover:text-white transition-all button-glow","aria-label":r?"Unmute sound":"Mute sound",children:r?A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z",clipRule:"evenodd"}),A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 14l4-4m0 4l-4-4"})]}):A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.536 8.464a5 5 0 010 7.072M20 4a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"})})}),oS=()=>{var Ee;const{gameState:r,gameMode:a,difficulty:l,aiType:f,players:p,walls:u,currentPlayerId:s,winner:c,selectedPiece:o,validMoves:h,isPlacingWall:g,aiThinking:v,lastAiAction:_,apiError:S,gameTime:E,turnTime:M,showRateLimitModal:C,wallPlacementError:I,setShowRateLimitModal:U,configuredTurnTime:j,startPosition:W,wallPreview:V,onlineGameId:L,onlinePlayerId:D,onlineRequestTimeout:G,initialWalls:ne,isMyTurn:ve,pendingJoinId:_e,startGame:B,handleCellClick:le,handleWallPreview:we,confirmWallPlacement:he,cancelWallPlacement:X,togglePlacingWall:ie,returnToMenu:$,handleCreateOnlineGame:Oe,handleJoinOnlineGame:k,handleFindMatch:ae,handleCancelFindMatch:T,handleCancelCreateGame:F,cancelAuth:de,cancelJoin:ke}=$_(),[ce,H]=ze.useState("main"),[N,fe]=ze.useState(null),[Re,xe]=ze.useState(null),[Te,Ie]=ze.useState(!1),[je,q]=ze.useState(!1),[te,Z]=ze.useState(!1),[Me,Ae]=ze.useState(en.isMuted),K=ze.useRef(null),[oe,P]=ze.useState(0),J=ze.useRef(M);ze.useEffect(()=>{ve&&M<=5&&M>0&&M<J.current&&en.play(fn.TimerTick),J.current=M},[M,ve]),ze.useEffect(()=>{const Ge=document.getElementById("splash-screen");Ge&&(Ge.classList.add("fade-out"),setTimeout(()=>{Ge.remove()},500))},[]),ze.useEffect(()=>{if(r!==ut.PLAYING&&r!==ut.GAME_OVER)return;const Ge=()=>{if(K.current){const $e=K.current,{width:Ve,height:et}=$e.getBoundingClientRect(),Fe=Math.min(Ve,et);P(Fe)}};Ge();const Ye=new ResizeObserver(Ge);return K.current&&Ye.observe(K.current),()=>{K.current&&Ye.unobserve(K.current)}},[r]),ze.useEffect(()=>{if(_!=null&&_.reasoning){fe(_.reasoning);const Ge=setTimeout(()=>fe(null),6e3);return()=>clearTimeout(Ge)}},[_]),ze.useEffect(()=>{const Ge=S||I;if(Ge){en.play(fn.Error),xe(Ge);const Ye=setTimeout(()=>xe(null),5e3);return()=>clearTimeout(Ye)}},[S,I]);const se=()=>{en.toggleMute(),Ae(en.isMuted)},me=(Ge,Ye=fn.UIClick)=>(...$e)=>{en.play(Ye),Ge(...$e)},b=()=>{const Ge=sessionStorage.getItem("playerName")||"Player 1";switch(ce){case"main":return A.jsx(sS,{onNavigate:me(H)});case"local_setup":return A.jsx(cS,{playerName:Ge,onStartGame:(...Ye)=>me(B)(...Ye),onBack:me(()=>H("main")),setShowComingSoon:me(Z)});case"online_setup":return A.jsx(fS,{playerName:Ge,onCreateGame:(...Ye)=>me(Oe)(...Ye),onJoinGame:(...Ye)=>me(k)(...Ye),onFindMatch:(...Ye)=>me(ae)(...Ye),onBack:me(()=>H("main"))})}};if(r===ut.MENU){const Ge=sessionStorage.getItem("playerName")||"Player 1";return _e?A.jsx(hS,{gameId:_e,initialPlayerName:Ge,onJoin:(Ye,$e)=>{sessionStorage.setItem("playerName",$e),me(k)(Ye,$e)},onCancel:me(ke)}):A.jsxs(A.Fragment,{children:[A.jsx(D0,{isMuted:Me,onClick:me(se)}),A.jsx(iS,{}),Te&&A.jsx(tS,{onClose:me(()=>Ie(!1))}),te&&A.jsx(Si,{title:"Coming Soon!",onClose:me(()=>Z(!1)),children:A.jsxs("div",{className:"text-center space-y-4",children:[A.jsx("p",{className:"text-gray-300 text-lg",children:"The powerful Gemini AI opponent is under development and will be available in a future update. Stay tuned!"}),A.jsx("button",{onClick:me(()=>Z(!1)),className:"w-full bg-cyan-500 text-white font-bold py-3 rounded-lg button-glow button-glow-cyan",children:"OK"})]})}),A.jsx("div",{className:"relative z-10 min-h-screen flex flex-col items-center justify-center p-4",children:A.jsxs("div",{className:"w-full max-w-md magical-container p-6 md:p-8 rounded-2xl relative",children:[b(),A.jsx("div",{className:"mt-6",children:A.jsx("button",{onClick:me(()=>Ie(!0)),className:"w-full bg-fuchsia-600 text-white font-bold py-3 rounded-lg button-glow button-glow-purple transition-all text-lg",children:"How to Play"})})]})})]})}if(r===ut.AWAITING_AUTH)return A.jsx(nS,{onSignIn:me(()=>Vl.signIn()),onCancel:me(de)});const m="fixed inset-0 flex items-center justify-center z-50 bg-gradient-to-b from-[var(--dark-bg-start)] to-[var(--dark-bg-end)]";if((r===ut.PLAYING||r===ut.GAME_OVER)&&(!p[1]||!p[2]))return A.jsx("div",{className:m,children:A.jsxs("svg",{className:"animate-spin h-10 w-10 text-purple-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[A.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),A.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})});const w=p[s],O=p[1],z=p[2],ee=((Ee=p[2])==null?void 0:Ee.name)||"AI";return A.jsxs(A.Fragment,{children:[A.jsx(D0,{isMuted:Me,onClick:me(se)}),A.jsxs("main",{className:"h-screen max-h-[100dvh] w-full grid grid-rows-[auto_1fr_auto] p-2 sm:p-4 bg-gradient-to-b from-[var(--dark-bg-start)] to-[var(--dark-bg-end)] overflow-hidden",children:[A.jsx("header",{className:"w-full max-w-2xl flex-shrink-0 mx-auto",children:A.jsxs("div",{className:"flex justify-between items-center w-full",children:[A.jsx("div",{className:"relative flex-1",children:A.jsxs("div",{className:"inline-block relative",children:[z&&A.jsx(B0,{player:z}),a===yt.PVC&&N&&A.jsx(rS,{message:N})]})}),A.jsxs("div",{className:"text-center flex-1",children:[A.jsx("p",{className:"text-sm font-medium text-gray-400",children:"GAME TIME"}),A.jsx("p",{className:"text-2xl font-bold text-gray-200",children:$h(E)})]}),A.jsx("div",{className:"flex-1 flex justify-end",children:(w==null?void 0:w.id)===(z==null?void 0:z.id)&&A.jsx(U0,{turnTime:M,player:w})})]})}),A.jsxs("div",{className:"w-full flex flex-col items-center justify-center py-1 min-h-0",children:[A.jsx("div",{className:"h-12 flex items-center justify-center my-1 flex-shrink-0",children:v?A.jsxs("div",{className:"magical-container p-3 rounded-full flex items-center gap-3 z-10",children:[A.jsxs("svg",{className:"animate-spin h-5 w-5 text-purple-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[A.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),A.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),A.jsxs("span",{className:"font-semibold text-gray-300",children:[ee," is thinking..."]})]}):w&&A.jsx(lS,{player:w})}),A.jsx("div",{ref:K,className:"w-full flex-1 flex items-center justify-center min-h-0",children:A.jsx("div",{style:{width:oe>0?`${oe}px`:"100%",height:oe>0?`${oe}px`:"100%"},children:A.jsx(Z_,{players:p,walls:u,currentPlayerId:s,selectedPiece:o,validMoves:h,isPlacingWall:g,wallPreview:V,onCellClick:le,onWallPreview:we,onCancelWallPreview:X})})})]}),A.jsxs("footer",{className:"w-full max-w-2xl flex-shrink-0 mx-auto",children:[A.jsxs("div",{className:"flex justify-between items-center w-full",children:[A.jsx("div",{className:"flex-1 flex justify-start",children:(w==null?void 0:w.id)===(O==null?void 0:O.id)&&A.jsx(U0,{turnTime:M,player:w})}),A.jsx("div",{className:"flex-1"}),A.jsx("div",{className:"flex-1 flex justify-end",children:O&&A.jsx(B0,{player:O})})]}),V?A.jsxs("div",{className:"flex w-full space-x-4 mt-4",children:[A.jsx("button",{onClick:me(X),className:"w-full py-3 rounded-lg font-bold text-white bg-orange-500 button-glow button-glow-orange",children:"Cancel"}),A.jsx("button",{onClick:me(he),className:"w-full py-3 rounded-lg font-bold text-white bg-green-500 button-glow button-glow-green",children:"Confirm Wall"})]}):A.jsxs("div",{className:"flex w-full items-center space-x-4 mt-4",children:[A.jsx("button",{onClick:me(ie),disabled:!w||w.wallsLeft===0||!ve,className:`w-full h-14 rounded-lg font-bold text-white transition-all disabled:opacity-50 disabled:cursor-not-allowed button-glow ${g?"bg-orange-500 button-glow-orange":"bg-cyan-500 button-glow-cyan"}`,children:g?"Cancel":"Place Wall"}),A.jsx("button",{onClick:me(()=>q(!0)),className:"w-full h-14 rounded-lg font-bold text-white bg-fuchsia-600 button-glow button-glow-purple",children:"New Game"})]})]}),r===ut.GAME_OVER&&c&&A.jsxs(A.Fragment,{children:[c.id===(D??1)&&A.jsx(aS,{}),A.jsx(Si,{title:"Game Over!",children:A.jsxs("div",{className:"text-center",children:[A.jsx("div",{className:"flex justify-center mb-6",children:A.jsx("div",{className:"w-24 h-24 rounded-full flex items-center justify-center text-white font-bold text-5xl border-4 border-white/50",style:{backgroundColor:c.color,boxShadow:`0 0 20px ${c.color}, 0 0 40px ${c.color}, inset 0 0 10px rgba(255,255,255,0.8)`},children:A.jsx("span",{className:"font-magic",style:{textShadow:"3px 3px 5px rgba(0,0,0,0.5)"},children:c.id})})}),A.jsxs("h3",{className:"text-4xl font-magic mb-2",style:{color:c.color,textShadow:`0 0 10px ${c.color}`},children:[c.name," wins!"]}),a===yt.PVC&&c.id===1&&A.jsxs("p",{className:"text-gray-300 mb-4 text-lg",children:["You defeated ",A.jsx("span",{className:"font-bold",children:p[2].name}),"!"]}),M<=0&&A.jsx("p",{className:"text-gray-400 mb-4",children:"The other player ran out of time."}),A.jsxs("div",{className:"flex flex-col gap-4 mt-6",children:[a!==yt.PVO&&A.jsx("button",{onClick:me(()=>B(a,l,p[1].name,f,j,W,ne)),className:"w-full bg-green-500 text-white font-bold py-3 rounded-lg button-glow button-glow-green",children:"Play Again"}),A.jsx("button",{onClick:me($),className:"w-full bg-fuchsia-600 text-white font-bold py-3 rounded-lg button-glow button-glow-purple",children:"Main Menu"})]})]})})]}),r===ut.ONLINE_WAITING&&A.jsx(uS,{gameId:L,hasTimeout:!!G,onCancelSearch:me(T),onCancelCreateGame:me(F)}),C&&A.jsx(Si,{title:"API Limit Reached",onClose:me(()=>U(!1)),children:A.jsxs("div",{className:"text-center space-y-4",children:[A.jsxs("p",{className:"text-gray-300",children:["You've exceeded the request limit for Gemini. The AI will make a simple move. For an uninterrupted experience, try the offline ",A.jsx("span",{className:"font-bold text-white",children:"Local AI"}),"."]}),A.jsx("button",{onClick:me(()=>U(!1)),className:"w-full bg-cyan-500 text-white font-bold py-3 rounded-lg button-glow button-glow-cyan",children:"OK"})]})}),je&&A.jsx(Si,{title:"Start New Game?",onClose:()=>q(!1),children:A.jsxs("div",{className:"text-center space-y-4",children:[A.jsx("p",{className:"text-gray-300",children:"Are you sure? Your current game progress will be lost."}),A.jsxs("div",{className:"flex gap-4 mt-6",children:[A.jsx("button",{onClick:me(()=>q(!1)),className:"w-full py-3 rounded-lg font-bold text-white bg-gray-600 hover:bg-gray-700 transition-all",children:"Cancel"}),A.jsx("button",{onClick:me(()=>{q(!1),$()}),className:"w-full py-3 rounded-lg font-bold text-white bg-orange-500 button-glow button-glow-orange",children:"Confirm"})]})]})}),Re&&A.jsxs("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 bg-orange-900/80 border border-orange-500 text-orange-200 px-4 py-3 rounded-lg shadow-lg flex items-center gap-3 z-50 animate-fade-in-down backdrop-blur-sm",children:[A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),A.jsx("span",{className:"font-semibold",children:Re})]}),A.jsx("style",{children:`
                    @keyframes fade-in-down{from{opacity:0;transform:translate(-50%,-20px)}to{opacity:1;transform:translate(-50%,0)}}
                    .animate-fade-in-down{animation:fade-in-down .5s ease-out forwards}

                    @keyframes celebrate {
                        0% { transform: translateY(0) scale(1); opacity: 1; }
                        100% { transform: translateY(-120vh) scale(0.5); opacity: 0; }
                    }
                    .animate-celebrate {
                        animation-name: celebrate;
                        animation-timing-function: linear;
                        animation-iteration-count: 1;
                        animation-fill-mode: forwards;
                    }
                    @keyframes swirl {
                        from { transform: rotate(0deg); }
                        to { transform: rotate(360deg); }
                    }
                    .animate-swirl {
                        animation: swirl 2s linear infinite;
                    }
                `})]})]})},sS=({onNavigate:r})=>{const[a,l]=ze.useState("Player 1");ze.useEffect(()=>{const p=sessionStorage.getItem("playerName");p&&l(p)},[]);const f=p=>{const u=p.target.value;l(u),sessionStorage.setItem("playerName",u)};return A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-6xl font-magic text-center mb-2 text-purple-400 text-glow-purple tracking-wider",children:"Maze Magic"}),A.jsx("p",{className:"text-gray-400 text-center",children:"A strategic game of wits and walls."})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"playerName",className:"text-lg font-semibold mb-2 text-gray-300 block",children:"Your Name"}),A.jsx("input",{type:"text",id:"playerName",value:a,onChange:f,className:"w-full p-3 rounded-lg bg-black/30 border-2 border-fuchsia-500/50 focus:outline-none focus:ring-2 focus:ring-fuchsia-400 transition",placeholder:"Enter your name"})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsx("button",{onClick:()=>r("local_setup"),className:"p-4 rounded-lg font-bold transition-all bg-cyan-500 text-white shadow-lg button-glow button-glow-cyan",children:"Local Game"}),A.jsx("button",{onClick:()=>r("online_setup"),className:"p-4 rounded-lg font-bold transition-all bg-pink-500 text-white shadow-lg button-glow button-glow-pink",children:"Online Game"})]}),A.jsx("p",{className:"text-xs text-gray-500 text-center pt-2",children:"Version 3.0"})]})},uS=({gameId:r,hasTimeout:a,onCancelSearch:l,onCancelCreateGame:f})=>{const[p,u]=ze.useState(!1),s=!r&&a,c=s?180:300,[o,h]=ze.useState(c),g=r?`${window.location.origin}${window.location.pathname}?join=${r}`:"";ze.useEffect(()=>{if(!a||o<=0)return;const S=setInterval(()=>{h(E=>E-1)},1e3);return()=>clearInterval(S)},[a,o]);const v=async()=>{if(!g)return;en.play(fn.UIClick);const S={title:"Maze Magic Game Invitation",text:"Join my game of Maze Magic! Follow this link to play.",url:g};if(navigator.share&&navigator.canShare(S))try{await navigator.share(S)}catch(E){console.error("Sharing failed:",E)}else navigator.clipboard.writeText(g),u(!0),setTimeout(()=>u(!1),2e3)},_=r?"Waiting for Opponent":"Finding Match...";return A.jsx(Si,{title:_,children:A.jsxs("div",{className:"text-center space-y-4",children:[A.jsx("div",{className:"w-24 h-24 mx-auto",children:A.jsxs("svg",{viewBox:"0 0 100 100",className:"animate-swirl",children:[A.jsx("defs",{children:A.jsxs("linearGradient",{id:"swirl-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[A.jsx("stop",{offset:"0%",stopColor:"var(--glow-cyan)"}),A.jsx("stop",{offset:"100%",stopColor:"var(--glow-purple)"})]})}),A.jsx("path",{d:"M 50,50 m -40,0 a 40,40 0 1,0 80,0 a 40,40 0 1,0 -80,0",fill:"none",stroke:"url(#swirl-gradient)",strokeWidth:"6",strokeLinecap:"round",strokeDasharray:"150 251.2"}),A.jsx("path",{d:"M 50,50 m -25,0 a 25,25 0 1,0 50,0 a 25,25 0 1,0 -50,0",fill:"none",stroke:"url(#swirl-gradient)",strokeWidth:"4",strokeLinecap:"round",strokeDasharray:"80 157",strokeDashoffset:"50"})]})}),s?A.jsx("p",{className:"text-gray-300",children:"Searching for another player. This may take a moment."}):A.jsx("p",{className:"text-gray-300",children:"Share this link with a friend to invite them."}),r&&A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsx("input",{type:"text",readOnly:!0,value:g,className:"w-full p-2 rounded-lg bg-black/30 border border-fuchsia-500/50 text-sm"}),A.jsx("button",{onClick:v,className:"p-2 rounded-lg bg-cyan-500 text-white font-bold button-glow button-glow-cyan text-sm w-24",children:p?"Copied!":"Share"})]}),a&&o>0&&A.jsxs("p",{className:"text-sm text-gray-400",children:[s?"Search will time out in":"Game will expire in",": ",A.jsx("span",{className:"font-bold",children:$h(o)})]}),(s&&l||r&&f)&&A.jsx("button",{onClick:s?l:f,className:"w-full mt-2 py-2 rounded-lg font-bold text-white bg-orange-500 button-glow button-glow-orange",children:s?"Cancel Search":"Cancel Game"})]})})},_i=({active:r,onClick:a,children:l,color:f})=>{const u=r?`${{cyan:"bg-cyan-500 button-glow-cyan",pink:"bg-pink-500 button-glow-pink",fuchsia:"bg-fuchsia-500 button-glow-purple",dark:"bg-gray-800 button-glow-purple"}[f]} text-white scale-105`:"bg-black/30 hover:bg-black/50 text-gray-300";return A.jsx("button",{onClick:a,className:`w-full p-3 rounded-lg font-bold transition-all button-glow ${u}`,children:l})},cS=r=>{const[a,l]=ze.useState(yt.PVC),[f,p]=ze.useState(In.MEDIUM),[u,s]=ze.useState(vn.CENTER),[c,o]=ze.useState(60),[h,g]=ze.useState(10),v=30,_=S=>(...E)=>{en.play(fn.UIClick),S(...E)};return ze.useEffect(()=>{c<v&&o(v)},[c,v]),A.jsxs("div",{className:"space-y-4 animate-fade-in-down",children:[A.jsx(Mb,{onClick:r.onBack}),A.jsx("h2",{className:"text-2xl font-bold text-center text-white pt-8",children:"Local Game Setup"}),A.jsxs("div",{className:"flex gap-4",children:[A.jsx(_i,{active:a===yt.PVP,onClick:_(()=>l(yt.PVP)),color:"cyan",children:"Player vs Player"}),A.jsx(_i,{active:a===yt.PVC,onClick:_(()=>l(yt.PVC)),color:"pink",children:"Player vs AI"})]}),a===yt.PVC&&A.jsxs("div",{className:"space-y-4 p-4 bg-black/20 rounded-lg",children:[A.jsxs("div",{children:[A.jsx("h3",{className:"font-semibold text-gray-300 mb-2",children:"AI Type"}),A.jsxs("div",{className:"flex gap-4",children:[A.jsx(_i,{active:!0,onClick:()=>{},color:"dark",children:"Local (Offline)"}),A.jsx(_i,{active:!1,onClick:()=>r.setShowComingSoon(!0),color:"fuchsia",children:"Gemini AI"})]})]}),A.jsxs("div",{children:[A.jsx("h3",{className:"font-semibold text-gray-300 mb-2",children:"AI Difficulty"}),A.jsx("div",{className:"grid grid-cols-3 gap-2",children:Object.values(In).map(S=>A.jsx("button",{onClick:_(()=>p(S)),className:`p-2 rounded-lg font-semibold transition-all text-sm ${f===S?"bg-fuchsia-500 button-glow-purple text-white":"bg-black/30 hover:bg-black/50 text-gray-300"}`,children:S},S))})]})]}),A.jsxs("div",{children:[A.jsx("h3",{className:"font-semibold text-gray-300 mb-2",children:"Starting Position"}),A.jsxs("div",{className:"flex gap-4",children:[A.jsx(_i,{active:u===vn.CENTER,onClick:_(()=>s(vn.CENTER)),color:"cyan",children:"Center"}),A.jsx(_i,{active:u===vn.RANDOM,onClick:_(()=>s(vn.RANDOM)),color:"pink",children:"Random"})]})]}),A.jsxs("div",{children:[A.jsxs("label",{htmlFor:"walls",className:"font-semibold text-gray-300 block mb-1",children:["Number of Walls: ",A.jsx("span",{className:"font-bold text-cyan-400",children:h})]}),A.jsx("input",{type:"range",id:"walls",value:h,min:"5",max:"15",step:"1",onChange:S=>g(Number(S.target.value)),className:"w-full"})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"turnTime",className:"font-semibold text-gray-300 block mb-2",children:"Time Per Move (seconds)"}),A.jsx("input",{type:"number",id:"turnTime",value:c,min:v,step:"15",onChange:S=>o(Math.max(v,Number(S.target.value))),className:"w-full p-3 rounded-lg bg-black/30 border border-fuchsia-500/50"}),A.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Minimum: ",v," seconds."]})]}),A.jsx("button",{onClick:()=>r.onStartGame(a,f,r.playerName,Xi.LOCAL,c,u,h),className:"w-full bg-green-500 text-white font-bold py-4 rounded-lg button-glow button-glow-green text-xl",children:"Start Game"})]})},fS=r=>{const[a,l]=ze.useState(""),[f,p]=ze.useState(vn.CENTER),[u,s]=ze.useState(60),[c,o]=ze.useState(10),h=g=>(...v)=>{en.play(fn.UIClick),g(...v)};return A.jsxs("div",{className:"space-y-4 animate-fade-in-down",children:[A.jsx(Mb,{onClick:r.onBack}),A.jsx("h2",{className:"text-2xl font-bold text-center text-white pt-8",children:"Online Multiplayer"}),A.jsxs("div",{className:"p-4 bg-black/20 rounded-lg space-y-3",children:[A.jsx("h3",{className:"font-semibold text-gray-300 mb-2",children:"Game Options"}),A.jsxs("label",{htmlFor:"turnTimeOnline",className:"text-gray-300 block",children:["Time Per Move: ",u,"s"]}),A.jsx("input",{type:"range",id:"turnTimeOnline",value:u,min:"30",max:"120",step:"15",onChange:g=>s(Number(g.target.value)),className:"w-full"}),A.jsxs("label",{htmlFor:"wallsOnline",className:"text-gray-300 block",children:["Number of Walls: ",A.jsx("span",{className:"font-bold text-cyan-400",children:c})]}),A.jsx("input",{type:"range",id:"wallsOnline",value:c,min:"5",max:"15",step:"1",onChange:g=>o(Number(g.target.value)),className:"w-full"}),A.jsxs("div",{className:"flex gap-4 pt-2",children:[A.jsx(_i,{active:f===vn.CENTER,onClick:h(()=>p(vn.CENTER)),color:"cyan",children:"Center Start"}),A.jsx(_i,{active:f===vn.RANDOM,onClick:h(()=>p(vn.RANDOM)),color:"pink",children:"Random Start"})]})]}),A.jsxs("div",{className:"space-y-4 pt-4 border-t border-fuchsia-500/30",children:[A.jsx("button",{onClick:()=>r.onFindMatch(r.playerName,u,f,c),className:"w-full bg-fuchsia-500 text-white font-bold py-3 rounded-lg button-glow button-glow-purple",children:"Find Random Match"}),A.jsx("div",{className:"text-center text-gray-400",children:"OR"}),A.jsx("button",{onClick:()=>r.onCreateGame(r.playerName,u,f,c),className:"w-full bg-green-500 text-white font-bold py-3 rounded-lg button-glow button-glow-green",children:"Create Private Game"}),A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsx("input",{type:"text",value:a,onChange:g=>l(g.target.value),className:"w-full p-3 rounded-lg bg-black/30 border border-fuchsia-500/50",placeholder:"Paste Game ID"}),A.jsx("button",{onClick:()=>r.onJoinGame(a,r.playerName),disabled:!a,className:"p-3 rounded-lg bg-cyan-500 text-white font-bold button-glow button-glow-cyan disabled:opacity-50",children:"Join"})]})]})]})},hS=({gameId:r,initialPlayerName:a,onJoin:l,onCancel:f})=>{const[p,u]=ze.useState(a);ze.useEffect(()=>{u(a)},[a]);const s=()=>{p.trim()&&l(r,p.trim())},c=o=>(...h)=>{en.play(fn.UIClick),o(...h)};return A.jsx("div",{className:"fixed inset-0 bg-gradient-to-b from-[var(--dark-bg-start)] to-[var(--dark-bg-end)] flex items-center justify-center p-4",children:A.jsx(Si,{title:"Join Private Game",onClose:f,children:A.jsxs("div",{className:"space-y-6 text-center",children:[A.jsx("p",{className:"text-gray-300",children:"You've been invited to a game!"}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"joinPlayerName",className:"text-lg font-semibold mb-2 text-gray-300 block",children:"Your Name"}),A.jsx("input",{type:"text",id:"joinPlayerName",value:p,onChange:o=>u(o.target.value),className:"w-full p-3 rounded-lg bg-black/30 border-2 border-fuchsia-500/50 focus:outline-none focus:ring-2 focus:ring-fuchsia-400 transition",placeholder:"Enter your name"})]}),A.jsxs("div",{className:"flex flex-col gap-4",children:[A.jsx("button",{onClick:c(s),className:"w-full bg-green-500 text-white font-bold py-3 rounded-lg button-glow button-glow-green",children:"Join Game"}),A.jsx("button",{onClick:c(f),className:"w-full bg-orange-500 text-white font-bold py-3 rounded-lg button-glow button-glow-orange",children:"Cancel"})]})]})})})};"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./service-worker.js").then(a=>{console.log("ServiceWorker registration successful with scope: ",a.scope)}).catch(a=>{console.log("ServiceWorker registration failed: ",a)})});const Ob=document.getElementById("root");if(!Ob)throw new Error("Could not find root element to mount to");const dS=K1.createRoot(Ob);dS.render(A.jsx(P1.StrictMode,{children:A.jsx(oS,{})}));
